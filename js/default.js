BasicGame.$e=function(){};
BasicGame.$e.prototype={create:function(){this.hj;this.end;this.Gd;this.Ji;this.Bc;this.ac;this.yf;this.Ij;this.speed=0;this.Mf;this.Vf;this.pf;this.Sf;this.Jd;this.aa=this.acceleration=this.nf=this.Cc=this.Y=0;this.Ac=0.1;this.Of=this.Sd=this.startTime=0;this.Ia;this.$f=0;this.Id=[9,14,18,24,27];this.aj=[1.75,1.5,1,0.6,0.2];this.Ji=this.c.add.bi(0,0,800,300,"air");this.hj=this.c.add.bi(0,236,800,300,"land");this.Bc=this.c.add.d(0,268,"hourse");this.ac=this.c.add.d(0,236,"hourse2");this.end=this.c.add.d(784,
268,"end");this.Gd=this.c.add.d(784,236,"end");this.Ij=this.c.input.jc.$c(Phaser.i.Kp);this.Mf=this.c.input.jc.$c(Phaser.i.li);this.Vf=this.c.input.jc.$c(Phaser.i.pi);this.pf=this.c.input.jc.$c(Phaser.i.hi);this.Sf=this.c.add.text(96,32,"Speed: 0",{font:"18px Arial",fill:"#ffffff",align:"center"});this.Of=this.c.add.text(304,64,"",{font:"64px Arial",fill:"#FFFF00",align:"center"});this.Jd=this.c.add.text(364,32,"Gear: 1",{font:"18px Arial",fill:"#ffffff",align:"center"});this.Ia=this.c.add.text(562,
32,"",{font:"18px Arial",fill:"#FF0000",align:"center"});this.Sd=this.c.add.pg("win",1,!0)},update:function(){this.c.Qb.th(this.Bc,this.end,this.Oi,null,this);this.c.Qb.th(this.ac,this.Gd,this.Pi,null,this);this.c.time.now>this.nf&&(0!=this.startTime&&(this.ac.x+=10),0<this.speed&&(this.speed=0>this.speed-this.Ac?0:this.speed-this.Ac),this.Mf.P||this.c.input.Kc.P?(0==this.startTime&&(this.startTime=this.c.time.now),this.speed<=this.Id[this.Y]?(this.acceleration=this.aj[this.Y],this.speed+=this.acceleration,
this.aa+=this.speed):this.speed>this.Id[this.Y]?(this.speed=this.Id[this.Y],this.acceleration=0,this.aa+=this.speed,4!=this.Y&&(this.Ia.content="UP TO SHIFT")):(this.acceleration=this.speed+this.Ac,this.speed+=this.Ac,this.aa+=this.acceleration)):(this.acceleration=this.speed,this.aa+=this.acceleration),this.Bc.x=this.aa/2,this.Sf.content="Speed: "+Number(this.speed).toFixed(1),this.nf=this.c.time.now+100);this.Vf.P&&this.c.time.now>this.Cc&&(this.Ia.content="",console.log("what"),4>this.Y&&(this.Y+=
1,this.Jd.content="Gear: "+(this.Y+1),this.Cc=this.c.time.now+500));this.pf.P&&this.c.time.now>this.Cc&&(this.Ia.content="SPEED LOWERED",0<this.Y&&(this.Y-=1,this.Jd.content="Gear: "+(this.Y+1),this.Cc=this.c.time.now+500))},Aj:function(){this.c.state.start("MainMenu",!0,!0)},Oi:function(){this.Of.content="Score:\n"+Number((this.c.time.now-this.startTime)/1E3).toFixed(1);1==this.$f?this.Ia.content="You Lost":(this.Ie=this.Ia.font,this.Ie.fill="#00FF00",this.Ia.Og(this.Ie),this.Ia.content="You Win");
this.end.kc();this.Bc.kc();this.speed=0;this.add.button(50,75,"reward",this.Aj,this);this.yf=this.c.add.d(768,268,"launch");this.Sd.play("",0,1,!1)},Pi:function(){this.$f=1;this.yf=this.c.add.d(768,232,"launch");this.Sd.play("",0,1,!1);this.ac.kc();this.Gd.kc()}};BasicGame={Ep:function(){}};BasicGame.Ep.prototype={Zl:function(){this.load.ta("preloaderBackground","images/loading_secure.png");this.load.ta("preloaderBar","images/loading.png")},create:function(){this.c.input.Do=1;this.c.q.il=!0;this.c.Ha.gl?this.c.q.scale.Po=!0:(this.c.q.tb=Phaser.gb.SHOW_ALL,this.c.q.scale.minWidth=270,this.c.q.scale.minHeight=100,this.c.q.scale.maxWidth=800,this.c.q.scale.maxHeight=300,this.c.q.scale.$n=!0,this.c.q.scale.Po=!0,this.c.q.scale.kp(!0));this.c.state.start("Preloader")}};BasicGame.Xk=function(){};BasicGame.Xk.prototype={create:function(){this.add.d(0,0,"black");this.add.button(50,200,"playButton",this.qp,this);this.add.button(475,25,"oran",this.Gy,this);this.add.button(175,25,"straw",this.Iy,this)},qp:function(){this.c.state.start("Game")},Gy:function(){this.c.state.start("Car")},Iy:function(){this.c.state.start("Spaceship")}};BasicGame.Fp=function(){};
BasicGame.Fp.prototype={create:function(){this.hj;this.end;this.Gd;this.Ji;this.Bc;this.ac;this.yf;this.Ij;this.speed=0;this.Mf;this.Vf;this.pf;this.Sf;this.Jd;this.aa=this.acceleration=this.nf=this.Cc=this.Y=0;this.Ac=0.1;this.Of=this.Sd=this.startTime=0;this.Ia;this.$f=0;this.Id=[30,45,50,70,90];this.aj=[4,3,2,1,0.75];this.Ji=this.c.add.bi(0,0,800,300,"air");this.hj=this.c.add.bi(0,236,800,300,"land");this.Bc=this.c.add.d(0,270,"car");this.ac=this.c.add.d(0,236,"hourse2");this.end=this.c.add.d(784,
268,"end");this.Gd=this.c.add.d(784,236,"end");this.Ij=this.c.input.jc.$c(Phaser.i.Dm);this.Mf=this.c.input.jc.$c(Phaser.i.li);this.Vf=this.c.input.jc.$c(Phaser.i.pi);this.pf=this.c.input.jc.$c(Phaser.i.hi);this.Sf=this.c.add.text(96,32,"Speed: 0",{font:"18px Arial",fill:"#ffffff",align:"center"});this.Of=this.c.add.text(304,64,"",{font:"64px Arial",fill:"#FFFF00",align:"center"});this.Jd=this.c.add.text(364,32,"Gear: 1",{font:"18px Arial",fill:"#ffffff",align:"center"});this.Ia=this.c.add.text(562,
32,"",{font:"18px Arial",fill:"#FF0000",align:"center"});this.Sd=this.c.add.pg("win",1,!0)},update:function(){this.c.Qb.th(this.Bc,this.end,this.Oi,null,this);this.c.Qb.th(this.ac,this.Gd,this.Pi,null,this);this.c.time.now>this.nf&&(0!=this.startTime&&(this.ac.x+=9),0<this.speed&&(this.speed=0>this.speed-this.Ac?0:this.speed-this.Ac),this.Mf.P||this.c.input.Kc.P?(0==this.startTime&&(this.startTime=this.c.time.now),this.speed<this.Id[this.Y]?(this.speed=this.acceleration=this.speed+this.aj[this.Y],
this.aa+=this.acceleration):this.speed>this.Id[this.Y]?(this.acceleration=this.speed=this.Id[this.Y],this.aa+=this.acceleration,4!=this.Y&&(this.Ia.content="UP TO SHIFT")):(this.acceleration=this.speed+this.Ac,this.speed+=this.Ac,this.aa+=this.acceleration)):(this.acceleration=this.speed,this.aa+=this.acceleration),this.Bc.x=this.aa/2,this.Sf.content="Speed: "+Number(this.speed).toFixed(1),this.nf=this.c.time.now+100);this.Vf.P&&this.c.time.now>this.Cc&&(this.Ia.content="",console.log("what"),4>this.Y&&
(this.Y+=1,this.Jd.content="Gear: "+(this.Y+1),this.Cc=this.c.time.now+500));this.pf.P&&this.c.time.now>this.Cc&&(this.Ia.content="SPEED LOWERED",0<this.Y&&(this.Y-=1,this.Jd.content="Gear: "+(this.Y+1),this.Cc=this.c.time.now+500))},Aj:function(){this.c.state.start("MainMenu",!0,!0)},Oi:function(){this.Of.content="Score:\n"+Number((this.c.time.now-this.startTime)/1E3).toFixed(1);1==this.$f?this.Ia.content="You Lost":(this.Ie=this.Ia.font,this.Ie.fill="#00FF00",this.Ia.Og(this.Ie),this.Ia.content=
"You Win");this.end.kc();this.Bc.kc();this.speed=0;this.add.button(50,75,"reward",this.Aj,this);this.yf=this.c.add.d(768,268,"launch");this.Sd.play("",0,1,!1)},Pi:function(){this.$f=1;this.yf=this.c.add.d(768,232,"launch");this.Sd.play("",0,1,!1);this.ac.kc();this.Gd.kc()}};BasicGame.Gp=function(){};
BasicGame.Gp.prototype={create:function(){this.Tf;this.add.d(0,0,"titlepage");this.fo=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h1");this.ho=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h2");this.io=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h3");this.jo=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h4");this.ko=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h5");this.lo=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h6");this.mo=this.c.add.d(this.c.s.Vh,this.c.s.Wh,"h7");this.Dg=[this.fo,this.ho,this.io,this.jo,this.ko,this.lo,this.mo];
this.c.time.m.loop(2.5*Phaser.oc.uu,this.move,this);this.add.button(50,200,"playButton",this.qp,this);this.add.button(590,50,"bearButton",this.Xk,this)},move:function(){for(var e=0;7>e;e++)this.Dg[e].anchor.Q(0.5,1),this.Tf=100*Math.random()-100*Math.random(),25<this.Dg[e].x+this.Tf<775&&(this.Dg[e].scale.x=0>this.Tf?-1:1,this.Dg[e].body.n.x=this.Tf),this.Tf=100*Math.random()-100*Math.random(),25<this.Dg[e].y+this.Tf<275&&(this.Dg[e].scale.y=0>this.Tf?-1:1,this.Dg[e].body.n.y=this.Tf)},Xk:function(){this.ho.N();
this.io.N();this.jo.N();this.fo.N();this.ko.N();this.lo.N();this.mo.N();this.c.state.start("bearBuilding",!0,!0)},qp:function(){this.ho.N();this.io.N();this.jo.N();this.fo.N();this.ko.N();this.lo.N();this.mo.N();this.c.state.start("Game",!0,!0)}};BasicGame.Hp=function(){this.To=this.background=null;this.ot=!1};
BasicGame.Hp.prototype={Zl:function(){this.background=this.add.d(0,0,"preloaderBackground");this.To=this.add.d(0,0,"preloaderBar");this.load.uy(this.To);this.load.ta("titlepage","images/hourseRaces.png");this.load.ta("black","images/black.png");this.load.ta("bearButton","images/building.png");this.load.ta("playButton","images/linux_start.png");this.load.ta("launch","images/fire.png");this.load.ta("land","images/land.png");this.load.ta("air","images/air.png");this.load.ta("reward","images/reward.png");
this.load.ta("hourse","images/hourse.png");this.load.ta("h1","images/h1.png");this.load.ta("h2","images/h2.png");this.load.ta("h3","images/h3.png");this.load.ta("h4","images/h4.png");this.load.ta("h5","images/h5.png");this.load.ta("h6","images/h6.png");this.load.ta("h7","images/h7.png");this.load.ta("hourse2","images/hourse2.png");this.load.ta("car","images/car.png");this.load.ta("oran","images/oran.png");this.load.ta("straw","images/straw.png");this.load.ta("spaceship","images/spaceship.png");this.load.ta("end",
"images/end1.png");this.load.pg("win","images/winner.ogg");this.load.pg("titleMusic","images/Voyage.ogg")},create:function(){this.To.Nn=!1},update:function(){this.K.Hl("titleMusic")&&!1==this.ot&&(this.ot=!0,this.hx=this.add.pg("titleMusic",1,!0),this.hx.play("",0,1,!0),this.c.state.start("MainMenu"))}};BasicGame.Lp=function(){};
BasicGame.Lp.prototype={create:function(){this.hj;this.end;this.Gd;this.Ji;this.Bc;this.ac;this.yf;this.Ij;this.speed=0;this.Mf;this.Vf;this.pf;this.Sf;this.Jd;this.acceleration=this.nf=this.Cc=this.Y=0;this.aa=-188;this.Ac=0.1;this.Of=this.Sd=this.startTime=0;this.Ia;this.$f=0;this.Id=[30,50,75,100,125];this.aj=[10,7,5,3,1];this.Ji=this.c.add.bi(0,0,800,300,"air");this.hj=this.c.add.bi(0,236,800,300,"land");this.Bc=this.c.add.d(500,240,"spaceship");this.ac=this.c.add.d(0,236,"hourse2");this.end=
this.c.add.d(784,268,"end");this.Gd=this.c.add.d(784,236,"end");this.Ij=this.c.input.jc.$c(Phaser.i.Kp);this.Mf=this.c.input.jc.$c(Phaser.i.li);this.Vf=this.c.input.jc.$c(Phaser.i.pi);this.pf=this.c.input.jc.$c(Phaser.i.hi);this.Sf=this.c.add.text(96,32,"Speed: 0",{font:"18px Arial",fill:"#ffffff",align:"center"});this.Of=this.c.add.text(304,64,"",{font:"64px Arial",fill:"#FFFF00",align:"center"});this.Jd=this.c.add.text(364,32,"Gear: 1",{font:"18px Arial",fill:"#ffffff",align:"center"});this.Ia=
this.c.add.text(562,32,"",{font:"18px Arial",fill:"#FF0000",align:"center"});this.Sd=this.c.add.pg("win",1,!0)},update:function(){this.c.Qb.th(this.Bc,this.end,this.Oi,null,this);this.c.Qb.th(this.ac,this.Gd,this.Pi,null,this);this.c.time.now>this.nf&&(0!=this.startTime&&(this.ac.x+=9),0<this.speed&&(this.speed=0>this.speed-this.Ac?0:this.speed-this.Ac),this.Mf.P||this.c.input.Kc.P?(0==this.startTime&&(this.startTime=this.c.time.now),this.speed<this.Id[this.Y]?(this.speed=this.acceleration=this.speed+
this.aj[this.Y],this.aa+=this.acceleration):this.speed>this.Id[this.Y]?(this.acceleration=this.speed=this.Id[this.Y],this.aa+=this.acceleration,4!=this.Y&&(this.Ia.content="UP TO SHIFT")):(this.acceleration=this.speed+this.Ac,this.speed+=this.Ac,this.aa+=this.acceleration)):(this.acceleration=this.speed,this.aa+=this.acceleration),this.Bc.x=this.aa/2,this.Sf.content="Speed: "+Number(this.speed).toFixed(1),this.nf=this.c.time.now+100);this.Vf.P&&this.c.time.now>this.Cc&&(this.Ia.content="",console.log("what"),
4>this.Y&&(this.Y+=1,this.Jd.content="Gear: "+(this.Y+1),this.Cc=this.c.time.now+500));this.pf.P&&this.c.time.now>this.Cc&&(this.Ia.content="SPEED LOWERED",0<this.Y&&(this.Y-=1,this.Jd.content="Gear: "+(this.Y+1),this.Cc=this.c.time.now+500))},Aj:function(){this.c.state.start("MainMenu",!0,!0)},Oi:function(){this.Of.content="Score:\n"+Number((this.c.time.now-this.startTime)/1E3).toFixed(1);1==this.$f?this.Ia.content="You Lost":(this.Ie=this.Ia.font,this.Ie.fill="#00FF00",this.Ia.Og(this.Ie),this.Ia.content=
"You Win");this.end.kc();this.Bc.kc();this.speed=0;this.yf=this.c.add.d(768,268,"launch");this.Sd.play("",0,1,!1);this.add.button(50,75,"reward",this.Aj,this)},Pi:function(){this.$f=1;this.yf=this.c.add.d(768,232,"launch");this.Sd.play("",0,1,!1);this.ac.kc();this.Gd.kc()}};/*
 SAT.js - Version 0.2 - Copyright 2013 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js     2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 © 2012 Timo Hausmann

 Permission is hereby granted, free of charge, to any person obtaining
 a copy of this software and associated documentation files (the
 "Software"), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to
 permit persons to whom the Software is furnished to do so, subject to
 the following conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
    2014 Photon Storm Ltd.
 @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
*/
function H(){var e=e||{},c=c||{VERSION:"1.1.6",iu:"1.1.6",Am:[],fi:0,gi:1,Ak:2,Cm:3,Xg:0,cu:1,Gz:2,ju:3,vu:4,Zg:5,bu:6,Ze:7,su:8,YB:9,ni:10,ag:11,Ug:12,au:13,Zz:14,yu:15,NONE:0,Dm:1,li:2,pi:3,hi:4,eu:!1,du:!0};e.lu=function(){};c.uc={Bt:function(a){for(var b=a.length-1;0<b;b--){var d=Math.floor(Math.random()*(b+1)),l=a[b];a[b]=a[d];a[d]=l}return a},Ss:function(a,b,d,l){"undefined"==typeof b&&(b=0);"undefined"==typeof d&&(d=" ");"undefined"==typeof l&&(l=3);var c=0;if(b+1>=a.length)switch(l){case 1:a=
Array(b+1-a.length).join(d)+a;break;case 3:b=Math.ceil((c=b-a.length)/2);a=Array(c-b+1).join(d)+a+Array(b+1).join(d);break;default:a+=Array(b+1-a.length).join(d)}return a},bs:function(a){if("object"!==typeof a||a.nodeType||a===a.window)return!1;try{if(a.constructor&&!hasOwn.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},extend:function(){var a,b,d,l,g,e=arguments[0]||{},h=1,k=arguments.length,m=!1;"boolean"===typeof e&&(m=e,e=arguments[1]||{},h=2);k===h&&(e=this,
--h);for(;h<k;h++)if(null!=(a=arguments[h]))for(b in a)d=e[b],l=a[b],e!==l&&(m&&l&&(c.uc.bs(l)||(g=Array.isArray(l)))?(g?(g=!1,d=d&&Array.isArray(d)?d:[]):d=d&&c.uc.bs(d)?d:{},e[b]=c.uc.extend(m,d,l)):void 0!==l&&(e[b]=l));return e}};e.dj=function(a){return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(){var a=Array.prototype.slice;return function(b){function d(){var e=c.concat(a.call(arguments));l.apply(this instanceof d?
this:b,e)}var l=this,c=a.call(arguments,1);if("function"!=typeof l)throw new TypeError;d.prototype=function h(a){a&&(h.prototype=a);if(!(this instanceof h))return new h}(l.prototype);return d}}());Array.isArray||(Array.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)});e.lk="undefined"!==typeof Float32Array?Float32Array:Array;e.wb={};e.wb.create=function(){var a=new e.lk(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};e.wb.wD=function(a){a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};e.kj={};e.kj.create=function(){var a=new e.lk(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};e.wb.multiply=function(a,b,d){d||(d=a);var l=a[0],c=a[1],e=a[2],h=a[3],k=a[4],m=a[5],n=a[6],p=a[7];a=a[8];var r=b[0],q=b[1],s=b[2],w=b[3],t=b[4],z=b[5],y=b[6],u=b[7];b=b[8];d[0]=r*l+q*h+s*n;d[1]=r*c+q*k+s*p;d[2]=r*e+q*m+s*a;d[3]=w*l+t*h+z*n;d[4]=w*c+t*k+z*
p;d[5]=w*e+t*m+z*a;d[6]=y*l+u*h+b*n;d[7]=y*c+u*k+b*p;d[8]=y*e+u*m+b*a;return d};e.wb.Dd=function(a){var b=new e.lk(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b};e.wb.tm=function(a,b){if(!b||a===b){var d=a[1],l=a[2],c=a[5];a[1]=a[3];a[2]=a[6];a[3]=d;a[5]=a[7];a[6]=l;a[7]=c;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b};e.wb.tE=function(a,b){b||(b=e.kj.create());b[15]=1;b[14]=0;b[13]=
0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b};e.kj.create=function(){var a=new e.lk(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};e.kj.tm=function(a,b){if(!b||a===b){var d=a[1],l=a[2],c=a[3],e=a[6],h=a[7],k=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=d;a[6]=a[9];a[7]=a[13];a[8]=l;a[9]=e;a[11]=a[14];a[12]=c;a[13]=h;a[14]=k;return a}b[0]=
a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b};e.kj.multiply=function(a,b,d){d||(d=a);var l=a[0],c=a[1],e=a[2],h=a[3],k=a[4],m=a[5],n=a[6],p=a[7],r=a[8],q=a[9],s=a[10],w=a[11],t=a[12],z=a[13],y=a[14];a=a[15];var u=b[0],v=b[1],A=b[2],B=b[3];d[0]=u*l+v*k+A*r+B*t;d[1]=u*c+v*m+A*q+B*z;d[2]=u*e+v*n+A*s+B*y;d[3]=u*h+v*p+A*w+B*a;u=b[4];v=b[5];A=b[6];B=b[7];d[4]=u*l+v*k+A*r+B*
t;d[5]=u*c+v*m+A*q+B*z;d[6]=u*e+v*n+A*s+B*y;d[7]=u*h+v*p+A*w+B*a;u=b[8];v=b[9];A=b[10];B=b[11];d[8]=u*l+v*k+A*r+B*t;d[9]=u*c+v*m+A*q+B*z;d[10]=u*e+v*n+A*s+B*y;d[11]=u*h+v*p+A*w+B*a;u=b[12];v=b[13];A=b[14];B=b[15];d[12]=u*l+v*k+A*r+B*t;d[13]=u*c+v*m+A*q+B*z;d[14]=u*e+v*n+A*s+B*y;d[15]=u*h+v*p+A*w+B*a;return d};e.p=function(a,b){this.x=a||0;this.y=b||0};e.p.prototype.Dd=function(){return new e.p(this.x,this.y)};e.p.prototype.constructor=e.p;e.u=function(a,b,d,l){this.x=a||0;this.y=b||0;this.width=d||
0;this.height=l||0};e.u.prototype.Dd=function(){return new e.u(this.x,this.y,this.width,this.height)};e.u.prototype.contains=function(a,b){if(0>=this.width||0>=this.height)return!1;var d=this.x;return a>=d&&a<=d+this.width&&(d=this.y,b>=d&&b<=d+this.height)?!0:!1};e.u.prototype.constructor=e.u;e.ud=function(a){a instanceof Array||(a=Array.prototype.slice.call(arguments));if("number"===typeof a[0]){for(var b=[],d=0,l=a.length;d<l;d+=2)b.push(new e.p(a[d],a[d+1]));a=b}this.ba=a};e.ud.prototype.Dd=function(){for(var a=
[],b=0;b<this.ba.length;b++)a.push(this.ba[b].Dd());return new e.ud(a)};e.ud.prototype.contains=function(a,b){for(var d=!1,l=0,c=this.ba.length-1;l<this.ba.length;c=l++){var e=this.ba[l].x,h=this.ba[l].y,k=this.ba[c].x,c=this.ba[c].y;h>b!==c>b&&a<(k-e)*(b-h)/(c-h)+e&&(d=!d)}return d};e.ud.prototype.constructor=e.ud;e.Gc=function(){this.G=this;this.first=this;this.position=new e.p;this.scale=new e.p(1,1);this.Th=new e.p(0,0);this.rotation=0;this.alpha=1;this.visible=!0;this.Iw=null;this.Ma=!1;this.q=
this.parent=null;this.cb=1;this.$p=!1;this.t=e.wb.create();this.ax=e.wb.create();this.color=[];this.nn=0;this.Mm=1;this.ce=new e.u(0,0,1,1)};e.Gc.prototype.constructor=e.Gc;Object.defineProperty(e.Gc.prototype,"interactive",{get:function(){return this.$p},set:function(a){this.$p=a;this.q&&(this.q.I=!0)}});Object.defineProperty(e.Gc.prototype,"mask",{get:function(){return this.hg},set:function(a){a?this.hg?(a.start=this.hg.start,a.end=this.hg.end):(this.Aq(a),a.Ma=!1):(this.ep(this.hg),this.hg.Ma=
!0);this.hg=a}});Object.defineProperty(e.Gc.prototype,"filters",{get:function(){return this.dh},set:function(a){if(a){this.dh&&this.ep(this.dh);this.Aq(a);for(var b=[],d=0;d<a.length;d++)for(var l=a[d].Vs,c=0;c<l.length;c++)b.push(l[c]);a.start.zh=b}else this.dh&&this.ep(this.dh);this.dh=a}});e.Gc.prototype.Aq=function(a){var b=new e.ji,d=new e.ji;a.start=b;a.end=d;b.data=a;d.data=a;b.first=b.G=this;d.first=d.G=this;b.open=!0;b.target=this;var l=a=b,c,f;(f=this.first.ma)?(c=f.l,a.ma=f,f.l=a):c=this;
c&&(c.ma=l,l.l=c);l=a=d;f=this.G;if(c=f.l)c.ma=l,l.l=c;a.ma=f;f.l=a;a=this;for(l=this.G;a;)a.G===l&&(a.G=d),a=a.parent;this.first=b;this.ja&&this.ja.dv(b,d)};e.Gc.prototype.ep=function(a){var b=a.start,d=b.l,l=b.ma;d&&(d.ma=l);l&&(l.l=d);this.first=b.l;a=a.end;d=a.l;l=a.ma;d&&(d.ma=l);l.l=d;d=a.ma;for(l=this;l.G===a&&(l.G=d,l=l.parent,l););this.ja&&this.ja.jy(b,a)};e.Gc.prototype.Oa=function(){this.rotation!==this.ny&&(this.ny=this.rotation,this.nn=Math.sin(this.rotation),this.Mm=Math.cos(this.rotation));
var a=this.ax,b=this.parent.t,d=this.t;a[0]=this.Mm*this.scale.x;a[1]=-this.nn*this.scale.y;a[3]=this.nn*this.scale.x;a[4]=this.Mm*this.scale.y;var l=this.Th.x,c=this.Th.y,f=a[0],h=a[1],k=this.position.x-a[0]*l-c*a[1],m=a[3],n=a[4],l=this.position.y-a[4]*c-l*a[3],c=b[0],p=b[1],r=b[2],q=b[3],s=b[4],b=b[5];a[2]=k;a[5]=l;d[0]=c*f+p*m;d[1]=c*h+p*n;d[2]=c*k+p*l+r;d[3]=q*f+s*m;d[4]=q*h+s*n;d[5]=q*k+s*l+b;this.cb=this.alpha*this.parent.cb;this.di=e.rd};e.rd=0;e.Pa=function(){e.Gc.call(this);this.children=
[]};e.Pa.prototype=Object.create(e.Gc.prototype);e.Pa.prototype.constructor=e.Pa;e.Pa.prototype.og=function(a){a.parent&&a.parent!==this&&a.parent.removeChild(a);a.parent=this;this.children.push(a);if(this.q){var b=a;do b.Fg&&(this.q.I=!0),b.q=this.q,b=b.l;while(b)}var b=a.first,d=a.G,c,e;e=this.dh||this.hg?this.G.ma:this.G;c=e.l;for(var f=this;f;)f.G===e&&(f.G=a.G),f=f.parent;c&&(c.ma=d,d.l=c);b.ma=e;e.l=b;this.ja&&(a.ja&&a.ja.Bj(a),this.ja.vn(a))};e.Pa.prototype.bv=function(a,b){if(0<=b&&b<=this.children.length){void 0!==
a.parent&&a.parent.removeChild(a);a.parent=this;if(this.q){var d=a;do d.Fg&&(this.q.I=!0),d.q=this.q,d=d.l;while(d)}var d=a.first,c=a.G,e,f;if(b===this.children.length){f=this.G;e=this;for(var h=this.G;e;)e.G===h&&(e.G=a.G),e=e.parent}else f=0===b?this:this.children[b-1].G;if(e=f.l)e.ma=c,c.l=e;d.ma=f;f.l=d;this.children.splice(b,0,a);this.ja&&(a.ja&&a.ja.Bj(a),this.ja.vn(a))}else throw Error(a+" The index "+b+" supplied is out of bounds "+this.children.length);};e.Pa.prototype.Lr=function(a){if(0<=
a&&a<this.children.length)return this.children[a];throw Error("Both the supplied DisplayObjects must be a child of the caller "+this);};e.Pa.prototype.removeChild=function(a){var b=this.children.indexOf(a);if(-1!==b){var d=a.first,c=a.G,e=c.l,f=d.ma;e&&(e.ma=f);f.l=e;if(this.G===c)for(e=d.ma,f=this;f.G===c&&(f.G=e,f=f.parent,f););c.l=null;d.ma=null;if(this.q){d=a;do d.Fg&&(this.q.I=!0),d.q=null,d=d.l;while(d)}a.ja&&a.ja.Bj(a);a.parent=void 0;this.children.splice(b,1)}else throw Error(a+" The supplied DisplayObject must be a child of the caller "+
this);};e.Pa.prototype.Oa=function(){if(this.visible){e.Gc.prototype.Oa.call(this);for(var a=0,b=this.children.length;a<b;a++)this.children[a].Oa()}};e.rh={};e.rh.mk=0;e.rh.OB=1;e.v=function(a){e.Pa.call(this);this.anchor=new e.p;this.g=a;this.Cd=e.rh.mk;this.eg=this.ng=0;a.A.gd?this.Eb=!0:(this.No=this.Tl.bind(this),this.g.addEventListener("update",this.No));this.Ma=!0};e.v.prototype=Object.create(e.Pa.prototype);e.v.prototype.constructor=e.v;Object.defineProperty(e.v.prototype,"width",{get:function(){return this.scale.x*
this.g.frame.width},set:function(a){this.scale.x=a/this.g.frame.width;this.ng=a}});Object.defineProperty(e.v.prototype,"height",{get:function(){return this.scale.y*this.g.frame.height},set:function(a){this.scale.y=a/this.g.frame.height;this.eg=a}});e.v.prototype.pd=function(a){this.g.A!==a.A?(this.g=a,this.ja&&this.ja.Wf(this)):this.g=a;this.Eb=!0};e.v.prototype.Tl=function(){this.ng&&(this.scale.x=this.ng/this.g.frame.width);this.eg&&(this.scale.y=this.eg/this.g.frame.height);this.Eb=!0};e.v.hw=
function(a){var b=e.U[a];if(!b)throw Error('The frameId "'+a+'" does not exist in the texture cache'+this);return new e.v(b)};e.v.tl=function(a){a=e.R.tl(a);return new e.v(a)};e.Tc=function(a){e.Pa.call(this);this.t=e.wb.create();this.Fg=!0;this.Cl=new e.lu;this.I=!0;this.q=this;this.q.Iw=new e.u(0,0,1E5,1E5);this.hp(a);this.iz=!0};e.Tc.prototype=Object.create(e.Pa.prototype);e.Tc.prototype.constructor=e.Tc;e.Tc.prototype.Oa=function(){this.cb=1;this.di=e.rd;for(var a=0,b=this.children.length;a<b;a++)this.children[a].Oa();
this.I&&(this.I=!1,this.Cl.I=!0);this.Fg&&this.Cl.update()};e.Tc.prototype.hp=function(a){this.backgroundColor=a||0;this.Wk=e.dj(this.backgroundColor);a=this.backgroundColor.toString(16);a="000000".substr(0,6-a.length)+a;this.Iq="#"+a};e.pe=function(){e.Gc.call(this);this.Ma=!0};e.pe.prototype=Object.create(e.Gc.prototype);e.pe.prototype.constructor=e.pe;e.pe.prototype.Xh=function(){};e.pe.prototype.Bl=function(){};e.pe.prototype.Fj=function(){};e.wd=function(a,b,d){e.Pa.call(this);this.g=a;this.Cd=
e.rh.mk;try{this.da=new Float32Array([0,1,1,1,1,0,0,1]),this.sa=new Float32Array([0,0,0,0,0,0,0,0,0]),this.kb=new Float32Array([1,1,1,1]),this.Ea=new Uint16Array([0,1,2,3])}catch(c){this.da=[0,1,1,1,1,0,0,1],this.sa=[0,0,0,0,0,0,0,0,0],this.kb=[1,1,1,1],this.Ea=[0,1,2,3]}this.width=b;this.height=d;a.A.gd?(this.width=this.g.frame.width,this.height=this.g.frame.height,this.Eb=!0):(this.No=this.Tl.bind(this),this.g.addEventListener("update",this.No));this.Ma=!0};e.wd.prototype=Object.create(e.Pa.prototype);
e.wd.prototype.constructor=e.wd;e.wd.prototype.pd=function(a){this.g=a;this.width=a.frame.width;this.height=a.frame.height;this.Eb=!0};e.wd.prototype.Tl=function(){this.Eb=!0};e.Wg=function(a,b){e.wd.call(this,a);this.ba=b;try{this.sa=new Float32Array(4*b.length),this.da=new Float32Array(4*b.length),this.kb=new Float32Array(2*b.length),this.Ea=new Uint16Array(2*b.length)}catch(d){this.sa=Array(4*b.length),this.da=Array(4*b.length),this.kb=Array(2*b.length),this.Ea=Array(2*b.length)}this.refresh()};
e.Wg.prototype=Object.create(e.wd.prototype);e.Wg.prototype.constructor=e.Wg;e.Wg.prototype.refresh=function(){var a=this.ba;if(!(1>a.length)){var b=this.da,d=this.Ea,c=this.kb;this.count-=0.2;b[0]=0;b[1]=1;b[2]=0;b[3]=1;c[0]=1;c[1]=1;d[0]=0;d[1]=1;for(var a=a.length,e,f,h=1;h<a;h++)e=4*h,f=h/(a-1),b[e]=f,b[e+1]=0,b[e+2]=f,b[e+3]=1,e=2*h,c[e]=1,c[e+1]=1,e=2*h,d[e]=e,d[e+1]=e+1}};e.Wg.prototype.Oa=function(){var a=this.ba;if(!(1>a.length)){var b=a[0],d,c=d=0;this.count-=0.2;var g=this.sa;g[0]=b.x+
d;g[1]=b.y+c;g[2]=b.x-d;g[3]=b.y-c;for(var f=a.length,h,k,m,n=1;n<f;n++)h=a[n],k=4*n,d=n<a.length-1?a[n+1]:h,c=-(d.x-b.x),d=d.y-b.y,b=Math.sqrt(d*d+c*c),m=this.g.height/2,d/=b,c/=b,d*=m,c*=m,g[k]=h.x+d,g[k+1]=h.y+c,g[k+2]=h.x-d,g[k+3]=h.y-c,b=h;e.Pa.prototype.Oa.call(this)}};e.Wg.prototype.pd=function(a){this.g=a;this.Eb=!0};e.xd=function(a,b,d){e.Pa.call(this);this.g=a;this.width=b;this.height=d;this.vp=new e.p(1,1);this.up=new e.p(0,0);this.Ma=!0;this.Cd=e.rh.mk};e.xd.prototype=Object.create(e.Pa.prototype);
e.xd.prototype.constructor=e.xd;e.xd.prototype.pd=function(a){this.g=a;this.Eb=!0};e.xd.prototype.Tl=function(){this.Eb=!0};e.Cz=function(a,b){this.Vs=[this];this.I=!0;this.padding=0;this.mb=b||{};this.Je=a||[]};e.ji=function(){this.Ma=this.visible=!0};e.S=function(){e.Pa.call(this);this.Ma=!0;this.be=1;this.lineWidth=0;this.Il="black";this.fd=[];this.wh={ba:[]}};e.S.prototype=Object.create(e.Pa.prototype);e.S.prototype.constructor=e.S;e.S.prototype.moveTo=function(a,b){this.wh.ba.length||this.fd.pop();
this.wh=this.wh={lineWidth:this.lineWidth,Il:this.Il,Eh:this.Eh,fillColor:this.fillColor,be:this.be,fill:this.Br,ba:[],type:e.S.ok};this.wh.ba.push(a,b);this.fd.push(this.wh)};e.S.prototype.lineTo=function(a,b){this.wh.ba.push(a,b);this.I=!0};e.S.prototype.Kq=function(a,b){this.Br=!0;this.fillColor=a||0;this.be=2>arguments.length?1:b};e.S.prototype.clear=function(){this.lineWidth=0;this.Br=!1;this.Xq=this.I=!0;this.fd=[];this.o=null};e.S.prototype.Yy=function(){if(!this.o){for(var a=Infinity,b=-Infinity,
d=Infinity,c=-Infinity,g,f,h,k=0;k<this.fd.length;k++){h=this.fd[k];f=h.type;var m=h.lineWidth;g=h.ba;if(f===e.S.vd){f=g.x-m/2;h=g.y-m/2;var n=g.width+m,m=g.height+m,a=f<a?f:a,b=f+n>b?f+n:b,d=h<d?f:d,c=h+m>c?h+m:c}else if(f===e.S.Yj||f===e.S.bk)f=g.x,h=g.y,m=g.tc+m/2,a=f-m<a?f-m:a,b=f+m>b?f+m:b,d=h-m<d?h-m:d,c=h+m>c?h+m:c;else for(n=0;n<g.length;n+=2)f=g[n],h=g[n+1],a=f-m<a?f-m:a,b=f+m>b?f+m:b,d=h-m<d?h-m:d,c=h+m>c?h+m:c}this.o=new e.u(a,d,b-a,c-d)}};e.S.ok=0;e.S.vd=1;e.S.Yj=2;e.S.bk=3;e.Tg=function(){};
e.Tg.Yh=function(a,b){for(var d=a.cb,c=0;c<a.fd.length;c++){var g=a.fd[c],f=g.ba;b.strokeStyle="#"+("00000"+(g.Il|0).toString(16)).substr(-6);b.lineWidth=g.lineWidth;if(g.type===e.S.ok){b.beginPath();b.moveTo(f[0],f[1]);for(var h=1;h<f.length/2;h++)b.lineTo(f[2*h],f[2*h+1]);f[0]===f[f.length-2]&&f[1]===f[f.length-1]&&b.closePath();g.fill&&(b.globalAlpha=g.be*d,b.fillStyle="#"+("00000"+(g.fillColor|0).toString(16)).substr(-6),b.fill());g.lineWidth&&(b.globalAlpha=g.Eh*d,b.stroke())}else if(g.type===
e.S.vd){if(g.fillColor||0===g.fillColor)b.globalAlpha=g.be*d,b.fillStyle="#"+("00000"+(g.fillColor|0).toString(16)).substr(-6),b.fillRect(f[0],f[1],f[2],f[3]);g.lineWidth&&(b.globalAlpha=g.Eh*d,b.strokeRect(f[0],f[1],f[2],f[3]))}else if(g.type===e.S.Yj)b.beginPath(),b.arc(f[0],f[1],f[2],0,2*Math.PI),b.closePath(),g.fill&&(b.globalAlpha=g.be*d,b.fillStyle="#"+("00000"+(g.fillColor|0).toString(16)).substr(-6),b.fill()),g.lineWidth&&(b.globalAlpha=g.Eh*d,b.stroke());else if(g.type===e.S.bk){var k=g.ba,
m=2*k[2],h=2*k[3],f=k[0]-m/2,k=k[1]-h/2;b.beginPath();var n=m/2*0.5522848,p=h/2*0.5522848,r=f+m,q=k+h,m=f+m/2,h=k+h/2;b.moveTo(f,h);b.bezierCurveTo(f,h-p,m-n,k,m,k);b.bezierCurveTo(m+n,k,r,h-p,r,h);b.bezierCurveTo(r,h+p,m+n,q,m,q);b.bezierCurveTo(m-n,q,f,h+p,f,h);b.closePath();g.fill&&(b.globalAlpha=g.be*d,b.fillStyle="#"+("00000"+(g.fillColor|0).toString(16)).substr(-6),b.fill());g.lineWidth&&(b.globalAlpha=g.Eh*d,b.stroke())}}};e.Tg.pt=function(a,b){var d=a.fd.length;if(0!==d)for(1<d&&window.console.log("Pixi.js warning: masks in canvas can only mask using the first path in the graphics object"),
d=0;1>d;d++){var c=a.fd[d],g=c.ba;if(c.type===e.S.ok){b.beginPath();b.moveTo(g[0],g[1]);for(c=1;c<g.length/2;c++)b.lineTo(g[2*c],g[2*c+1]);g[0]===g[g.length-2]&&g[1]===g[g.length-1]&&b.closePath()}else if(c.type===e.S.vd)b.beginPath(),b.rect(g[0],g[1],g[2],g[3]),b.closePath();else if(c.type===e.S.Yj)b.beginPath(),b.arc(g[0],g[1],g[2],0,2*Math.PI),b.closePath();else if(c.type===e.S.bk){var f=c.ba,h=2*f[2],c=2*f[3],g=f[0]-h/2,f=f[1]-c/2;b.beginPath();var k=h/2*0.5522848,m=c/2*0.5522848,n=g+h,p=f+c,
h=g+h/2,c=f+c/2;b.moveTo(g,c);b.bezierCurveTo(g,c-m,h-k,f,h,f);b.bezierCurveTo(h+k,f,n,c-m,n,c);b.bezierCurveTo(n,c+m,h+k,p,h,p);b.bezierCurveTo(h-k,p,g,c+m,g,c);b.closePath()}}};e.Rc=function(a,b,d,c){this.bc=c;this.width=a||800;this.height=b||600;this.view=d||document.createElement("canvas");this.f=this.view.getContext("2d");this.Pf=null;"imageSmoothingEnabled"in this.f?this.Pf="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.f?this.Pf="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in
this.f?this.Pf="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.f&&(this.Pf="oImageSmoothingEnabled");this.tb=null;this.refresh=!0;this.view.width=this.width;this.view.height=this.height;this.count=0};e.Rc.prototype.constructor=e.Rc;e.Rc.prototype.qa=function(a){e.Pd=[];e.ai=[];e.rd++;a.Oa();this.view.style.backgroundColor===a.Iq||this.bc||(this.view.style.backgroundColor=a.Iq);this.f.setTransform(1,0,0,1,0,0);this.f.clearRect(0,0,this.width,this.height);this.Cj(a);a.Fg&&!a.Tm&&(a.Tm=!0,
a.Cl.xy(this));0<e.R.de.length&&(e.R.de=[])};e.Rc.prototype.resize=function(a,b){this.width=a;this.height=b;this.view.width=a;this.view.height=b};e.Rc.prototype.Cj=function(a){var b,d=this.f;d.globalCompositeOperation="source-over";var c=a.G.l;a=a.first;do if(b=a.t,a.visible){if(a.Ma)if(a instanceof e.v){var g=a.g.frame;g&&g.width&&g.height&&a.g.A.source&&(d.globalAlpha=a.cb,d.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),this.Pf&&this.tb!==a.g.A.tb&&(this.tb=a.g.A.tb,d[this.Pf]=this.tb===e.Fa.bg.LINEAR),
d.drawImage(a.g.A.source,g.x,g.y,g.width,g.height,a.anchor.x*-g.width,a.anchor.y*-g.height,g.width,g.height))}else if(a instanceof e.wd)d.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),this.Ej(a);else if(a instanceof e.xd)d.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),this.dm(a);else if(a instanceof e.pe)d.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),a.Xh(this);else if(a instanceof e.S)d.setTransform(b[0],b[3],b[1],b[4],b[2],b[5]),e.Tg.Yh(a,d);else if(a instanceof e.ji&&a.data instanceof e.S)if(b=a.data,
a.open){d.save();var g=b.alpha,f=b.t;d.setTransform(f[0],f[3],f[1],f[4],f[2],f[5]);b.cb=0.5;d.cb=0;e.Tg.pt(b,d);d.clip();b.cb=g}else d.restore();a=a.l}else a=a.G.l;while(a!==c)};e.Rc.prototype.dm=function(a){var b=this.f;b.globalAlpha=a.cb;a.Sp||(a.Sp=b.createPattern(a.g.A.source,"repeat"));b.beginPath();var d=a.up,c=a.vp;b.scale(c.x,c.y);b.translate(d.x,d.y);b.fillStyle=a.Sp;b.fillRect(-d.x,-d.y,a.width/c.x,a.height/c.y);b.scale(1/c.x,1/c.y);b.translate(-d.x,-d.y);b.closePath()};e.Rc.prototype.Ej=
function(a){var b=this.f,d=a.sa,c=a.da,e=d.length/2;this.count++;for(var f=1;f<e-2;f++){var h=2*f,k=d[h],m=d[h+2],n=d[h+4],p=d[h+1],r=d[h+3],q=d[h+5],s=c[h]*a.g.width,w=c[h+2]*a.g.width,t=c[h+4]*a.g.width,z=c[h+1]*a.g.height,y=c[h+3]*a.g.height,h=c[h+5]*a.g.height;b.save();b.beginPath();b.moveTo(k,p);b.lineTo(m,r);b.lineTo(n,q);b.closePath();b.clip();var u=s*y+z*t+w*h-y*t-z*w-s*h;b.transform((k*y+z*n+m*h-y*n-z*m-k*h)/u,(p*y+z*q+r*h-y*q-z*r-p*h)/u,(s*m+k*t+w*n-m*t-k*w-s*n)/u,(s*r+p*t+w*q-r*t-p*w-s*
q)/u,(s*y*n+z*m*t+k*w*h-k*y*t-z*w*n-s*m*h)/u,(s*y*q+z*r*t+p*w*h-p*y*t-z*w*q-s*r*h)/u);b.drawImage(a.g.A.source,0,0);b.restore()}};e.af=function(){this.Lc=null;this.Je=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"];this.Uf=0};e.af.prototype.hd=function(){var a=e.In(this.vm||e.af.Rv,this.Je),b=e.k;b.useProgram(a);this.Pe=b.getUniformLocation(a,"projectionVector");
this.Hg=b.getUniformLocation(a,"offsetVector");this.Qi=b.getUniformLocation(a,"dimensions");this.Zc=b.getAttribLocation(a,"aVertexPosition");this.Ed=b.getAttribLocation(a,"aColor");this.mf=b.getAttribLocation(a,"aTextureCoord");for(var d in this.mb)this.mb[d].Rg=b.getUniformLocation(a,d);this.Sw();this.Lc=a};e.af.prototype.Sw=function(){this.Uf=1;var a,b;for(b in this.mb){a=this.mb[b];var d=a.type;"sampler2D"===d?(a.Zp=!1,null!==a.value&&this.Wr(a)):"mat2"===d||"mat3"===d||"mat4"===d?(a.Bw=!0,a.cj=
1,"mat2"===d?a.sf=e.k.uniformMatrix2fv:"mat3"===d?a.sf=e.k.uniformMatrix3fv:"mat4"===d&&(a.sf=e.k.uniformMatrix4fv)):(a.sf=e.k["uniform"+d],a.cj="2f"===d||"2i"===d?2:"3f"===d||"3i"===d?3:"4f"===d||"4i"===d?4:1)}};e.af.prototype.Wr=function(a){if(a.value&&a.value.A&&a.value.A.gd){e.k.activeTexture(e.k["TEXTURE"+this.Uf]);e.k.bindTexture(e.k.TEXTURE_2D,a.value.A.ib);if(a.Qy){var b=a.Qy,d=b.bx?b.bx:e.k.LINEAR,c=b.fx?b.fx:e.k.LINEAR,g=b.kz?b.kz:e.k.CLAMP_TO_EDGE,f=b.lz?b.lz:e.k.CLAMP_TO_EDGE,h=b.JD?e.k.LUMINANCE:
e.k.RGBA;b.repeat&&(f=g=e.k.REPEAT);e.k.pixelStorei(e.k.UNPACK_FLIP_Y_WEBGL,!1);b.width?e.k.texImage2D(e.k.TEXTURE_2D,0,h,b.width?b.width:512,b.height?b.height:2,b.border?b.border:0,h,e.k.UNSIGNED_BYTE,null):e.k.texImage2D(e.k.TEXTURE_2D,0,h,e.k.RGBA,e.k.UNSIGNED_BYTE,a.value.A.source);e.k.texParameteri(e.k.TEXTURE_2D,e.k.TEXTURE_MAG_FILTER,d);e.k.texParameteri(e.k.TEXTURE_2D,e.k.TEXTURE_MIN_FILTER,c);e.k.texParameteri(e.k.TEXTURE_2D,e.k.TEXTURE_WRAP_S,g);e.k.texParameteri(e.k.TEXTURE_2D,e.k.TEXTURE_WRAP_T,
f)}e.k.uniform1i(a.Rg,this.Uf);a.Zp=!0;this.Uf++}};e.af.prototype.My=function(){this.Uf=1;var a,b;for(b in this.mb)a=this.mb[b],1===a.cj?!0===a.Bw?a.sf.call(e.k,a.Rg,a.tm,a.value):a.sf.call(e.k,a.Rg,a.value):2===a.cj?a.sf.call(e.k,a.Rg,a.value.x,a.value.y):3===a.cj?a.sf.call(e.k,a.Rg,a.value.x,a.value.y,a.value.z):4===a.cj?a.sf.call(e.k,a.Rg,a.value.x,a.value.y,a.value.z,a.value.We):"sampler2D"===a.type&&(a.Zp?(e.k.activeTexture(e.k["TEXTURE"+this.Uf]),e.k.bindTexture(e.k.TEXTURE_2D,a.value.A.ib),
e.k.uniform1i(a.Rg,this.Uf),this.Uf++):this.Wr(a))};e.af.Rv=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"];e.Ip=function(){this.Lc=
null;this.Je=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"];this.vm=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);",
"   vColor = aColor  * alpha;","}"]};e.Ip.prototype.hd=function(){var a=e.In(this.vm,this.Je),b=e.k;b.useProgram(a);this.Pe=b.getUniformLocation(a,"projectionVector");this.Hg=b.getUniformLocation(a,"offsetVector");this.Zc=b.getAttribLocation(a,"aVertexPosition");this.Ed=b.getAttribLocation(a,"aColor");this.zp=b.getUniformLocation(a,"translationMatrix");this.alpha=b.getUniformLocation(a,"alpha");this.Lc=a};e.Mp=function(){this.Lc=null;this.Je=["precision mediump float;","varying vec2 vTextureCoord;",
"varying float vColor;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));","   gl_FragColor = gl_FragColor * alpha;","}"];this.vm=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition, 1.0);",
"   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"]};e.Mp.prototype.hd=function(){var a=e.In(this.vm,this.Je),b=e.k;b.useProgram(a);this.Pe=b.getUniformLocation(a,"projectionVector");this.Hg=b.getUniformLocation(a,"offsetVector");this.Ed=b.getAttribLocation(a,"aColor");this.Zc=b.getAttribLocation(a,"aVertexPosition");this.mf=b.getAttribLocation(a,"aTextureCoord");
this.zp=b.getUniformLocation(a,"translationMatrix");this.alpha=b.getUniformLocation(a,"alpha");this.Lc=a};e.cf=[];e.CC=function(a){return 0===e.cf.length?new e.wa(a):e.cf.pop()};e.EC=function(a){a.Wq();e.cf.push(a)};e.Tu=function(a){for(var b=0;b<e.cf.length;b++)e.cf[b].tt(a)};e.wa=function(a){this.k=a;this.size=0;this.Yf=a.createBuffer();this.Ke=a.createBuffer();this.Xf=a.createBuffer();this.Hn=a.createBuffer();this.Cd=e.rh.mk;this.yg=1};e.wa.prototype.constructor=e.wa;e.wa.prototype.Wq=function(){this.sa=
[];this.da=[];this.Ea=[];this.kb=[];this.yg=1;this.G=this.g=null;this.size=0;this.Mc=this.head=null};e.wa.prototype.tt=function(a){this.k=a;this.Yf=a.createBuffer();this.Ke=a.createBuffer();this.Xf=a.createBuffer();this.Hn=a.createBuffer()};e.wa.prototype.hd=function(a){a.zc=this;this.I=!0;this.Cd=a.Cd;this.g=a.g.A;this.Mc=this.head=a;this.size=1;this.Rr()};e.wa.prototype.insertBefore=function(a,b){this.size++;a.zc=this;this.I=!0;var d=b.pc;b.pc=a;a.La=b;d?(a.pc=d,d.La=a):this.head=a};e.wa.prototype.gj=
function(a,b){this.size++;a.zc=this;this.I=!0;var d=b.La;b.La=a;a.pc=b;d?(a.La=d,d.pc=a):this.Mc=a};e.wa.prototype.remove=function(a){this.size--;0===this.size?(a.zc=null,a.pc=null,a.La=null):(a.pc?a.pc.La=a.La:(this.head=a.La,this.head.pc=null),a.La?a.La.pc=a.pc:(this.Mc=a.pc,this.Mc.La=null),a.zc=null,a.La=null,a.pc=null,this.I=!0)};e.wa.prototype.split=function(a){this.I=!0;var b=new e.wa(this.k);b.hd(a);b.g=this.g;b.Mc=this.Mc;this.Mc=a.pc;this.Mc.La=null;a.pc=null;for(var d=0;a;)d++,a.zc=b,a=
a.La;b.size=d;this.size-=d;return b};e.wa.prototype.ex=function(a){this.I=!0;this.Mc.La=a.head;a.head.pc=this.Mc;this.size+=a.size;this.Mc=a.Mc;for(a=a.head;a;)a.zc=this,a=a.La};e.wa.prototype.Rr=function(){var a=this.k;this.yg=1===this.size?1:1.5*this.size;this.sa=new Float32Array(8*this.yg);a.bindBuffer(a.ARRAY_BUFFER,this.Yf);a.bufferData(a.ARRAY_BUFFER,this.sa,a.DYNAMIC_DRAW);this.da=new Float32Array(8*this.yg);a.bindBuffer(a.ARRAY_BUFFER,this.Xf);a.bufferData(a.ARRAY_BUFFER,this.da,a.DYNAMIC_DRAW);
this.Si=!0;this.kb=new Float32Array(4*this.yg);a.bindBuffer(a.ARRAY_BUFFER,this.Hn);a.bufferData(a.ARRAY_BUFFER,this.kb,a.DYNAMIC_DRAW);this.Ri=!0;this.Ea=new Uint16Array(6*this.yg);for(var b=this.Ea.length/6,d=0;d<b;d++){var c=6*d,e=4*d;this.Ea[c+0]=e+0;this.Ea[c+1]=e+1;this.Ea[c+2]=e+2;this.Ea[c+3]=e+0;this.Ea[c+4]=e+2;this.Ea[c+5]=e+3}a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ke);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.Ea,a.STATIC_DRAW)};e.wa.prototype.refresh=function(){this.yg<this.size&&this.Rr();
for(var a=0,b,d=this.head;d;){b=8*a;var c=d.g,e=c.frame,f=c.A.width,c=c.A.height;this.da[b+0]=e.x/f;this.da[b+1]=e.y/c;this.da[b+2]=(e.x+e.width)/f;this.da[b+3]=e.y/c;this.da[b+4]=(e.x+e.width)/f;this.da[b+5]=(e.y+e.height)/c;this.da[b+6]=e.x/f;this.da[b+7]=(e.y+e.height)/c;d.Eb=!1;b=4*a;this.kb[b]=this.kb[b+1]=this.kb[b+2]=this.kb[b+3]=d.cb;d=d.La;a++}this.Ri=this.Si=!0};e.wa.prototype.update=function(){for(var a,b,d,c,g,f,h,k,m,n,p,r=0,q=this.head,s=this.sa,w=this.da,t=this.kb;q;){if(q.di===e.rd){b=
q.g.frame.width;d=q.g.frame.height;c=q.anchor.x;g=q.anchor.y;f=b*(1-c);b*=-c;c=d*(1-g);g=d*-g;d=8*r;a=q.t;h=a[0];k=a[3];m=a[1];n=a[4];p=a[2];a=a[5];s[d+0]=h*b+m*g+p;s[d+1]=n*g+k*b+a;s[d+2]=h*f+m*g+p;s[d+3]=n*g+k*f+a;s[d+4]=h*f+m*c+p;s[d+5]=n*c+k*f+a;s[d+6]=h*b+m*c+p;s[d+7]=n*c+k*b+a;if(q.Eb||q.g.Eb)this.Si=!0,c=q.g,f=c.frame,b=c.A.width,c=c.A.height,w[d+0]=f.x/b,w[d+1]=f.y/c,w[d+2]=(f.x+f.width)/b,w[d+3]=f.y/c,w[d+4]=(f.x+f.width)/b,w[d+5]=(f.y+f.height)/c,w[d+6]=f.x/b,w[d+7]=(f.y+f.height)/c,q.Eb=
!1;q.Bn!==q.cb&&(q.Bn=q.cb,f=4*r,t[f]=t[f+1]=t[f+2]=t[f+3]=q.cb,this.Ri=!0)}else d=8*r,s[d+0]=s[d+1]=s[d+2]=s[d+3]=s[d+4]=s[d+5]=s[d+6]=s[d+7]=0;r++;q=q.La}};e.wa.prototype.qa=function(a,b){a=a||0;void 0===b&&(b=this.size);this.I&&(this.refresh(),this.I=!1);if(0!==this.size){this.update();var d=this.k,c=e.$a;d.bindBuffer(d.ARRAY_BUFFER,this.Yf);d.bufferSubData(d.ARRAY_BUFFER,0,this.sa);d.vertexAttribPointer(c.Zc,2,d.FLOAT,!1,0,0);d.bindBuffer(d.ARRAY_BUFFER,this.Xf);this.Si&&(this.Si=!1,d.bufferSubData(d.ARRAY_BUFFER,
0,this.da));d.vertexAttribPointer(c.mf,2,d.FLOAT,!1,0,0);d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,this.g.ib);d.bindBuffer(d.ARRAY_BUFFER,this.Hn);this.Ri&&(this.Ri=!1,d.bufferSubData(d.ARRAY_BUFFER,0,this.kb));d.vertexAttribPointer(c.Ed,1,d.FLOAT,!1,0,0);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,this.Ke);d.drawElements(d.TRIANGLES,6*(b-a),d.UNSIGNED_SHORT,12*a)}};e.cg=function(a){this.bc=a;this.Yi=[];this.pm=[];this.offsetY=this.offsetX=0;this.Pw()};e.cg.prototype.Jq=function(a,b){this.width=
2*a.x;this.height=2*-a.y;this.buffer=b};e.cg.prototype.cy=function(a){var b=e.k;this.Yi.push(a);var d=a.zh[0];this.offsetX+=a.target.ce.x;this.offsetY+=a.target.ce.y;var c=this.pm.pop();c?c.resize(this.width,this.height):c=new e.zm(this.width,this.height);b.bindTexture(b.TEXTURE_2D,c.g);this.lw(a.target);var g=a.target.ce,d=d.padding;g.x-=d;g.y-=d;g.width+=2*d;g.height+=2*d;0>g.x&&(g.x=0);g.width>this.width&&(g.width=this.width);0>g.y&&(g.y=0);g.height>this.height&&(g.height=this.height);b.bindFramebuffer(b.FRAMEBUFFER,
c.Zi);b.viewport(0,0,g.width,g.height);e.Ua.x=g.width/2;e.Ua.y=-g.height/2;e.offset.x=-g.x;e.offset.y=-g.y;b.uniform2f(e.$a.Pe,g.width/2,-g.height/2);b.uniform2f(e.$a.Hg,-g.x,-g.y);b.colorMask(!0,!0,!0,!0);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);a.Rm=c};e.cg.prototype.Wx=function(){var a=e.k,b=this.Yi.pop(),d=b.target.ce,c=b.Rm;if(1<b.zh.length){a.viewport(0,0,d.width,d.height);a.bindBuffer(a.ARRAY_BUFFER,this.Yf);this.ob[0]=0;this.ob[1]=d.height;this.ob[2]=d.width;this.ob[3]=d.height;this.ob[4]=
0;this.ob[5]=0;this.ob[6]=d.width;this.ob[7]=0;a.bufferSubData(a.ARRAY_BUFFER,0,this.ob);a.bindBuffer(a.ARRAY_BUFFER,this.Xf);this.Rd[2]=d.width/this.width;this.Rd[5]=d.height/this.height;this.Rd[6]=d.width/this.width;this.Rd[7]=d.height/this.height;a.bufferSubData(a.ARRAY_BUFFER,0,this.Rd);var g=this.pm.pop();g||(g=new e.zm(this.width,this.height));a.bindFramebuffer(a.FRAMEBUFFER,g.Zi);a.clear(a.COLOR_BUFFER_BIT);a.disable(a.BLEND);for(var f=0;f<b.zh.length-1;f++){var h=b.zh[f];a.bindFramebuffer(a.FRAMEBUFFER,
g.Zi);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,c.g);this.Hq(h,d.width,d.height);h=c;c=g;g=h}a.enable(a.BLEND);this.pm.push(g)}g=b.zh[b.zh.length-1];this.offsetX-=d.x;this.offsetY-=d.y;var f=this.width,h=this.height,k=0,m=0,n=this.buffer;0===this.Yi.length?a.colorMask(!0,!0,!0,this.bc):(n=this.Yi[this.Yi.length-1],d=n.target.ce,f=d.width,h=d.height,k=d.x,m=d.y,n=n.Rm.Zi);e.Ua.x=f/2;e.Ua.y=-h/2;e.offset.x=k;e.offset.y=m;var d=b.target.ce,p=d.x-k,r=d.y-m;a.bindBuffer(a.ARRAY_BUFFER,this.Yf);
this.ob[0]=p;this.ob[1]=r+d.height;this.ob[2]=p+d.width;this.ob[3]=r+d.height;this.ob[4]=p;this.ob[5]=r;this.ob[6]=p+d.width;this.ob[7]=r;a.bufferSubData(a.ARRAY_BUFFER,0,this.ob);a.bindBuffer(a.ARRAY_BUFFER,this.Xf);this.Rd[2]=d.width/this.width;this.Rd[5]=d.height/this.height;this.Rd[6]=d.width/this.width;this.Rd[7]=d.height/this.height;a.bufferSubData(a.ARRAY_BUFFER,0,this.Rd);a.viewport(0,0,f,h);a.bindFramebuffer(a.FRAMEBUFFER,n);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,c.g);this.Hq(g,
f,h);a.useProgram(e.$a.Lc);a.uniform2f(e.$a.Pe,f/2,-h/2);a.uniform2f(e.$a.Hg,-k,-m);this.pm.push(c);b.Rm=null};e.cg.prototype.Hq=function(a,b,d){var c=e.k,g=a.Ay;g||(g=new e.af,g.Je=a.Je,g.mb=a.mb,g.hd(),a.Ay=g);c.useProgram(g.Lc);c.uniform2f(g.Pe,b/2,-d/2);c.uniform2f(g.Hg,0,0);a.mb.Qi&&(a.mb.Qi.value[0]=this.width,a.mb.Qi.value[1]=this.height,a.mb.Qi.value[2]=this.ob[0],a.mb.Qi.value[3]=this.ob[5]);g.My();c.bindBuffer(c.ARRAY_BUFFER,this.Yf);c.vertexAttribPointer(g.Zc,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,
this.Xf);c.vertexAttribPointer(g.mf,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Ke);c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)};e.cg.prototype.Pw=function(){var a=e.k;this.Yf=a.createBuffer();this.Xf=a.createBuffer();this.Ke=a.createBuffer();this.ob=new Float32Array([0,0,1,0,0,1,1,1]);a.bindBuffer(a.ARRAY_BUFFER,this.Yf);a.bufferData(a.ARRAY_BUFFER,this.ob,a.STATIC_DRAW);this.Rd=new Float32Array([0,0,1,0,0,1,1,1]);a.bindBuffer(a.ARRAY_BUFFER,this.Xf);a.bufferData(a.ARRAY_BUFFER,
this.Rd,a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Ke);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),a.STATIC_DRAW)};e.cg.prototype.lw=function(a){var b,d,c,g,f,h,k,m,n,p,r,q,s,w,t,z,y=a.first,u=a.G.l,v=-Infinity,A=-Infinity,B=Infinity,x=Infinity;do y.visible&&(y instanceof e.v?(d=y.g.frame.width,c=y.g.frame.height,g=y.anchor.x,f=y.anchor.y,h=d*(1-g),d*=-g,g=c*(1-f),c*=-f,f=!0):y instanceof e.S&&(y.Yy(),c=y.o,h=c.x,d=c.x+c.width,g=c.y,c=c.y+c.height,f=!0)),f&&(b=
y.t,k=b[0],f=b[3],m=b[1],n=b[4],p=b[2],r=b[5],b=k*d+m*c+p,w=n*c+f*d+r,q=k*h+m*c+p,t=n*c+f*h+r,s=k*h+m*g+p,z=n*g+f*h+r,k=k*d+m*g+p,f=n*g+f*d+r,B=b<B?b:B,B=q<B?q:B,B=s<B?s:B,B=k<B?k:B,x=w<x?w:x,x=t<x?t:x,x=z<x?z:x,x=f<x?f:x,v=b>v?b:v,v=q>v?q:v,v=s>v?s:v,v=k>v?k:v,A=w>A?w:A,A=t>A?t:A,A=z>A?z:A,A=f>A?f:A),f=!1,y=y.l;while(y!==u);a.ce.x=B;a.ce.y=x;a.ce.width=v-B;a.ce.height=A-x};e.zm=function(a,b){var d=e.k;this.Zi=d.createFramebuffer();this.g=d.createTexture();d.bindTexture(d.TEXTURE_2D,this.g);d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_MAG_FILTER,d.LINEAR);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.bindFramebuffer(d.FRAMEBUFFER,this.eD);d.bindFramebuffer(d.FRAMEBUFFER,this.Zi);d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.g,0);this.resize(a,b)};e.zm.prototype.resize=function(a,b){if(this.width!==a||this.height!==b){this.width=a;this.height=b;var d=
e.k;d.bindTexture(d.TEXTURE_2D,this.g);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,a,b,0,d.RGBA,d.UNSIGNED_BYTE,null)}};e.dc=function(){};e.dc.Yh=function(a,b){var d=e.k;a.jb||(a.jb={ba:[],Ea:[],lastIndex:0,buffer:d.createBuffer(),Ke:d.createBuffer()});a.I&&(a.I=!1,a.Xq&&(a.Xq=!1,a.jb.lastIndex=0,a.jb.ba=[],a.jb.Ea=[]),e.dc.Zy(a));e.Zu();var c=e.wb.Dd(a.t);e.wb.tm(c);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);d.uniformMatrix3fv(e.od.zp,!1,c);d.uniform2f(e.od.Pe,b.x,-b.y);d.uniform2f(e.od.Hg,-e.offset.x,-e.offset.y);
d.uniform1f(e.od.alpha,a.cb);d.bindBuffer(d.ARRAY_BUFFER,a.jb.buffer);d.vertexAttribPointer(e.od.Zc,2,d.FLOAT,!1,24,0);d.vertexAttribPointer(e.od.Ed,4,d.FLOAT,!1,24,8);d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.jb.Ke);d.drawElements(d.TRIANGLE_STRIP,a.jb.Ea.length,d.UNSIGNED_SHORT,0);e.Jv()};e.dc.Zy=function(a){for(var b=a.jb.lastIndex;b<a.fd.length;b++){var d=a.fd[b];d.type===e.S.ok?(d.fill&&3<d.ba.length&&e.dc.tv(d,a.jb),0<d.lineWidth&&e.dc.An(d,a.jb)):d.type===e.S.vd?e.dc.uv(d,a.jb):d.type!==e.S.Yj&&
d.type!==e.S.bk||e.dc.sv(d,a.jb)}a.jb.lastIndex=a.fd.length;b=e.k;a.jb.Cw=new Float32Array(a.jb.ba);b.bindBuffer(b.ARRAY_BUFFER,a.jb.buffer);b.bufferData(b.ARRAY_BUFFER,a.jb.Cw,b.STATIC_DRAW);a.jb.Aw=new Uint16Array(a.jb.Ea);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.jb.Ke);b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.jb.Aw,b.STATIC_DRAW)};e.dc.uv=function(a,b){var d=a.ba,c=d[0],g=d[1],f=d[2],d=d[3];if(a.fill){var h=e.dj(a.fillColor),k=a.be,m=h[0]*k,n=h[1]*k,h=h[2]*k,p=b.ba,r=b.Ea,q=p.length/6;p.push(c,g);p.push(m,
n,h,k);p.push(c+f,g);p.push(m,n,h,k);p.push(c,g+d);p.push(m,n,h,k);p.push(c+f,g+d);p.push(m,n,h,k);r.push(q,q,q+1,q+2,q+3,q+3)}a.lineWidth&&(a.ba=[c,g,c+f,g,c+f,g+d,c,g+d,c,g],e.dc.An(a,b))};e.dc.sv=function(a,b){var d=a.ba,c=d[0],g=d[1],f=d[2],d=d[3],h=2*Math.PI/40,k=0;if(a.fill){var k=e.dj(a.fillColor),m=a.be,n=k[0]*m,p=k[1]*m,r=k[2]*m,q=b.ba,s=b.Ea,w=q.length/6;s.push(w);for(k=0;41>k;k++)q.push(c,g,n,p,r,m),q.push(c+Math.sin(h*k)*f,g+Math.cos(h*k)*d,n,p,r,m),s.push(w++,w++);s.push(w-1)}if(a.lineWidth){a.ba=
[];for(k=0;41>k;k++)a.ba.push(c+Math.sin(h*k)*f,g+Math.cos(h*k)*d);e.dc.An(a,b)}};e.dc.An=function(a,b){var d=0,c=a.ba;if(0!==c.length){if(a.lineWidth%2)for(d=0;d<c.length;d++)c[d]+=0.5;var g=new e.p(c[0],c[1]),f=new e.p(c[c.length-2],c[c.length-1]);if(g.x===f.x&&g.y===f.y){c.pop();c.pop();var f=new e.p(c[c.length-2],c[c.length-1]),h=f.x+0.5*(g.x-f.x),g=f.y+0.5*(g.y-f.y);c.unshift(h,g);c.push(h,g)}var h=b.ba,g=b.Ea,f=c.length/2,k=c.length,m=h.length/6,n=a.lineWidth/2,d=e.dj(a.Il),p=a.Eh,r=d[0]*p,
q=d[1]*p,s=d[2]*p,w,t,z,y,u,v,A,B,x,C,D,E,G;z=c[0];y=c[1];u=c[2];v=c[3];x=-(y-v);C=z-u;t=Math.sqrt(x*x+C*C);x=x/t*n;C=C/t*n;h.push(z-x,y-C,r,q,s,p);h.push(z+x,y+C,r,q,s,p);for(d=1;d<f-1;d++)z=c[2*(d-1)],y=c[2*(d-1)+1],u=c[2*d],v=c[2*d+1],A=c[2*(d+1)],B=c[2*(d+1)+1],x=-(y-v),C=z-u,t=Math.sqrt(x*x+C*C),x/=t,C/=t,x*=n,C*=n,D=-(v-B),E=u-A,t=Math.sqrt(D*D+E*E),D/=t,E/=t,D*=n,E*=n,t=-C+y-(-C+v),w=-x+u-(-x+z),z=(-x+z)*(-C+v)-(-x+u)*(-C+y),y=-E+B-(-E+v),G=-D+u-(-D+A),A=(-D+A)*(-E+v)-(-D+u)*(-E+B),B=t*G-y*
w,0.1>Math.abs(B)?(h.push(u-x,v-C,r,q,s,p),h.push(u+x,v+C,r,q,s,p)):(w=(w*A-G*z)/B,t=(y*z-t*A)/B,A=(w-u)*(w-u)+(t-v)+(t-v),19600<A?(x-=D,C-=E,t=Math.sqrt(x*x+C*C),x/=t,C/=t,x*=n,C*=n,h.push(u-x,v-C),h.push(r,q,s,p),h.push(u+x,v+C),h.push(r,q,s,p),h.push(u-x,v-C),h.push(r,q,s,p),k++):(h.push(w,t),h.push(r,q,s,p),h.push(u-(w-u),v-(t-v)),h.push(r,q,s,p)));z=c[2*(f-2)];y=c[2*(f-2)+1];u=c[2*(f-1)];v=c[2*(f-1)+1];x=-(y-v);C=z-u;t=Math.sqrt(x*x+C*C);x/=t;C/=t;x*=n;C*=n;h.push(u-x,v-C);h.push(r,q,s,p);h.push(u+
x,v+C);h.push(r,q,s,p);g.push(m);for(d=0;d<k;d++)g.push(m++);g.push(m-1)}};e.dc.tv=function(a,b){var d=a.ba;if(!(6>d.length)){for(var c=b.ba,g=b.Ea,f=d.length/2,h=e.dj(a.fillColor),k=a.be,m=h[0]*k,n=h[1]*k,h=h[2]*k,p=e.Vg.xu(d),r=c.length/6,q=0,q=0;q<p.length;q+=3)g.push(p[q]+r),g.push(p[q]+r),g.push(p[q+1]+r),g.push(p[q+2]+r),g.push(p[q+2]+r);for(q=0;q<f;q++)c.push(d[2*q],d[2*q+1],m,n,h,k)}};e.BC=new e.u(0,0,1,1);e.k=null;e.Ja=function(a,b,d,c,g){this.bc=!!c;this.width=a||800;this.height=b||600;
this.view=d||document.createElement("canvas");this.view.width=this.width;this.view.height=this.height;var f=this;this.view.addEventListener("webglcontextlost",function(a){f.Dw(a)},!1);this.view.addEventListener("webglcontextrestored",function(){f.Ew()},!1);this.ka=[];a={alpha:this.bc,antialias:!!g,premultipliedAlpha:!1,stencil:!0};try{e.k=this.k=this.view.getContext("experimental-webgl",a)}catch(h){try{e.k=this.k=this.view.getContext("webgl",a)}catch(k){throw Error(" This browser does not support webGL. Try using the canvas renderer"+
this);}}e.Ow();a=this.k;a.useProgram(e.$a.Lc);e.Ja.k=a;this.zc=new e.wa(a);a.disable(a.DEPTH_TEST);a.disable(a.CULL_FACE);a.enable(a.BLEND);a.colorMask(!0,!0,!0,this.bc);e.Ua=new e.p(400,300);e.offset=new e.p(0,0);this.resize(this.width,this.height);this.Kn=!1;this.pp=new e.Wa(this.k,this.bc)};e.Ja.prototype.constructor=e.Ja;e.Ja.Kr=function(){return 0===e.cf.length?new e.wa(e.Ja.k):e.cf.pop()};e.Ja.fp=function(a){a.Wq();e.cf.push(a)};e.Ja.prototype.qa=function(a){if(!this.Kn){this.Bu!==a&&(this.Bu=
a,this.pp.jp(a));e.Ja.Ap();e.rd++;a.Oa();var b=this.k;b.colorMask(!0,!0,!0,this.bc);b.viewport(0,0,this.width,this.height);b.bindFramebuffer(b.FRAMEBUFFER,null);b.clearColor(a.Wk[0],a.Wk[1],a.Wk[2],!this.bc);b.clear(b.COLOR_BUFFER_BIT);this.pp.backgroundColor=a.Wk;e.Ua.x=this.width/2;e.Ua.y=-this.height/2;this.pp.qa(e.Ua);a.Fg&&!a.Tm&&(a.Tm=!0,a.Cl.xy(this));if(0<e.R.de.length){for(a=0;a<e.R.de.length;a++)e.R.de[a].Eb=!1;e.R.de=[]}}};e.Ja.Ap=function(){for(var a=0,a=0;a<e.Pd.length;a++)e.Ja.Wf(e.Pd[a]);
for(a=0;a<e.ai.length;a++)e.Ja.Tv(e.ai[a]);e.Pd=[];e.ai=[]};e.Ja.Wf=function(a){var b=e.k;a.ib||(a.ib=b.createTexture());a.gd&&(b.bindTexture(b.TEXTURE_2D,a.ib),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,a.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a.tb===e.Fa.bg.LINEAR?b.LINEAR:b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.tb===e.Fa.bg.LINEAR?b.LINEAR:b.NEAREST),a.iq?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,
b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE)),b.bindTexture(b.TEXTURE_2D,null))};e.Ja.Tv=function(a){var b=e.k;a.ib&&(a.ib=b.createTexture(),b.deleteTexture(b.TEXTURE_2D,a.ib))};e.Ja.prototype.resize=function(a,b){this.width=a;this.height=b;this.view.width=a;this.view.height=b;this.k.viewport(0,0,this.width,this.height);e.Ua.x=this.width/2;e.Ua.y=-this.height/
2};e.Ja.prototype.Dw=function(a){a.preventDefault();this.Kn=!0};e.Ja.prototype.Ew=function(){this.k=this.view.getContext("experimental-webgl",{alpha:!0});this.AD();for(var a in e.U){var b=e.U[a].A;b.ib=null;e.Ja.Wf(b)}for(a=0;a<this.ka.length;a++)this.ka[a].tt(this.k),this.ka[a].I=!0;e.Tu(this.k);this.Kn=!1};e.Wa=function(a,b){this.k=a;this.root;this.backgroundColor;this.bc=void 0==b?!0:b;this.ka=[];this.pl=new e.cg(this.bc)};e.Wa.prototype.constructor=e.Wa;e.Wa.prototype.jp=function(a){this.root&&
this.Bj(this.root);a.iz=a.visible;this.root=a;this.vn(a)};e.Wa.prototype.qa=function(a,b){e.Ja.Ap();var d=this.k;d.uniform2f(e.$a.Pe,a.x,a.y);this.pl.Jq(a,b);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);for(var c=0;c<this.ka.length;c++)d=this.ka[c],d instanceof e.wa?this.ka[c].qa():this.Dj(d,a)};e.Wa.prototype.qt=function(a,b,d){e.Ja.Ap();this.k.uniform2f(e.$a.Pe,b.x,b.y);this.pl.Jq(b,d);for(var c,g,f,h=a.first;h.l&&(!h.Ma||!h.ja);)h=h.l;d=h.zc;if(h instanceof e.v)if(d=h.zc,g=d.head,g==h)c=0;else for(c=
1;g.La!=h;)c++,g=g.La;else d=h;for(a=a.G;a.ma&&(!a.Ma||!a.ja);)a=a.l;if(a instanceof e.v)if(endBatch=a.zc,g=endBatch.head,g==a)f=0;else for(f=1;g.La!=a;)f++,g=g.La;else endBatch=a;if(d==endBatch)d instanceof e.wa?d.qa(c,f+1):this.Dj(d,b);else{g=this.ka.indexOf(d);a=this.ka.indexOf(endBatch);d instanceof e.wa?d.qa(c):this.Dj(d,b);for(c=g+1;c<a;c++)renderable=this.ka[c],renderable instanceof e.wa?this.ka[c].qa():this.Dj(renderable,b);endBatch instanceof e.wa?endBatch.qa(0,f+1):this.Dj(endBatch,b)}};
e.Wa.prototype.Dj=function(a,b){var d=a.di===e.rd;a instanceof e.xd?d&&this.dm(a,b):a instanceof e.wd?d&&this.Ej(a,b):a instanceof e.pe?d&&a.Fj(this,b):a instanceof e.S?d&&a.Ma&&e.dc.Yh(a,b):a instanceof e.ji&&this.Fw(a,b)};flip=!1;var I=[],K=0;e.Wa.prototype.Fw=function(a,b){var d=e.k;if(a.open)a.data instanceof Array?this.pl.cy(a):(K++,I.push(a),d.enable(d.STENCIL_TEST),d.colorMask(!1,!1,!1,!1),d.stencilFunc(d.ALWAYS,1,1),d.stencilOp(d.KEEP,d.KEEP,d.INCR),e.dc.Yh(a.data,b),d.colorMask(!0,!0,!0,
!0),d.stencilFunc(d.NOTEQUAL,0,I.length),d.stencilOp(d.KEEP,d.KEEP,d.KEEP));else if(a.data instanceof Array)this.pl.Wx();else{var c=I.pop(a);c&&(d.colorMask(!1,!1,!1,!1),d.stencilFunc(d.ALWAYS,1,1),d.stencilOp(d.KEEP,d.KEEP,d.DECR),e.dc.Yh(c.data,b),d.colorMask(!0,!0,!0,!0),d.stencilFunc(d.NOTEQUAL,0,I.length),d.stencilOp(d.KEEP,d.KEEP,d.KEEP));d.disable(d.STENCIL_TEST)}};e.Wa.prototype.Wf=function(a){this.bm(a);for(var b=a.first;b!=this.root&&(b=b.ma,!b.Ma||!b.ja););for(var d=a.G;d.l&&(d=d.l,!d.Ma||
!d.ja););this.Xr(a,b,d)};e.Wa.prototype.dv=function(a,b){a.ja=this;b.ja=this;for(var d=a;d!=this.root.first&&(d=d.ma,!d.Ma||!d.ja););this.gj(a,d);for(d=b;d!=this.root.first&&(d=d.ma,!d.Ma||!d.ja););this.gj(b,d)};e.Wa.prototype.jy=function(a,b){this.bm(a);this.bm(b)};e.Wa.prototype.vn=function(a){a.ja&&a.ja.Bj(a);for(var b=a.first;b!=this.root.first&&(b=b.ma,!b.Ma||!b.ja););for(var d=a.G;d.l&&(d=d.l,!d.Ma||!d.ja););var c=a.first;a=a.G.l;do c.ja=this,c.Ma&&(this.Xr(c,b,d),b=c),c=c.l;while(c!=a)};e.Wa.prototype.Bj=
function(a){if(a.ja==this){do a.ja=null,a.Ma&&this.bm(a),a=a.l;while(a)}};e.Wa.prototype.Xr=function(a,b,d){if(a instanceof e.v){var c;if(b instanceof e.v){if((c=b.zc)&&c.g==a.g.A&&c.Cd==a.Cd){c.gj(a,b);return}}else c=b;if(d&&d instanceof e.v&&(b=d.zc)){if(b.g==a.g.A&&b.Cd==a.Cd){b.insertBefore(a,d);return}if(b==c){d=c.split(d);b=e.Ja.Kr();c=this.ka.indexOf(c);b.hd(a);this.ka.splice(c+1,0,b,d);return}}b=e.Ja.Kr();b.hd(a);c?(c=this.ka.indexOf(c),this.ka.splice(c+1,0,b)):this.ka.push(b)}else a instanceof
e.xd?this.Rw(a):a instanceof e.wd&&this.Qw(a),this.gj(a,b)};e.Wa.prototype.gj=function(a,b){if(b instanceof e.v){var d=b.zc;if(d)if(d.Mc==b)d=this.ka.indexOf(d),this.ka.splice(d+1,0,a);else{var c=d.split(b.La),d=this.ka.indexOf(d);this.ka.splice(d+1,0,a,c)}else this.ka.push(a)}else d=this.ka.indexOf(b),this.ka.splice(d+1,0,a)};e.Wa.prototype.bm=function(a){var b;if(a instanceof e.v){var d=a.zc;if(!d)return;d.remove(a);0==d.size&&(b=d)}else b=a;b&&(a=this.ka.indexOf(b),-1!=a&&(0!=a&&a!=this.ka.length-
1&&this.ka[a-1]instanceof e.wa&&this.ka[a+1]instanceof e.wa&&this.ka[a-1].g==this.ka[a+1].g&&this.ka[a-1].Cd==this.ka[a+1].Cd?(this.ka[a-1].ex(this.ka[a+1]),b instanceof e.wa&&e.Ja.fp(b),e.Ja.fp(this.ka[a+1]),this.ka.splice(a,2)):(this.ka.splice(a,1),b instanceof e.wa&&e.Ja.fp(b))))};e.Wa.prototype.Rw=function(a){var b=this.k;a.sa=new Float32Array([0,0,a.width,0,a.width,a.height,0,a.height]);a.da=new Float32Array([0,0,1,0,1,1,0,1]);a.kb=new Float32Array([1,1,1,1]);a.Ea=new Uint16Array([0,1,3,2]);
a.Hi=b.createBuffer();a.ti=b.createBuffer();a.mh=b.createBuffer();a.qi=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,a.Hi);b.bufferData(b.ARRAY_BUFFER,a.sa,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,a.mh);b.bufferData(b.ARRAY_BUFFER,a.da,b.DYNAMIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,a.qi);b.bufferData(b.ARRAY_BUFFER,a.kb,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.ti);b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.Ea,b.STATIC_DRAW);a.g.A.ib&&(b.bindTexture(b.TEXTURE_2D,a.g.A.ib),b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT));a.g.A.iq=!0};e.Wa.prototype.Ej=function(a,b){var d=this.k;e.$u();var c=e.sp,g=e.wb.Dd(a.t);e.wb.tm(g);d.uniformMatrix3fv(c.zp,!1,g);d.uniform2f(c.Pe,b.x,b.y);d.uniform2f(c.Hg,-e.offset.x,-e.offset.y);d.uniform1f(c.alpha,a.cb);a.I?(a.I=!1,d.bindBuffer(d.ARRAY_BUFFER,a.Hi),d.bufferData(d.ARRAY_BUFFER,a.sa,d.STATIC_DRAW),d.vertexAttribPointer(c.Zc,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,a.mh),d.bufferData(d.ARRAY_BUFFER,
a.da,d.STATIC_DRAW),d.vertexAttribPointer(c.mf,2,d.FLOAT,!1,0,0),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,a.g.A.ib),d.bindBuffer(d.ARRAY_BUFFER,a.qi),d.bufferData(d.ARRAY_BUFFER,a.kb,d.STATIC_DRAW),d.vertexAttribPointer(c.Ed,1,d.FLOAT,!1,0,0),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.ti),d.bufferData(d.ELEMENT_ARRAY_BUFFER,a.Ea,d.STATIC_DRAW)):(d.bindBuffer(d.ARRAY_BUFFER,a.Hi),d.bufferSubData(d.ARRAY_BUFFER,0,a.sa),d.vertexAttribPointer(c.Zc,2,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,
a.mh),d.vertexAttribPointer(c.mf,2,d.FLOAT,!1,0,0),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,a.g.A.ib),d.bindBuffer(d.ARRAY_BUFFER,a.qi),d.vertexAttribPointer(c.Ed,1,d.FLOAT,!1,0,0),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.ti));d.drawElements(d.TRIANGLE_STRIP,a.Ea.length,d.UNSIGNED_SHORT,0);e.Kv()};e.Wa.prototype.dm=function(a,b){var d=this.k,c=a.up,e=a.vp,f=c.x/a.g.A.width,c=c.y/a.g.A.height,h=a.width/a.g.A.width/e.x,e=a.height/a.g.A.height/e.y;a.da[0]=0-f;a.da[1]=0-c;a.da[2]=1*h-f;a.da[3]=
0-c;a.da[4]=1*h-f;a.da[5]=1*e-c;a.da[6]=0-f;a.da[7]=1*e-c;d.bindBuffer(d.ARRAY_BUFFER,a.mh);d.bufferSubData(d.ARRAY_BUFFER,0,a.da);this.Ej(a,b)};e.Wa.prototype.Qw=function(a){var b=this.k;a.Hi=b.createBuffer();a.ti=b.createBuffer();a.mh=b.createBuffer();a.qi=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,a.Hi);b.bufferData(b.ARRAY_BUFFER,a.sa,b.DYNAMIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,a.mh);b.bufferData(b.ARRAY_BUFFER,a.da,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,a.qi);b.bufferData(b.ARRAY_BUFFER,
a.kb,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.ti);b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.Ea,b.STATIC_DRAW)};e.Ow=function(){e.od=new e.Ip;e.od.hd();e.sp=new e.Mp;e.sp.hd();e.$a=new e.af;e.$a.hd();var a=e.k;a.useProgram(e.$a.Lc);a.enableVertexAttribArray(e.$a.Zc);a.enableVertexAttribArray(e.$a.Ed);a.enableVertexAttribArray(e.$a.mf)};e.Zu=function(){var a=e.k;a.useProgram(e.od.Lc);a.disableVertexAttribArray(e.$a.Zc);a.disableVertexAttribArray(e.$a.Ed);a.disableVertexAttribArray(e.$a.mf);
a.enableVertexAttribArray(e.od.Zc);a.enableVertexAttribArray(e.od.Ed)};e.Jv=function(){var a=e.k;a.useProgram(e.$a.Lc);a.disableVertexAttribArray(e.od.Zc);a.disableVertexAttribArray(e.od.Ed);a.enableVertexAttribArray(e.$a.Zc);a.enableVertexAttribArray(e.$a.Ed);a.enableVertexAttribArray(e.$a.mf)};e.$u=function(){e.k.useProgram(e.sp.Lc)};e.Kv=function(){e.k.useProgram(e.$a.Lc)};e.gu=function(a,b){return e.Rp(a,b,a.VERTEX_SHADER)};e.fu=function(a,b){return e.Rp(a,b,a.FRAGMENT_SHADER)};e.Rp=function(a,
b,d){d=a.createShader(d);a.shaderSource(d,b.join("\n"));a.compileShader(d);return a.getShaderParameter(d,a.COMPILE_STATUS)?d:(window.console.log(a.getShaderInfoLog(d)),null)};e.In=function(a,b){var d=e.k,c=e.fu(d,b),g=e.gu(d,a),f=d.createProgram();d.attachShader(f,g);d.attachShader(f,c);d.linkProgram(f);d.getProgramParameter(f,d.LINK_STATUS)||window.console.log("Could not initialise shaders");return f};e.Va=function(a,b){e.Pa.call(this);this.im(a);this.Og(b);this.Pj();this.I=!1};e.Va.prototype=Object.create(e.Pa.prototype);
e.Va.prototype.constructor=e.Va;e.Va.prototype.im=function(a){this.text=a||" ";this.I=!0};e.Va.prototype.Og=function(a){a=a||{};a.align=a.align||"left";this.style=a;a=a.font.split(" ");this.Cr=a[a.length-1];this.fontSize=2<=a.length?parseInt(a[a.length-2],10):e.Va.Zn[this.Cr].size;this.I=!0};e.Va.prototype.Pj=function(){for(var a=e.Va.Zn[this.Cr],b=new e.p,d=null,c=[],g=0,f=[],h=0,k=this.fontSize/a.size,m=0;m<this.text.length;m++){var n=this.text.charCodeAt(m);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(m)))f.push(b.x),
g=Math.max(g,b.x),h++,b.x=0,b.y+=a.lineHeight,d=null;else{var p=a.Dn[n];p&&(d&&p[d]&&(b.x+=p.gs[d]),c.push({g:p.g,js:h,charCode:n,position:new e.p(b.x+p.nz,b.y+p.pz)}),b.x+=p.mz,d=n)}}f.push(b.x);g=Math.max(g,b.x);d=[];for(m=0;m<=h;m++)n=0,"right"===this.style.align?n=g-f[m]:"center"===this.style.align&&(n=(g-f[m])/2),d.push(n);for(m=0;m<c.length;m++)f=new e.v(c[m].g),f.position.x=(c[m].position.x+d[c[m].js])*k,f.position.y=c[m].position.y*k,f.scale.x=f.scale.y=k,this.og(f);this.width=g*k;this.height=
(b.y+a.lineHeight)*k};e.Va.prototype.Oa=function(){if(this.I){for(;0<this.children.length;)this.removeChild(this.Lr(0));this.Pj();this.I=!1}e.Pa.prototype.Oa.call(this)};e.Va.Zn={};e.va=function(a,b){this.canvas=document.createElement("canvas");this.f=this.canvas.getContext("2d");e.v.call(this,e.R.gw(this.canvas));this.im(a);this.Og(b);this.Pj();this.I=!1};e.va.prototype=Object.create(e.v.prototype);e.va.prototype.constructor=e.va;e.va.prototype.Og=function(a){a=a||{};a.font=a.font||"bold 20pt Arial";
a.fill=a.fill||"black";a.align=a.align||"left";a.stroke=a.stroke||"black";a.Pg=a.Pg||0;a.wordWrap=a.wordWrap||!1;a.Cp=a.Cp||100;this.style=a;this.I=!0};e.va.prototype.im=function(a){this.text=a.toString()||" ";this.I=!0};e.va.prototype.Pj=function(){this.f.font=this.style.font;var a=this.text;this.style.wordWrap&&(a=this.wordWrap(this.text));for(var a=a.split(/(?:\r\n|\r|\n)/),b=[],d=0,c=0;c<a.length;c++){var g=this.f.measureText(a[c]).width;b[c]=g;d=Math.max(d,g)}this.canvas.width=d+this.style.Pg;
g=this.Uv("font: "+this.style.font+";")+this.style.Pg;this.canvas.height=g*a.length;this.f.fillStyle=this.style.fill;this.f.font=this.style.font;this.f.strokeStyle=this.style.stroke;this.f.lineWidth=this.style.Pg;this.f.textBaseline="top";for(c=0;c<a.length;c++){var f=new e.p(this.style.Pg/2,this.style.Pg/2+c*g);"right"===this.style.align?f.x+=d-b[c]:"center"===this.style.align&&(f.x+=(d-b[c])/2);this.style.stroke&&this.style.Pg&&this.f.strokeText(a[c],f.x,f.y);this.style.fill&&this.f.fillText(a[c],
f.x,f.y)}this.Wf()};e.va.prototype.Wf=function(){this.g.A.width=this.canvas.width;this.g.A.height=this.canvas.height;this.g.frame.width=this.canvas.width;this.g.frame.height=this.canvas.height;this.ng=this.canvas.width;this.eg=this.canvas.height;e.Pd.push(this.g.A)};e.va.prototype.Oa=function(){this.I&&(this.Pj(),this.I=!1);e.v.prototype.Oa.call(this)};e.va.prototype.Uv=function(a){var b=e.va.Sr[a];if(!b){var d=document.getElementsByTagName("body")[0],c=document.createElement("div");c.appendChild(document.createTextNode("M"));
c.setAttribute("style",a+";position:absolute;top:0;left:0");d.appendChild(c);b=c.offsetHeight;e.va.Sr[a]=b;d.removeChild(c)}return b};e.va.prototype.wordWrap=function(a){var b="";a=a.split("\n");for(var d=0;d<a.length;d++){for(var c=this.style.Cp,e=a[d].split(" "),f=0;f<e.length;f++){var h=this.f.measureText(e[f]).width,k=h+this.f.measureText(" ").width;k>c?(0<f&&(b+="\n"),b+=e[f]+" ",c=this.style.Cp-h):(c-=k,b+=e[f]+" ")}b+="\n"}return b};e.va.prototype.N=function(a){a&&this.g.N()};e.va.Sr={};e.pb=
{};e.Pd=[];e.ai=[];e.Fa=function(a,b){e.dk.call(this);this.height=this.width=100;this.tb=b||e.Fa.bg.hu;this.gd=!1;if(this.source=a){if(this.source instanceof Image||this.source instanceof HTMLImageElement)if(this.source.complete)this.gd=!0,this.width=this.source.width,this.height=this.source.height,e.Pd.push(this);else{var d=this;this.source.onload=function(){d.gd=!0;d.width=d.source.width;d.height=d.source.height;e.Pd.push(d);d.dispatchEvent({type:"loaded",content:d})}}else this.gd=!0,this.width=
this.source.width,this.height=this.source.height,e.Pd.push(this);this.zl=null;this.iq=!1}};e.Fa.prototype.constructor=e.Fa;e.Fa.prototype.N=function(){this.source instanceof Image&&(this.zl in e.pb&&delete e.pb[this.zl],this.zl=null,this.source.src=null);this.source=null;e.ai.push(this)};e.Fa.tl=function(a,b,d){var c=e.pb[a];c||(c=new Image,b&&(c.crossOrigin=""),c.src=a,c=new e.Fa(c,d),c.zl=a,e.pb[a]=c);return c};e.Fa.bg={hu:0,LINEAR:0,NEAREST:1};e.U={};e.MA={};e.R=function(a,b){e.dk.call(this);b||
(this.Ho=!0,b=new e.u(0,0,1,1));a instanceof e.R&&(a=a.A);this.A=a;this.frame=b;this.trim=new e.p;this.scope=this;if(a.gd)this.Ho&&(b=new e.u(0,0,a.width,a.height)),this.ry(b);else{var d=this;a.addEventListener("loaded",function(){d.lx()})}};e.R.prototype.constructor=e.R;e.R.prototype.lx=function(){var a=this.A;a.removeEventListener("loaded",this.VD);this.Ho&&(this.frame=new e.u(0,0,a.width,a.height));this.Ho=!1;this.width=this.frame.width;this.height=this.frame.height;this.scope.dispatchEvent({type:"update",
content:this})};e.R.prototype.N=function(a){a&&this.A.N()};e.R.prototype.ry=function(a){this.frame=a;this.width=a.width;this.height=a.height;if(a.x+a.width>this.A.width||a.y+a.height>this.A.height)throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.Eb=!0;e.R.de.push(this)};e.R.tl=function(a,b,d){var c=e.U[a];c||(c=new e.R(e.Fa.tl(a,b,d)),e.U[a]=c);return c};e.R.hw=function(a){var b=e.U[a];if(!b)throw Error('The frameId "'+a+'" does not exist in the texture cache '+
this);return b};e.R.gw=function(a){a=new e.Fa(a,void 0);return new e.R(a)};e.R.FC=function(a,b){e.U[b]=a};e.R.aE=function(a){var b=e.U[a];e.U[a]=null;return b};e.R.de=[];e.R.bg=e.Fa.bg;e.qb=function(a,b){e.dk.call(this);this.width=a||100;this.height=b||100;e.wb.create();this.frame=new e.u(0,0,this.width,this.height);e.k?this.Bl():this.vo()};e.qb.prototype=Object.create(e.R.prototype);e.qb.prototype.constructor=e.qb;e.qb.prototype.Bl=function(){var a=e.k;this.Zb=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,
this.Zb);this.Zb.width=this.width;this.Zb.height=this.height;this.A=new e.Fa;this.A.width=this.width;this.A.height=this.height;this.A.ib=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.A.ib);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,null);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,
a.CLAMP_TO_EDGE);this.A.Xw=!0;a.bindFramebuffer(a.FRAMEBUFFER,this.Zb);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.A.ib,0);this.Ua=new e.p(this.width/2,-this.height/2);this.qa=this.Fj};e.qb.prototype.resize=function(a,b){this.width=a;this.height=b;if(e.k){this.Ua.x=this.width/2;this.Ua.y=-this.height/2;var d=e.k;d.bindTexture(d.TEXTURE_2D,this.A.ib);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,this.width,this.height,0,d.RGBA,d.UNSIGNED_BYTE,null)}else this.frame.width=this.width,
this.frame.height=this.height,this.fa.resize(this.width,this.height)};e.qb.prototype.vo=function(){this.fa=new e.Rc(this.width,this.height,null,0);this.A=new e.Fa(this.fa.view);this.frame=new e.u(0,0,this.width,this.height);this.qa=this.Xh};e.qb.prototype.Fj=function(a,b,d){var c=e.k;c.colorMask(!0,!0,!0,!0);c.viewport(0,0,this.width,this.height);c.bindFramebuffer(c.FRAMEBUFFER,this.Zb);d&&(c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT));var g=a.children;d=a.t;a.t=e.wb.create();a.t[4]=-1;a.t[5]=
-2*this.Ua.y;b&&(a.t[2]=b.x,a.t[5]-=b.y);e.rd++;a.di=e.rd;b=0;for(var f=g.length;b<f;b++)g[b].Oa();(g=a.ja)?a===g.root?g.qa(this.Ua,this.Zb):g.qt(a,this.Ua,this.Zb):(this.Mg||(this.Mg=new e.Wa(c)),this.Mg.jp(a),this.Mg.qa(this.Ua,this.Zb));a.t=d};e.qb.prototype.Xh=function(a,b,d){var c=a.children;a.t=e.wb.create();b&&(a.t[2]=b.x,a.t[5]=b.y);b=0;for(var g=c.length;b<g;b++)c[b].Oa();d&&this.fa.f.clearRect(0,0,this.width,this.height);this.fa.Cj(a);this.fa.f.setTransform(1,0,0,1,0,0)};e.dk=function(){var a=
{};this.addEventListener=this.Kh=function(b,d){void 0===a[b]&&(a[b]=[]);-1===a[b].indexOf(d)&&a[b].push(d)};this.dispatchEvent=function(b){if(a[b.type]&&a[b.type].length)for(var d=0,c=a[b.type].length;d<c;d++)a[b.type][d](b)};this.removeEventListener=function(b,d){var c=a[b].indexOf(d);-1!==c&&a[b].splice(c,1)}};e.Vg={};e.Vg.xu=function(a){var b=!0,d=a.length>>1;if(3>d)return[];for(var c=[],g=[],f=0;f<d;f++)g.push(f);for(var f=0,h=d;3<h;){var k=g[(f+0)%h],m=g[(f+1)%h],n=g[(f+2)%h],p=a[2*k],r=a[2*
k+1],q=a[2*m],s=a[2*m+1],w=a[2*n],t=a[2*n+1],z=!1;if(e.Vg.Ku(p,r,q,s,w,t,b))for(var z=!0,y=0;y<h;y++){var u=g[y];if(u!==k&&u!==m&&u!==n&&e.Vg.Au(a[2*u],a[2*u+1],p,r,q,s,w,t)){z=!1;break}}if(z)c.push(k,m,n),g.splice((f+1)%h,1),h--,f=0;else if(f++>3*h)if(b){c=[];g=[];for(f=0;f<d;f++)g.push(f);f=0;h=d;b=!1}else return window.console.log("PIXI Warning: shape too complex to fill"),[]}c.push(g[0],g[1],g[2]);return c};e.Vg.Au=function(a,b,d,c,e,f,h,k){h-=d;k-=c;e-=d;f-=c;a-=d;d=b-c;b=h*h+k*k;c=h*e+k*f;h=
h*a+k*d;k=e*e+f*f;e=e*a+f*d;f=1/(b*k-c*c);k=(k*h-c*e)*f;h=(b*e-c*h)*f;return 0<=k&&0<=h&&1>k+h};e.Vg.Ku=function(a,b,d,c,e,f,h){return 0<=(b-c)*(e-d)+(d-a)*(f-c)===h};c.Qc=function(a,b,d,e,g,f){this.c=a;this.s=a.s;this.id=0;this.view=new c.u(d,e,g,f);this.oy=new c.u(d,e,g,f);this.o=new c.u(d,e,g,f);this.vg=null;this.visible=!0;this.qh={x:!1,y:!1};this.target=null;this.Uc=0;this.Un=null};c.Qc.HA=0;c.Qc.IA=1;c.Qc.JA=2;c.Qc.KA=3;c.Qc.prototype={cw:function(a,b){this.ty(Math.round(a-this.view.ge),Math.round(b-
this.view.fe))},update:function(){this.target&&this.ez();this.o&&this.Fe();this.Un.position.x=-this.view.x;this.Un.position.y=-this.view.y},ez:function(){this.vg?(this.Uc=this.target.x-this.vg.x,this.view.x>this.Uc&&(this.view.x=this.Uc),this.Uc=this.target.x+this.target.width-this.vg.x-this.vg.width,this.view.x<this.Uc&&(this.view.x=this.Uc),this.Uc=this.target.y-this.vg.y,this.view.y>this.Uc&&(this.view.y=this.Uc),this.Uc=this.target.y+this.target.height-this.vg.y-this.vg.height,this.view.y<this.Uc&&
(this.view.y=this.Uc)):this.cw(this.target.x,this.target.y)},ip:function(){this.o.Q(this.c.s.o.x,this.c.s.o.y,this.c.s.o.width,this.c.s.o.height)},Fe:function(){this.qh.x=!1;this.qh.y=!1;this.view.x<this.o.x&&(this.qh.x=!0,this.view.x=this.o.x);this.view.right>this.o.right&&(this.qh.x=!0,this.view.x=this.o.right-this.width);this.view.y<this.o.top&&(this.qh.y=!0,this.view.y=this.o.top);this.view.bottom>this.o.bottom&&(this.qh.y=!0,this.view.y=this.o.bottom-this.height);this.view.floor()},ty:function(a,
b){this.view.x=a;this.view.y=b;this.o&&this.Fe()},mp:function(a,b){this.view.width=a;this.view.height=b}};c.Qc.prototype.constructor=c.Qc;Object.defineProperty(c.Qc.prototype,"x",{get:function(){return this.view.x},set:function(a){this.view.x=a;this.o&&this.Fe()}});Object.defineProperty(c.Qc.prototype,"y",{get:function(){return this.view.y},set:function(a){this.view.y=a;this.o&&this.Fe()}});Object.defineProperty(c.Qc.prototype,"width",{get:function(){return this.view.width},set:function(a){this.view.width=
a}});Object.defineProperty(c.Qc.prototype,"height",{get:function(){return this.view.height},set:function(a){this.view.height=a}});c.tk=function(){this.Qb=this.Qh=this.s=this.Qg=this.time=this.q=this.Ka=this.xb=this.load=this.input=this.K=this.na=this.add=this.c=null};c.tk.prototype={Zl:function(){},create:function(){},update:function(){},qa:function(){},paused:function(){},N:function(){}};c.tk.prototype.constructor=c.tk;c.mi=function(a,b){this.c=a;this.ia={};this.ff=null;"undefined"!==typeof b&&null!==
b&&(this.ff=b);this.df=!1;this.current="";this.Sl=this.Nh=this.sj=this.tj=this.vj=this.Ph=this.pj=this.uj=this.Pl=null};c.mi.prototype={Jc:function(){this.c.Mh.add(this.pause,this);this.c.Oh.add(this.Lf,this);null!==this.ff&&("string"===typeof this.ff?this.start(this.ff,!1,!1):this.add("default",this.ff,!0))},add:function(a,b,d){"undefined"===typeof d&&(d=!1);var e;b instanceof c.tk?e=b:"object"===typeof b?(e=b,e.c=this.c):"function"===typeof b&&(e=new b(this.c));this.ia[a]=e;d&&(this.c.Ch?this.start(a):
this.ff=a);return e},remove:function(a){this.current==a&&(this.Nh=this.vj=this.Ph=this.pj=this.tj=this.sj=this.uj=this.Sl=this.Pl=this.L=null);delete this.ia[a]},start:function(a,b,d){"undefined"===typeof b&&(b=!0);"undefined"===typeof d&&(d=!1);!1===this.c.Ch?this.ff=a:!1!==this.Bv(a)&&(this.current&&this.Sl.call(this.L,this.c),b&&(this.c.Qg.Nd(),this.c.s.N(),!0===d&&this.c.K.N()),this.qy(a),this.uj?(this.c.load.reset(),this.uj.call(this.L,this.c),0===this.c.load.It()?this.c.jj():this.c.load.start()):
this.c.jj())},ur:function(){},Bv:function(a){if(this.ia[a]){var b=!1;this.ia[a].preload&&(b=!0);!1===b&&this.ia[a].loadRender&&(b=!0);!1===b&&this.ia[a].loadUpdate&&(b=!0);!1===b&&this.ia[a].create&&(b=!0);!1===b&&this.ia[a].update&&(b=!0);!1===b&&this.ia[a].preRender&&(b=!0);!1===b&&this.ia[a].render&&(b=!0);!1===b&&this.ia[a].paused&&(b=!0);return!1===b?(console.warn("Invalid Phaser State object given. Must contain at least a one of the required functions."),!1):!0}console.warn("Phaser.StateManager - No state found with the key: "+
a);return!1},link:function(a){this.ia[a].c=this.c;this.ia[a].add=this.c.add;this.ia[a].na=this.c.na;this.ia[a].K=this.c.K;this.ia[a].input=this.c.input;this.ia[a].load=this.c.load;this.ia[a].xb=this.c.xb;this.ia[a].Ka=this.c.Ka;this.ia[a].q=this.c.q;this.ia[a].time=this.c.time;this.ia[a].Qg=this.c.Qg;this.ia[a].s=this.c.s;this.ia[a].Qh=this.c.Qh;this.ia[a].Qb=this.c.Qb;this.ia[a].Na=this.c.Na},qy:function(a){this.L=this.ia[a];this.link(a);this.Pl=this.ia[a].init||this.ur;this.uj=this.ia[a].preload||
null;this.sj=this.ia[a].loadRender||null;this.tj=this.ia[a].loadUpdate||null;this.pj=this.ia[a].create||null;this.Ph=this.ia[a].update||null;this.vj=this.ia[a].render||null;this.Nh=this.ia[a].paused||null;this.Sl=this.ia[a].shutdown||this.ur;this.current=a;this.df=!1;this.Pl.call(this.L,this.c)},jj:function(){!1===this.df&&this.pj?(this.df=!0,this.pj.call(this.L,this.c)):this.df=!0},pause:function(){this.df&&this.Nh&&this.Nh.call(this.L,this.c,!0)},Lf:function(){this.df&&this.WD&&this.Nh.call(this.L,
this.c,!1)},update:function(){this.df&&this.Ph?this.Ph.call(this.L,this.c):this.tj&&this.tj.call(this.L,this.c)},qa:function(){this.df&&this.vj?(this.c.lc===c.gi&&(this.c.f.save(),this.c.f.setTransform(1,0,0,1,0,0)),this.vj.call(this.L,this.c),this.c.lc===c.gi&&this.c.f.restore()):this.sj&&this.sj.call(this.L,this.c)},N:function(){this.c=this.Nh=this.vj=this.Ph=this.pj=this.tj=this.sj=this.uj=this.Sl=this.Pl=this.L=null;this.ia={};this.ff=null}};c.mi.prototype.constructor=c.mi;c.ik=function(){this.G=
this.first=this.Jf=this.next=null;this.total=0};c.ik.prototype={add:function(a){if(0===this.total&&null==this.first&&null==this.G)return this.next=this.G=this.first=a,a.Jf=this,this.total++,a;this.G.next=a;a.Jf=this.G;this.G=a;this.total++;return a},remove:function(a){a==this.first?this.first=this.first.next:a==this.G&&(this.G=this.G.Jf);a.Jf&&(a.Jf.next=a.next);a.next&&(a.next.Jf=a.Jf);a.next=a.Jf=null;null==this.first&&(this.G=null);this.total--},Mq:function(a){if(this.first&&this.G){var b=this.first;
do b&&b[a]&&b[a].call(b),b=b.next;while(b!=this.G.next)}}};c.ik.prototype.constructor=c.ik;c.H=function(){this.ec=[];this.Ok=null;var a=this;this.B=function(){c.H.prototype.B.apply(a,arguments)}};c.H.prototype={us:!1,oq:!0,xa:!0,Vt:function(a,b){if("function"!==typeof a)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b));},Su:function(a,b,d,e){var g=this.Yp(a,d);if(-1!==g){if(a=this.ec[g],a.Um!==b)throw Error("You cannot add"+(b?"":"Once")+"() then add"+
(b?"Once":"")+"() the same listener without removing the relationship first.");}else a=new c.sk(this,a,b,d,e),this.Cu(a);this.us&&this.Ok&&a.zr(this.Ok);return a},Cu:function(a){var b=this.ec.length;do--b;while(this.ec[b]&&a.lq<=this.ec[b].lq);this.ec.splice(b+1,0,a)},Yp:function(a,b){for(var d=this.ec.length,c;d--;)if(c=this.ec[d],c.hh===a&&c.f===b)return d;return-1},add:function(a,b,d){this.Vt(a,"add");return this.Su(a,!1,b,d)},remove:function(a,b){this.Vt(a,"remove");var d=this.Yp(a,b);-1!==d&&
(this.ec[d].Vp(),this.ec.splice(d,1));return a},Nd:function(){for(var a=this.ec.length;a--;)this.ec[a].Vp();this.ec.length=0},B:function(){if(this.xa){var a=Array.prototype.slice.call(arguments),b=this.ec.length,d;this.us&&(this.Ok=a);if(b){d=this.ec.slice();this.oq=!0;do b--;while(d[b]&&this.oq&&!1!==d[b].zr(a))}}},Mb:function(){this.Nd();delete this.ec;delete this.Ok},toString:function(){return"[Phaser.Signal active:"+this.xa+" numListeners:"+this.ec.length+"]"}};c.H.prototype.constructor=c.H;c.sk=
function(a,b,d,c,e){this.hh=b;this.Um=d;this.f=c;this.mn=a;this.lq=e||0};c.sk.prototype={xa:!0,Ts:null,zr:function(a){var b;this.xa&&this.hh&&(a=this.Ts?this.Ts.concat(a):a,b=this.hh.apply(this.f,a),this.Um&&this.detach());return b},detach:function(){return this.as()?this.mn.remove(this.hh,this.f):null},as:function(){return!!this.mn&&!!this.hh},Vp:function(){delete this.mn;delete this.hh;delete this.f},toString:function(){return"[Phaser.SignalBinding isOnce:"+this.Um+", isBound:"+this.as()+", active:"+
this.xa+"]"}};c.sk.prototype.constructor=c.sk;c.ii=function(a,b,d){this.c=a;this.type=c.yu;this.Vs=[this];this.I=!0;this.padding=0;this.mb={time:{type:"1f",value:0},em:{type:"2f",value:{x:256,y:256}},he:{type:"2f",value:{x:0,y:0}}};this.Je=d||[]};c.ii.prototype={hd:function(){},update:function(a){"undefined"!==typeof a&&(0<a.x&&(this.mb.he.x=a.x.toFixed(2)),0<a.y&&(this.mb.he.y=a.y.toFixed(2)));this.mb.time.value=this.c.time.Uy()},N:function(){this.c=null}};c.ii.prototype.constructor=c.ii;Object.defineProperty(c.ii.prototype,
"width",{get:function(){return this.mb.em.value.x},set:function(a){this.mb.em.value.x=a}});Object.defineProperty(c.ii.prototype,"height",{get:function(){return this.mb.em.value.y},set:function(a){this.mb.em.value.y=a}});c.Fm=function(a,b){"undefined"===typeof b&&(b=null);this.c=a;this.parent=b;this.no=this.qo=this.oo=this.ro=this.po=this.visible=this.xa=!1};c.Fm.prototype={Oe:function(){},update:function(){},qa:function(){},Ro:function(){},N:function(){this.parent=this.c=null;this.visible=this.xa=
!1}};c.Fm.prototype.constructor=c.Fm;c.pk=function(a,b){this.c=a;this.Jb=b;this.plugins=[];this.Xb=0};c.pk.prototype={add:function(a){var b=!1;"function"===typeof a?a=new a(this.c,this.Jb):(a.c=this.c,a.parent=this.Jb);"function"===typeof a.preUpdate&&(b=a.po=!0);"function"===typeof a.update&&(b=a.ro=!0);"function"===typeof a.postUpdate&&(b=a.oo=!0);"function"===typeof a.render&&(b=a.qo=!0);"function"===typeof a.postRender&&(b=a.no=!0);if(b){if(a.po||a.ro||a.oo)a.xa=!0;if(a.qo||a.no)a.visible=!0;
this.Xb=this.plugins.push(a);"function"===typeof a.init&&a.hd();return a}return null},remove:function(a){if(0!==this.Xb)for(this.W=0;this.W<this.Xb;this.W++)if(this.plugins[this.W]===a){a.N();this.plugins.splice(this.W,1);this.Xb--;break}},Nd:function(){for(this.W=0;this.W<this.Xb;this.W++)this.plugins[this.W].N();this.Xb=this.plugins.length=0},Oe:function(){if(0!==this.Xb)for(this.W=0;this.W<this.Xb;this.W++)this.plugins[this.W].xa&&this.plugins[this.W].po&&this.plugins[this.W].Oe()},update:function(){if(0!==
this.Xb)for(this.W=0;this.W<this.Xb;this.W++)this.plugins[this.W].xa&&this.plugins[this.W].ro&&this.plugins[this.W].update()},md:function(){if(0!==this.Xb)for(this.W=0;this.W<this.Xb;this.W++)this.plugins[this.W].xa&&this.plugins[this.W].oo&&this.plugins[this.W].md()},qa:function(){if(0!==this.Xb)for(this.W=0;this.W<this.Xb;this.W++)this.plugins[this.W].visible&&this.plugins[this.W].qo&&this.plugins[this.W].qa()},Ro:function(){if(0!==this.Xb)for(this.W=0;this.W<this.Xb;this.W++)this.plugins[this.W].visible&&
this.plugins[this.W].no&&this.plugins[this.W].Ro()},N:function(){this.Xb=this.plugins.length=0;this.Jb=this.c=null}};c.pk.prototype.constructor=c.pk;c.Tc=function(a,b,d){this.c=a;this.Tp="rgb(0,0,0)";this.offset=new c.p;this.canvas=null;this.Ya=new e.Tc(0,!1);this.Ya.name="_stage_root";this.Ya.Fg=!1;this.display=this.Ya;this.$i=this.tb=c.gb.nk;this.scale=new c.gb(this.c,b,d);this.il=!1;this.dq=0;this.En=2500;a.Jn?this.Qo(a.Jn):(this.canvas=c.Fc.create(b,d),this.canvas.style["-webkit-full-screen"]=
"width: 100%; height: 100%")};c.Tc.prototype={Qo:function(a){this.canvas=a.canvasID?c.Fc.create(this.c.width,this.c.height,a.canvasID):c.Fc.create(this.c.width,this.c.height);a.canvasStyle?this.canvas.oE=a.canvasStyle:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%";a.checkOffsetInterval&&(this.En=a.checkOffsetInterval);a.disableVisibilityChange&&(this.il=a.disableVisibilityChange);a.fullScreenScaleMode&&(this.$i=a.fullScreenScaleMode);a.scaleMode&&(this.tb=a.scaleMode);a.backgroundColor&&
(this.backgroundColor=a.backgroundColor)},Jc:function(){c.Fc.eo(this.canvas,this.offset);this.o=new c.u(this.offset.x,this.offset.y,this.c.width,this.c.height);var a=this;this.jh=function(b){return a.gz(b)};c.Fc.zy(this.canvas,"none");c.Fc.At(this.canvas,"none");this.backgroundColor="#000";document.addEventListener("visibilitychange",this.jh,!1);document.addEventListener("webkitvisibilitychange",this.jh,!1);document.addEventListener("pagehide",this.jh,!1);document.addEventListener("pageshow",this.jh,
!1);window.onblur=this.jh;window.onfocus=this.jh},update:function(){!1!==this.En&&this.c.time.now>this.dq&&(c.Fc.eo(this.canvas,this.offset),this.dq=this.c.time.now+this.En)},gz:function(a){this.il||(this.c.paused=!1!==this.c.paused||"pagehide"!=a.type&&"blur"!=a.type&&!0!==document.hidden&&!0!==document.webkitHidden?!1:!0)}};c.Tc.prototype.constructor=c.Tc;Object.defineProperty(c.Tc.prototype,"backgroundColor",{get:function(){return this.Tp},set:function(a){this.Tp=a;!1===this.c.bc&&(this.c.lc==
c.gi?this.c.canvas.style.backgroundColor=a:("string"===typeof a&&(a=c.fb.Hw(a)),this.Ya.hp(a)))}});c.ra=function(a,b,d,l){this.c=a;"undefined"===typeof b&&(b=a.s);this.name=d||"group";"undefined"===typeof l&&(l=!1);l?this.j=this.c.q.Ya:(this.j=new e.Pa,this.j.name=this.name,b?b instanceof c.ra?b.j.og(this.j):(b.og(this.j),b.Oa()):(this.c.q.Ya.og(this.j),this.c.q.Ya.Oa()));this.type=c.Ze;this.Da=this.ad=!0;this.group=null;this.j.scale=new c.p(1,1);this.scale=this.j.scale;this.Th=this.j.Th;this.cursor=
null};c.ra.IB=0;c.ra.Hm=1;c.ra.Gm=2;c.ra.Jp=-1;c.ra.SB=1;c.ra.prototype={add:function(a){a.group!==this&&(a.type&&a.type===c.Ze?(a.group=this,this.j.og(a.j),a.j.Oa()):(a.group=this,this.j.og(a),a.Oa(),a.m&&a.m.Nl.B(a,this)),null===this.cursor&&(this.cursor=a));return a},ul:function(a){return this.j.Lr(a)},create:function(a,b,d,e,g){"undefined"===typeof g&&(g=!0);a=new c.v(this.c,a,b,d,e);a.group=this;a.Da=g;a.visible=g;a.ad=g;this.j.og(a);a.Oa();a.m&&a.m.Nl.B(a,this);null===this.cursor&&(this.cursor=
a);return a},next:function(){this.cursor&&(this.cursor=this.cursor==this.j.G?this.j.l:this.cursor.l)},tp:function(a,b){if(a===b||!a.parent||!b.parent||a.group!==this||b.group!==this)return!1;var d=a.ma,c=a.l,e=b.ma,f=b.l,h=this.j.G.l,k=this.c.q.Ya;do k!==a&&k!==b&&(k.first===a?k.first=b:k.first===b&&(k.first=a),k.G===a?k.G=b:k.G===b&&(k.G=a)),k=k.l;while(k!=h);if(a.l==b){a.l=f;a.ma=b;b.l=a;if(b.ma=d)d.l=b;f&&(f.ma=a)}else if(b.l==a)a.l=b,a.ma=e,b.l=c,b.ma=a,e&&(e.l=a),c&&(c.ma=b);else{a.l=f;a.ma=
e;b.l=c;if(b.ma=d)d.l=b;c&&(c.ma=b);e&&(e.l=a);f&&(f.ma=a)}a.ja&&a.ja.Wf(a);b.ja&&b.ja.Wf(b);return!0},of:function(a){a.group===this&&(this.remove(a),this.add(a));return a},Bg:function(a){return this.j.children.indexOf(a)},replace:function(a,b){if(this.j.first.l){var d=this.Bg(a);-1!=d&&(void 0!==b.parent&&(b.m.Rl.B(b,this),b.parent.removeChild(b)),this.j.removeChild(a),this.j.bv(b,d),b.m.Nl.B(b,this),b.Oa(),this.cursor==a&&(this.cursor=this.j.l))}},setProperty:function(a,b,d,c){c=c||0;var e=b.length;
1==e?0===c?a[b[0]]=d:1==c?a[b[0]]+=d:2==c?a[b[0]]-=d:3==c?a[b[0]]*=d:4==c&&(a[b[0]]/=d):2==e?0===c?a[b[0]][b[1]]=d:1==c?a[b[0]][b[1]]+=d:2==c?a[b[0]][b[1]]-=d:3==c?a[b[0]][b[1]]*=d:4==c&&(a[b[0]][b[1]]/=d):3==e?0===c?a[b[0]][b[1]][b[2]]=d:1==c?a[b[0]][b[1]][b[2]]+=d:2==c?a[b[0]][b[1]][b[2]]-=d:3==c?a[b[0]][b[1]][b[2]]*=d:4==c&&(a[b[0]][b[1]][b[2]]/=d):4==e&&(0===c?a[b[0]][b[1]][b[2]][b[3]]=d:1==c?a[b[0]][b[1]][b[2]][b[3]]+=d:2==c?a[b[0]][b[1]][b[2]][b[3]]-=d:3==c?a[b[0]][b[1]][b[2]][b[3]]*=d:4==c&&
(a[b[0]][b[1]][b[2]][b[3]]/=d))},set:function(a,b,d,c,e,f){b=b.split(".");"undefined"===typeof c&&(c=!1);"undefined"===typeof e&&(e=!1);(!1===c||c&&a.ad)&&(!1===e||e&&a.visible)&&this.setProperty(a,b,d,f)},Nq:function(a,b,d){if(1==d){if(a[b[0]])return a[b[0]]}else if(2==d){if(a[b[0]][b[1]])return a[b[0]][b[1]]}else if(3==d){if(a[b[0]][b[1]][b[2]])return a[b[0]][b[1]][b[2]]}else if(4==d){if(a[b[0]][b[1]][b[2]][b[3]])return a[b[0]][b[1]][b[2]][b[3]]}else if(a[b])return a[b];return!1},Mq:function(a,
b){if("undefined"!==typeof a){a=a.split(".");var d=a.length;if("undefined"===typeof b)b=null;else if("string"===typeof b){b=b.split(".");var c=b.length}var e=Array.prototype.splice.call(arguments,2),f=null,h=null;if(0<this.j.children.length&&this.j.first.l){var k=this.j.first.l;do f=this.Nq(k,a,d),b&&f?(h=this.Nq(k,b,c),f&&f.apply(h,e)):f&&f.apply(k,e),k=k.l;while(k!=this.j.G.l)}}},forEach:function(a,b,d){"undefined"===typeof d&&(d=!1);var c=Array.prototype.splice.call(arguments,3);c.unshift(null);
if(0<this.j.children.length&&this.j.first.l){var e=this.j.first.l;do{if(!1===d||d&&e.Da)c[0]=e,a.apply(b,c);e=e.l}while(e!=this.j.G.l)}},sort:function(a,b){"undefined"===typeof a&&(a="y");"undefined"===typeof b&&(b=c.ra.Jp);var d;do{d=!1;for(var e=0,g=this.j.children.length-1;e<g;e++)b==c.ra.Jp?this.j.children[e][a]>this.j.children[e+1][a]&&(this.tp(this.ul(e),this.ul(e+1)),d=this.j.children[e],this.j.children[e]=this.j.children[e+1],this.j.children[e+1]=d,d=!0):this.j.children[e][a]<this.j.children[e+
1][a]&&(this.tp(this.ul(e),this.ul(e+1)),d=this.j.children[e],this.j.children[e]=this.j.children[e+1],this.j.children[e+1]=d,d=!0)}while(d)},es:function(a,b,d,e,g,f){if(d===c.ra.Hm&&0===this.j.children.length)return 0;"undefined"===typeof e&&(e=!1);var h=0;if(0<this.j.children.length&&this.j.first.l){var k=this.j.first.l;do{if(k[a]===b&&(h++,e&&(f[0]=k,e.apply(g,f)),d===c.ra.Gm))return k;k=k.l}while(k!=this.j.G.l)}if(d===c.ra.Hm)return h;if(d===c.ra.Gm)return null},nw:function(a){"boolean"!==typeof a&&
(a=!0);return this.es("exists",a,c.ra.Gm)},Or:function(a,b){if(0===this.j.children.length)return null;b=b||this.j.children.length;return this.c.xb.Or(this.j.children,a||0,b)},remove:function(a){if(a.group!==this)return!1;a.m&&a.m.Rl.B(a,this);a.parent===this.j&&this.j.removeChild(a);this.cursor==a&&(this.cursor=this.j.l?this.j.l:null);a.group=null;return!0},Nd:function(){if(0!==this.j.children.length){do this.j.children[0].m&&this.j.children[0].m.Rl.B(this.j.children[0],this),this.j.removeChild(this.j.children[0]);
while(0<this.j.children.length);this.cursor=null}},N:function(a){"undefined"===typeof a&&(a=!1);if(a){if(0<this.j.children.length){do this.j.children[0].group&&this.j.children[0].N();while(0<this.j.children.length)}}else this.Nd();this.j.parent.removeChild(this.j);this.c=this.j=null;this.Da=!1;this.cursor=null}};c.ra.prototype.constructor=c.ra;Object.defineProperty(c.ra.prototype,"total",{get:function(){return this.j?this.es("exists",!0,c.ra.Hm):0}});Object.defineProperty(c.ra.prototype,"length",
{get:function(){return this.j?this.j.children.length:0}});Object.defineProperty(c.ra.prototype,"x",{get:function(){return this.j.position.x},set:function(a){this.j.position.x=a}});Object.defineProperty(c.ra.prototype,"y",{get:function(){return this.j.position.y},set:function(a){this.j.position.y=a}});Object.defineProperty(c.ra.prototype,"angle",{get:function(){return c.ca.Lg(this.j.rotation)},set:function(a){this.j.rotation=c.ca.wg(a)}});Object.defineProperty(c.ra.prototype,"rotation",{get:function(){return this.j.rotation},
set:function(a){this.j.rotation=a}});Object.defineProperty(c.ra.prototype,"visible",{get:function(){return this.j.visible},set:function(a){this.j.visible=a}});Object.defineProperty(c.ra.prototype,"alpha",{get:function(){return this.j.alpha},set:function(a){this.j.alpha=a}});c.Tb=function(a){c.ra.call(this,a,null,"__world",!1);this.o=new c.u(0,0,a.width,a.height);this.na=null;this.or=0};c.Tb.prototype=Object.create(c.ra.prototype);c.Tb.prototype.constructor=c.Tb;c.Tb.prototype.Jc=function(){this.na=
new c.Qc(this.c,0,0,0,this.c.width,this.c.height);this.na.Un=this.j;this.c.na=this.na};c.Tb.prototype.Oe=function(){if(this.c.q.Ya.first.l){var a=this.c.q.Ya.first.l;do a=a.preUpdate&&!a.Oe()?a.G.l:a.l;while(a!=this.c.q.Ya.G.l)}};c.Tb.prototype.update=function(){this.or=0;if(this.c.q.Ya.first.l){var a=this.c.q.Ya.first.l;do a=a.update&&!a.update()?a.G.l:a.l;while(a!=this.c.q.Ya.G.l)}};c.Tb.prototype.md=function(){if(this.na.target&&this.na.target.postUpdate){if(this.na.target.md(),this.na.update(),
this.c.q.Ya.first.l){var a=this.c.q.Ya.first.l;do a.postUpdate&&a!==this.na.target&&a.md(),a=a.l;while(a!=this.c.q.Ya.G.l)}}else if(this.na.update(),this.c.q.Ya.first.l){a=this.c.q.Ya.first.l;do a.postUpdate&&a.md(),a=a.l;while(a!=this.c.q.Ya.G.l)}};c.Tb.prototype.xt=function(a,b,d,c){d<this.c.width&&(d=this.c.width);c<this.c.height&&(c=this.c.height);this.o.Q(a,b,d,c);this.na.o&&this.na.o.Q(a,b,d,c);this.c.Qb.ip()};c.Tb.prototype.N=function(){this.na.x=0;this.na.y=0;this.c.input.reset(!0);this.Nd()};
Object.defineProperty(c.Tb.prototype,"width",{get:function(){return this.o.width},set:function(a){this.o.width=a}});Object.defineProperty(c.Tb.prototype,"height",{get:function(){return this.o.height},set:function(a){this.o.height=a}});Object.defineProperty(c.Tb.prototype,"centerX",{get:function(){return this.o.ge}});Object.defineProperty(c.Tb.prototype,"centerY",{get:function(){return this.o.fe}});Object.defineProperty(c.Tb.prototype,"randomX",{get:function(){return 0>this.o.x?this.c.Na.Ld(this.o.x,
this.o.width-Math.abs(this.o.x)):this.c.Na.Ld(this.o.x,this.o.width)}});Object.defineProperty(c.Tb.prototype,"randomY",{get:function(){return 0>this.o.y?this.c.Na.Ld(this.o.y,this.o.height-Math.abs(this.o.y)):this.c.Na.Ld(this.o.y,this.o.height)}});Object.defineProperty(c.Tb.prototype,"visible",{get:function(){return this.j.visible},set:function(a){this.j.visible=a}});c.$e=function(a,b,d,e,g,f,h){this.id=c.Am.push(this)-1;this.Jn=null;this.parent="";this.width=800;this.height=600;this.bc=!1;this.antialias=
!0;this.lc=this.fa=c.fi;this.state=null;this.Ch=this.Be=!1;this.Qh=this.debug=this.f=this.canvas=this.na=this.Ha=this.Na=this.Qb=this.s=this.Qg=this.time=this.q=this.Ka=this.xb=this.load=this.input=this.K=this.add=this.ap=null;this.Ys=this.Jy=!1;1===arguments.length&&"object"===typeof arguments[0]?this.Qo(arguments[0]):("undefined"!==typeof a&&(this.width=a),"undefined"!==typeof b&&(this.height=b),"undefined"!==typeof d&&(this.lc=this.fa=d),"undefined"!==typeof e&&(this.parent=e),"undefined"!==typeof f&&
(this.bc=f),"undefined"!==typeof h&&(this.antialias=h),this.state=new c.mi(this,g));var k=this;this.ih=function(){return k.Jc()};"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(this.ih,0):(document.addEventListener("DOMContentLoaded",this.ih,!1),window.addEventListener("load",this.ih,!1));return this};c.$e.prototype={Qo:function(a){this.Jn=a;a.width&&(this.width=this.Us(a.width,0));a.height&&(this.height=this.Us(a.height,1));a.renderer&&(this.lc=this.fa=a.renderer);
a.parent&&(this.parent=a.parent);a.transparent&&(this.bc=a.transparent);a.antialias&&(this.antialias=a.antialias);var b=null;a.state&&(b=a.state);this.state=new c.mi(this,b)},Us:function(a,b){var d=0,d=0;"string"===typeof a?"%"===a.substr(-1)?(d=parseInt(a,10)/100,d=0===b?window.innerWidth*d:window.innerHeight*d):d=parseInt(a,10):d=a;return d},Jc:function(){this.Ch||(document.body?(document.removeEventListener("DOMContentLoaded",this.ih),window.removeEventListener("load",this.ih),this.Mh=new c.H,
this.Oh=new c.H,this.Ch=!0,this.Ha=new c.ak,this.xb=c.ca,this.Na=new c.qk([(Date.now()*Math.random()).toString()]),this.q=new c.Tc(this,this.width,this.height),this.yy(),this.s=new c.Tb(this),this.add=new c.fk(this),this.K=new c.Zj(this),this.load=new c.Hc(this),this.time=new c.vk(this),this.Qg=new c.yk(this),this.input=new c.Aa(this),this.Ka=new c.Yg(this),this.Qb=new c.la.M(this),this.Qh=new c.Qa(this),this.plugins=new c.pk(this,this),this.debug=new c.uc.$j(this),this.time.Jc(),this.q.Jc(),this.s.Jc(),
this.input.Jc(),this.Ka.Jc(),this.state.Jc(),this.load.Mo.add(this.jj,this),this.By(),this.ap=new c.rk(this),this.ap.start()):window.setTimeout(this.ih,20))},By:function(){var a=c.iu,b="Canvas",d="HTML Audio";this.lc==c.Ak?b="WebGL":this.lc==c.Cm&&(b="Headless");this.Ha.Qj&&(d="WebAudio");this.Ha.chrome?console.log.apply(console,["%c %c %c  Phaser v"+a+" - Renderer: "+b+" - Audio: "+d+"  %c %c ","background: #00bff3","background: #0072bc","color: #ffffff; background: #003471","background: #0072bc",
"background: #00bff3"]):console.log("Phaser v"+a+" - Renderer: "+b+" - Audio: "+d)},yy:function(){if(this.lc===c.Cm||this.lc===c.gi||this.lc===c.fi&&!1===this.Ha.Rj)if(this.Ha.canvas)this.lc===c.fi&&(this.lc=c.gi),this.fa=new e.Rc(this.width,this.height,this.q.canvas,this.bc),c.Fc.wy(this.fa.f,this.antialias),this.canvas=this.fa.view,this.f=this.fa.f;else throw Error("Phaser.Game - cannot create Canvas or WebGL context, aborting.");else this.lc=c.Ak,this.fa=new e.Ja(this.width,this.height,this.q.canvas,
this.bc,this.antialias),this.canvas=this.fa.view,this.f=null;c.Fc.iv(this.fa.view,this.parent,!0);c.Fc.At(this.fa.view)},jj:function(){this.state.jj()},update:function(a){this.time.update(a);this.Be?(this.fa.qa(this.q.Ya),this.plugins.qa(),this.state.qa()):(this.Ys||(this.Jy&&(this.Ys=!0),this.plugins.Oe(),this.s.Oe(),this.q.update(),this.Qg.update(),this.Ka.update(),this.input.update(),this.state.update(),this.s.update(),this.Qh.update(),this.plugins.update(),this.s.md(),this.plugins.md()),this.lc!==
c.Cm&&(this.fa.qa(this.q.Ya),this.plugins.qa(),this.state.qa(),this.plugins.Ro()))},N:function(){this.ap.stop();this.input.N();this.state.N();this.s=this.time=this.q=this.Ka=this.load=this.input=this.K=this.state=null;this.Ch=!1}};c.$e.prototype.constructor=c.$e;Object.defineProperty(c.$e.prototype,"paused",{get:function(){return this.Be},set:function(a){!0===a?!1===this.Be&&(this.Be=!0,this.Mh.B(this)):this.Be&&(this.Be=!1,this.Oh.B(this))}});c.Aa=function(a){this.c=a;this.Go=this.yl=this.xl=null;
this.gx=this};c.Aa.jk=0;c.Aa.uk=1;c.Aa.ki=2;c.Aa.prototype={Wl:0,Di:0,vi:null,xc:0,yc:0,disabled:!1,ld:c.Aa.ki,position:null,speed:null,sg:null,scale:null,Do:10,cd:0,Ny:200,Yv:300,Nw:2E3,ey:!1,fy:100,dy:100,Kc:null,ke:null,bt:null,ct:null,dt:null,et:null,ft:null,gt:null,ht:null,at:null,xq:null,Df:null,he:null,jc:null,Nc:null,Ih:null,Hd:null,Ef:null,Gf:null,wj:null,Ol:null,xf:new c.ik,Jc:function(){this.Df=new c.te(this.c,0);this.Kc=new c.te(this.c,1);this.ke=new c.te(this.c,2);this.he=new c.se(this.c);
this.jc=new c.i(this.c);this.Nc=new c.wk(this.c);this.Ih=new c.kk(this.c);this.Hd=new c.J(this.c);this.Ef=new c.H;this.Gf=new c.H;this.wj=new c.H;this.Ol=new c.H;this.scale=new c.p(1,1);this.speed=new c.p;this.position=new c.p;this.vi=new c.p;this.sg=new c.eb(0,0,44);this.xq=this.Df;this.cd=0;this.xl=document.createElement("canvas");this.xl.width=1;this.xl.height=1;this.yl=this.xl.getContext("2d");this.he.start();this.jc.start();this.Nc.start();this.Ih.start();this.Df.xa=!0},N:function(){this.he.stop();
this.jc.stop();this.Nc.stop();this.Ih.stop();this.Hd.stop();this.Go=null},update:function(){0<this.Wl&&this.Di<this.Wl?this.Di++:(this.speed.x=this.position.x-this.vi.x,this.speed.y=this.position.y-this.vi.y,this.vi.Ln(this.position),this.Df.update(),this.Hd.xa&&this.Hd.update(),this.Kc.update(),this.ke.update(),this.bt&&this.bt.update(),this.ct&&this.ct.update(),this.dt&&this.dt.update(),this.et&&this.et.update(),this.ft&&this.ft.update(),this.gt&&this.gt.update(),this.ht&&this.ht.update(),this.at&&
this.at.update(),this.Di=0)},reset:function(a){if(!1!==this.c.Ch){"undefined"==typeof a&&(a=!1);this.jc.reset();this.Df.reset();this.Hd.reset();for(var b=1;10>=b;b++)this["pointer"+b]&&this["pointer"+b].reset();this.cd=0;"none"!==this.c.canvas.style.cursor&&(this.c.canvas.style.cursor="default");!0===a&&(this.Ef.Mb(),this.Gf.Mb(),this.wj.Mb(),this.Ol.Mb(),this.Ef=new c.H,this.Gf=new c.H,this.wj=new c.H,this.Ol=new c.H,this.xf.Mq("reset"));this.Di=0}},my:function(a,b){this.vi.Q(a,b);this.speed.Q(0,
0)},Gt:function(a){if(10>this.Do&&this.uE==this.Do)return null;if(!1===this.Kc.xa)return this.Kc.start(a);if(!1===this.ke.xa)return this.ke.start(a);for(var b=3;10>=b;b++)if(this["pointer"+b]&&!1===this["pointer"+b].xa)return this["pointer"+b].start(a);return null},St:function(a){if(this.Kc.xa&&this.Kc.identifier==a.identifier)return this.Kc.move(a);if(this.ke.xa&&this.ke.identifier==a.identifier)return this.ke.move(a);for(var b=3;10>=b;b++)if(this["pointer"+b]&&this["pointer"+b].xa&&this["pointer"+
b].identifier==a.identifier)return this["pointer"+b].move(a);return null},rp:function(a){if(this.Kc.xa&&this.Kc.identifier==a.identifier)return this.Kc.stop(a);if(this.ke.xa&&this.ke.identifier==a.identifier)return this.ke.stop(a);for(var b=3;10>=b;b++)if(this["pointer"+b]&&this["pointer"+b].xa&&this["pointer"+b].identifier==a.identifier)return this["pointer"+b].stop(a);return null}};c.Aa.prototype.constructor=c.Aa;Object.defineProperty(c.Aa.prototype,"x",{get:function(){return this.xc},set:function(a){this.xc=
Math.floor(a)}});Object.defineProperty(c.Aa.prototype,"y",{get:function(){return this.yc},set:function(a){this.yc=Math.floor(a)}});Object.defineProperty(c.Aa.prototype,"pollLocked",{get:function(){return 0<this.Wl&&this.Di<this.Wl}});Object.defineProperty(c.Aa.prototype,"totalInactivePointers",{get:function(){return 10-this.cd}});Object.defineProperty(c.Aa.prototype,"totalActivePointers",{get:function(){this.cd=0;for(var a=1;10>=a;a++)this["pointer"+a]&&this["pointer"+a].xa&&this.cd++;return this.cd}});
Object.defineProperty(c.Aa.prototype,"worldX",{get:function(){return this.c.na.view.x+this.x}});Object.defineProperty(c.Aa.prototype,"worldY",{get:function(){return this.c.na.view.y+this.y}});c.hk=function(a,b){this.c=a;this.shiftKey=this.ctrlKey=this.altKey=this.Ob=this.P=!1;this.Rb=this.duration=this.bb=0;this.keyCode=b;this.Ef=new c.H;this.Gf=new c.H};c.hk.prototype={Zo:function(a){this.altKey=a.altKey;this.ctrlKey=a.ctrlKey;this.shiftKey=a.shiftKey;this.P?this.duration=a.timeStamp-this.bb:(this.P=
!0,this.Ob=!1,this.bb=a.timeStamp,this.duration=0,this.Ef.B(this))},$o:function(a){this.P=!1;this.Ob=!0;this.Rb=a.timeStamp;this.Gf.B(this)}};c.hk.prototype.constructor=c.hk;c.i=function(a){this.c=a;this.Wb={};this.Ic={};this.Ck={};this.disabled=!1;this.Ym=this.Xm=null;this.L=this;this.Hf=this.Ff=null};c.i.prototype={$c:function(a){this.Ic[a]=new c.hk(this.c,a);this.fv(a);return this.Ic[a]},start:function(){var a=this;this.Xm=function(b){return a.Zo(b)};this.Ym=function(b){return a.$o(b)};window.addEventListener("keydown",
this.Xm,!1);window.addEventListener("keyup",this.Ym,!1)},stop:function(){window.removeEventListener("keydown",this.Xm);window.removeEventListener("keyup",this.Ym)},fv:function(a){if("object"===typeof a)for(var b in a)this.Ck[a[b]]=!0;else this.Ck[a]=!0},Zo:function(a){this.c.input.disabled||this.disabled||(this.Ck[a.keyCode]&&a.preventDefault(),this.Ff&&this.Ff.call(this.L,a),this.Wb[a.keyCode]&&this.Wb[a.keyCode].P?this.Wb[a.keyCode].duration=this.c.time.now-this.Wb[a.keyCode].bb:this.Wb[a.keyCode]?
(this.Wb[a.keyCode].P=!0,this.Wb[a.keyCode].bb=this.c.time.now,this.Wb[a.keyCode].duration=0):this.Wb[a.keyCode]={P:!0,bb:this.c.time.now,Rb:0,duration:0},this.Ic[a.keyCode]&&this.Ic[a.keyCode].Zo(a))},$o:function(a){this.c.input.disabled||this.disabled||(this.Ck[a.keyCode]&&a.preventDefault(),this.Hf&&this.Hf.call(this.L,a),this.Ic[a.keyCode]&&this.Ic[a.keyCode].$o(a),this.Wb[a.keyCode]?(this.Wb[a.keyCode].P=!1,this.Wb[a.keyCode].Rb=this.c.time.now):this.Wb[a.keyCode]={P:!1,bb:this.c.time.now,Rb:this.c.time.now,
duration:0})},reset:function(){for(var a in this.Wb)this.Wb[a].P=!1},P:function(a){return this.Wb[a]?this.Wb[a].P:!1}};c.i.prototype.constructor=c.i;c.i.qz=65;c.i.Dz=66;c.i.Yz=67;c.i.gA=68;c.i.E=69;c.i.pA=70;c.i.NA=71;c.i.OA=72;c.i.SA=73;c.i.UA=74;c.i.VA=75;c.i.WA=76;c.i.YA=77;c.i.aB=78;c.i.tB=79;c.i.vB=80;c.i.AB=81;c.i.HB=82;c.i.NB=83;c.i.UB=84;c.i.$B=85;c.i.bC=86;c.i.cC=87;c.i.eC=88;c.i.zC=89;c.i.AC=90;c.i.ZERO=48;c.i.ONE=49;c.i.ZB=50;c.i.WB=51;c.i.LA=52;c.i.GA=53;c.i.RB=54;c.i.PB=55;c.i.iA=56;
c.i.bB=57;c.i.cB=96;c.i.dB=97;c.i.eB=98;c.i.fB=99;c.i.gB=100;c.i.hB=101;c.i.iB=102;c.i.jB=103;c.i.kB=104;c.i.lB=105;c.i.qB=106;c.i.mB=107;c.i.pB=108;c.i.rB=109;c.i.nB=110;c.i.oB=111;c.i.qA=112;c.i.xA=113;c.i.yA=114;c.i.zA=115;c.i.AA=116;c.i.BA=117;c.i.CA=118;c.i.DA=119;c.i.EA=120;c.i.rA=121;c.i.sA=122;c.i.tA=123;c.i.uA=124;c.i.vA=125;c.i.wA=126;c.i.cA=186;c.i.lA=187;c.i.aC=189;c.i.CB=191;c.i.XB=192;c.i.uB=219;c.i.Fz=220;c.i.bA=221;c.i.DB=222;c.i.Ez=8;c.i.VB=9;c.i.aA=12;c.i.kA=13;c.i.QB=16;c.i.dA=
17;c.i.rz=18;c.i.$z=20;c.i.mA=27;c.i.Kp=32;c.i.xB=33;c.i.wB=34;c.i.jA=35;c.i.RA=36;c.i.Dm=37;c.i.pi=38;c.i.li=39;c.i.hi=40;c.i.TA=45;c.i.hA=46;c.i.QA=47;c.i.sB=144;c.se=function(a){this.L=this.c=a;this.ys=this.xs=this.Kl=null;this.Cn=!1;this.button=-1;this.Co=this.disabled=!1;this.an=this.$m=this.Zm=this.event=null};c.se.qu=-1;c.se.XA=0;c.se.ZA=1;c.se.LB=2;c.se.prototype={start:function(){var a=this;this.c.Ha.Vk&&!1===this.c.Ha.chrome||(this.Zm=function(b){return a.vx(b)},this.$m=function(b){return a.wx(b)},
this.an=function(b){return a.xx(b)},document.addEventListener("mousedown",this.Zm,!0),document.addEventListener("mousemove",this.$m,!0),document.addEventListener("mouseup",this.an,!0))},vx:function(a){this.event=a;this.Cn&&a.preventDefault();this.button=a.which;this.Kl&&this.Kl.call(this.L,a);this.c.input.disabled||this.disabled||(a.identifier=0,this.c.input.Df.start(a))},wx:function(a){this.event=a;this.Cn&&a.preventDefault();this.xs&&this.xs.call(this.L,a);this.c.input.disabled||this.disabled||
(a.identifier=0,this.c.input.Df.move(a))},xx:function(a){this.event=a;this.Cn&&a.preventDefault();this.button=c.se.qu;this.ys&&this.ys.call(this.L,a);this.c.input.disabled||this.disabled||(a.identifier=0,this.c.input.Df.stop(a))},stop:function(){document.removeEventListener("mousedown",this.Zm,!0);document.removeEventListener("mousemove",this.$m,!0);document.removeEventListener("mouseup",this.an,!0)}};c.se.prototype.constructor=c.se;c.kk=function(a){this.L=this.c=a;this.disabled=!1;this.yi=this.xi=
this.wi=null};c.kk.prototype={start:function(){var a=this;!0===this.c.Ha.Ih&&(this.wi=function(b){return a.Bx(b)},this.xi=function(b){return a.Cx(b)},this.yi=function(b){return a.Dx(b)},this.c.fa.view.addEventListener("MSPointerDown",this.wi,!1),this.c.fa.view.addEventListener("MSPointerMove",this.xi,!1),this.c.fa.view.addEventListener("MSPointerUp",this.yi,!1),this.c.fa.view.addEventListener("pointerDown",this.wi,!1),this.c.fa.view.addEventListener("pointerMove",this.xi,!1),this.c.fa.view.addEventListener("pointerUp",
this.yi,!1),this.c.fa.view.style["-ms-content-zooming"]="none",this.c.fa.view.style["-ms-touch-action"]="none")},Bx:function(a){this.c.input.disabled||this.disabled||(a.preventDefault(),a.identifier=a.pointerId,this.c.input.Gt(a))},Cx:function(a){this.c.input.disabled||this.disabled||(a.preventDefault(),a.identifier=a.pointerId,this.c.input.St(a))},Dx:function(a){this.c.input.disabled||this.disabled||(a.preventDefault(),a.identifier=a.pointerId,this.c.input.rp(a))},stop:function(){this.c.q.canvas.removeEventListener("MSPointerDown",
this.wi);this.c.q.canvas.removeEventListener("MSPointerMove",this.xi);this.c.q.canvas.removeEventListener("MSPointerUp",this.yi);this.c.q.canvas.removeEventListener("pointerDown",this.wi);this.c.q.canvas.removeEventListener("pointerMove",this.xi);this.c.q.canvas.removeEventListener("pointerUp",this.yi)}};c.kk.prototype.constructor=c.kk;c.te=function(a,b){this.c=a;this.id=b;this.Fk=!1;this.si=[];this.cq=0;this.on=!1;this.y=this.x=this.screenY=this.screenX=this.pageY=this.pageX=this.clientY=this.clientX=
-1;this.P=this.El=!1;this.Ob=!0;this.kt=this.Rb=this.bb=0;this.ab=null;this.xa=!1;this.position=new c.p;this.Zx=new c.p;this.sg=new c.eb(0,0,44);0===b&&(this.El=!0)};c.te.prototype={start:function(a){this.identifier=a.identifier;this.target=a.target;"undefined"!==typeof a.button&&(this.button=a.button);if(!1===this.c.q.il&&this.c.paused&&!1===this.c.q.scale.wf)return this.c.paused=!1,this;this.si.length=0;this.P=this.xa=!0;this.Ob=!1;this.bb=this.c.time.now;this.Fk=!1;this.move(a);this.Zx.Q(this.x,
this.y);if(this.c.input.ld==c.Aa.jk||this.c.input.ld==c.Aa.ki||this.c.input.ld==c.Aa.uk&&0===this.c.input.cd)this.c.input.x=this.x,this.c.input.y=this.y,this.c.input.position.Q(this.x,this.y),this.c.input.Ef.B(this,a),this.c.input.my(this.x,this.y);this.on=!1;!1===this.El&&this.c.input.cd++;null!==this.ab&&this.ab.Vu(this);return this},update:function(){this.xa&&(!1===this.Fk&&this.duration>=this.c.input.Nw&&((this.c.input.ld==c.Aa.jk||this.c.input.ld==c.Aa.ki||this.c.input.ld==c.Aa.uk&&0===this.c.input.cd)&&
this.c.input.Ol.B(this),this.Fk=!0),this.c.input.ey&&this.c.time.now>=this.cq&&(this.cq=this.c.time.now+this.c.input.fy,this.si.push({x:this.position.x,y:this.position.y}),this.si.length>this.c.input.dy&&this.si.shift()))},move:function(a){if(!this.c.input.YD){"undefined"!==typeof a.button&&(this.button=a.button);this.clientX=a.clientX;this.clientY=a.clientY;this.pageX=a.pageX;this.pageY=a.pageY;this.screenX=a.screenX;this.screenY=a.screenY;this.x=(this.pageX-this.c.q.offset.x)*this.c.input.scale.x;
this.y=(this.pageY-this.c.q.offset.y)*this.c.input.scale.y;this.position.Q(this.x,this.y);this.sg.x=this.x;this.sg.y=this.y;if(this.c.input.ld==c.Aa.jk||this.c.input.ld==c.Aa.ki||this.c.input.ld==c.Aa.uk&&0===this.c.input.cd)this.c.input.xq=this,this.c.input.x=this.x,this.c.input.y=this.y,this.c.input.position.Q(this.c.input.x,this.c.input.y),this.c.input.sg.x=this.c.input.x,this.c.input.sg.y=this.c.input.y;if(this.c.paused)return this;this.c.input.Go&&this.c.input.Go.call(this.c.input.gx,this,this.x,
this.y);if(null!==this.ab&&!0===this.ab.kd)return!1===this.ab.update(this)&&(this.ab=null),this;this.Xp=-1;this.fg=null;this.Sm=-1;if(0<this.c.input.xf.total){a=this.c.input.xf.next;do(a.$s||a.$l>this.Sm||a.$l==this.Sm&&a.d.cm>this.Xp)&&a.$k(this)&&(this.Xp=a.d.cm,this.Sm=a.$l,this.fg=a),a=a.next;while(null!=a)}null==this.fg?this.ab&&(this.ab.Ci(this),this.ab=null):null==this.ab?(this.ab=this.fg,this.fg.hq(this)):this.ab==this.fg?!1===this.fg.update(this)&&(this.ab=null):(this.ab.Ci(this),this.ab=
this.fg,this.ab.hq(this));return this}},stop:function(a){if(this.on)a.preventDefault();else{this.Rb=this.c.time.now;if(this.c.input.ld==c.Aa.jk||this.c.input.ld==c.Aa.ki||this.c.input.ld==c.Aa.uk&&0===this.c.input.cd)this.c.input.Gf.B(this,a),0<=this.duration&&this.duration<=this.c.input.Ny&&(this.Rb-this.kt<this.c.input.Yv?this.c.input.wj.B(this,!0):this.c.input.wj.B(this,!1),this.kt=this.Rb);0<this.id&&(this.xa=!1);this.P=!1;this.Ob=!0;!1===this.El&&this.c.input.cd--;if(0<this.c.input.xf.total){a=
this.c.input.xf.next;do a&&a.ln(this),a=a.next;while(null!=a)}this.ab&&this.ab.ln(this);this.ab=null;return this}},reset:function(){!1===this.El&&(this.xa=!1);this.identifier=null;this.P=!1;this.Ob=!0;this.Fk=!1;this.si.length=0;this.on=!0;this.ab&&this.ab.ln(this);this.ab=null}};c.te.prototype.constructor=c.te;Object.defineProperty(c.te.prototype,"duration",{get:function(){return this.Ob?-1:this.c.time.now-this.bb}});Object.defineProperty(c.te.prototype,"worldX",{get:function(){return this.c.s.na.x+
this.x}});Object.defineProperty(c.te.prototype,"worldY",{get:function(){return this.c.s.na.y+this.y}});c.wk=function(a){this.c=a;this.disabled=!1;this.L=this.c;this.Jt=this.Mt=this.Lt=this.Kt=this.Nt=this.Oj=null;this.preventDefault=!0;this.Mk=this.cn=this.fn=this.en=this.dn=this.Mk=this.gn=this.event=null};c.wk.prototype={start:function(){var a=this;this.c.Ha.Nc&&(this.gn=function(b){return a.Lx(b)},this.Mk=function(b){return a.Kx(b)},this.dn=function(b){return a.Hx(b)},this.en=function(b){return a.Ix(b)},
this.fn=function(b){return a.Jx(b)},this.cn=function(b){return a.Gx(b)},this.c.fa.view.addEventListener("touchstart",this.gn,!1),this.c.fa.view.addEventListener("touchmove",this.Mk,!1),this.c.fa.view.addEventListener("touchend",this.dn,!1),this.c.fa.view.addEventListener("touchenter",this.en,!1),this.c.fa.view.addEventListener("touchleave",this.fn,!1),this.c.fa.view.addEventListener("touchcancel",this.cn,!1))},Lx:function(a){this.event=a;this.Oj&&this.Oj.call(this.L,a);if(!this.c.input.disabled&&
!this.disabled){this.preventDefault&&a.preventDefault();for(var b=0;b<a.changedTouches.length;b++)this.c.input.Gt(a.changedTouches[b])}},Gx:function(a){this.event=a;this.Jt&&this.Jt.call(this.L,a);if(!this.c.input.disabled&&!this.disabled){this.preventDefault&&a.preventDefault();for(var b=0;b<a.changedTouches.length;b++)this.c.input.rp(a.changedTouches[b])}},Ix:function(a){this.event=a;this.Lt&&this.Lt.call(this.L,a);this.c.input.disabled||this.disabled||this.preventDefault&&a.preventDefault()},Jx:function(a){this.event=
a;this.Mt&&this.Mt.call(this.L,a);this.preventDefault&&a.preventDefault()},Kx:function(a){this.event=a;this.Nt&&this.Nt.call(this.L,a);this.preventDefault&&a.preventDefault();for(var b=0;b<a.changedTouches.length;b++)this.c.input.St(a.changedTouches[b])},Hx:function(a){this.event=a;this.Kt&&this.Kt.call(this.L,a);this.preventDefault&&a.preventDefault();for(var b=0;b<a.changedTouches.length;b++)this.c.input.rp(a.changedTouches[b])},stop:function(){this.c.Ha.Nc&&(this.c.q.canvas.removeEventListener("touchstart",
this.gn),this.c.q.canvas.removeEventListener("touchmove",this.Mk),this.c.q.canvas.removeEventListener("touchend",this.dn),this.c.q.canvas.removeEventListener("touchenter",this.en),this.c.q.canvas.removeEventListener("touchleave",this.fn),this.c.q.canvas.removeEventListener("touchcancel",this.cn))}};c.wk.prototype.constructor=c.wk;c.gk=function(a){this.d=a;this.c=a.c;this.ic=!1;this.$l=0;this.kd=this.um=!1;this.Gq=this.Eq=!0;this.Cy=this.Dt=this.of=!1;this.Rf=this.Qf=this.nc=this.mc=0;this.$s=!1;this.Tx=
255;this.draggable=!1;this.Ca=this.Kb=null;this.Fv=!1;this.hf=new c.p;this.ha=[];this.ha.push({id:0,x:0,y:0,P:!1,Ob:!1,Le:!1,Fl:!1,xp:0,wp:0,bb:0,Rb:0,jl:0,kd:!1})};c.gk.prototype={start:function(a,b){a=a||0;"undefined"==typeof b&&(b=!1);if(!1===this.ic){this.c.input.xf.add(this);this.um=b;this.$l=a;for(var d=0;10>d;d++)this.ha[d]={id:d,x:0,y:0,P:!1,Ob:!1,Le:!1,Fl:!1,xp:0,wp:0,bb:0,Rb:0,jl:0,kd:!1};this.ic=!0;this.d.m&&null==this.d.m.Ne&&(this.d.m.Ne=new c.H,this.d.m.Jg=new c.H,this.d.m.Ig=new c.H,
this.d.m.ie=new c.H,this.d.m.Ko=new c.H,this.d.m.Lo=new c.H)}return this.d},reset:function(){this.ic=!1;for(var a=0;10>a;a++)this.ha[a]={id:a,x:0,y:0,P:!1,Ob:!1,Le:!1,Fl:!1,xp:0,wp:0,bb:0,Rb:0,jl:0,kd:!1}},stop:function(){!1!==this.ic&&(this.ic=!1,this.c.input.xf.remove(this))},N:function(){this.ic&&(this.ic=!1,this.c.input.xf.remove(this),this.stop(),this.d=null)},it:function(a){return this.ha[a||0].P},jt:function(a){return this.ha[a||0].Ob},Vl:function(a){if(this.ic)if("undefined"===typeof a)for(a=
0;10>a;a++){if(this.ha[a].Le)return!0}else return this.ha[a].Le;return!1},$k:function(a){if(!1===this.ic||!1===this.d.visible||this.d.group&&!1===this.d.group.visible)return!1;this.d.rw(this.hf,a.x,a.y);if(0<=this.hf.x&&this.hf.x<=this.d.C.width&&0<=this.hf.y&&this.hf.y<=this.d.C.height)return this.$s?this.zv(this.hf.x,this.hf.y):!0},zv:function(a,b){return this.d.g.A.source&&(this.c.input.yl.clearRect(0,0,1,1),a+=this.d.g.frame.x,b+=this.d.g.frame.y,this.c.input.yl.drawImage(this.d.g.A.source,a,
b,1,1,0,0,1,1),this.c.input.yl.getImageData(0,0,1,1).data[3]>=this.Tx)?!0:!1},update:function(a){if(!1===this.ic||!1===this.d.visible||this.d.group&&!1===this.d.group.visible)return this.Ci(a),!1;if(this.draggable&&this.Pm==a.id)return this.Rt(a);if(!0===this.ha[a.id].Le){if(this.$k(a))return this.ha[a.id].x=a.x-this.d.x,this.ha[a.id].y=a.y-this.d.y,!0;this.Ci(a);return!1}},hq:function(a){!1===this.ha[a.id].Le&&(this.ha[a.id].Le=!0,this.ha[a.id].Fl=!1,this.ha[a.id].xp=this.c.time.now,this.ha[a.id].x=
a.x-this.d.x,this.ha[a.id].y=a.y-this.d.y,this.um&&!1===this.ha[a.id].kd&&(this.c.canvas.style.cursor="pointer"),this.d.m.Ne.B(this.d,a))},Ci:function(a){this.ha[a.id].Le=!1;this.ha[a.id].Fl=!0;this.ha[a.id].wp=this.c.time.now;this.um&&!1===this.ha[a.id].kd&&(this.c.canvas.style.cursor="default");this.d&&this.d.m&&this.d.m.Jg.B(this.d,a)},Vu:function(a){!1===this.ha[a.id].P&&!0===this.ha[a.id].Le&&(this.ha[a.id].P=!0,this.ha[a.id].Ob=!1,this.ha[a.id].bb=this.c.time.now,this.d.m.Ig.B(this.d,a),this.draggable&&
!1===this.kd&&this.Hy(a),this.of&&this.d.of());return this.Fv},ln:function(a){this.ha[a.id].P&&a.Ob&&(this.ha[a.id].P=!1,this.ha[a.id].Ob=!0,this.ha[a.id].Rb=this.c.time.now,this.ha[a.id].jl=this.ha[a.id].Rb-this.ha[a.id].bb,this.$k(a)?this.d.m.ie.B(this.d,a,!0):(this.d.m.ie.B(this.d,a,!1),this.um&&(this.c.canvas.style.cursor="default")),this.draggable&&this.kd&&this.Pm==a.id&&this.Ht(a))},Rt:function(a){if(a.Ob)return this.Ht(a),!1;this.d.dd?(this.Eq&&(this.d.X.x=a.x+this.ri.x+this.Vn.x),this.Gq&&
(this.d.X.y=a.y+this.ri.y+this.Vn.y),this.Kb&&this.Qq(),this.Ca&&this.Rq(),this.Dt&&(this.d.X.x=Math.round((this.d.X.x-this.Qf%this.mc)/this.mc)*this.mc+this.Qf%this.mc,this.d.X.y=Math.round((this.d.X.y-this.Rf%this.nc)/this.nc)*this.nc+this.Rf%this.nc)):(this.Eq&&(this.d.x=a.x+this.ri.x+this.Vn.x),this.Gq&&(this.d.y=a.y+this.ri.y+this.Vn.y),this.Kb&&this.Qq(),this.Ca&&this.Rq(),this.Dt&&(this.d.x=Math.round((this.d.x-this.Qf%this.mc)/this.mc)*this.mc+this.Qf%this.mc,this.d.y=Math.round((this.d.y-
this.Rf%this.nc)/this.nc)*this.nc+this.Rf%this.nc));return!0},jl:function(a){a=a||0;return this.ha[a].P?this.c.time.now-this.ha[a].bb:-1},Hy:function(a){this.kd=!0;this.Pm=a.id;this.ha[a.id].kd=!0;this.d.dd?(this.Zv&&this.d.Oq(a.x,a.y),this.ri.Q(this.d.X.x-a.x,this.d.X.y-a.y)):(this.Zv&&this.d.Oq(a.x,a.y),this.ri.Q(this.d.x-a.x,this.d.y-a.y));this.Rt(a);this.of&&this.d.of();this.d.m.Ko.B(this.d,a)},Ht:function(a){this.kd=!1;this.Pm=-1;this.ha[a.id].kd=!1;this.Cy&&(this.d.dd?(this.d.X.x=Math.round((this.d.X.x-
this.Qf%this.mc)/this.mc)*this.mc+this.Qf%this.mc,this.d.X.y=Math.round((this.d.X.y-this.Rf%this.nc)/this.nc)*this.nc+this.Rf%this.nc):(this.d.x=Math.round((this.d.x-this.Qf%this.mc)/this.mc)*this.mc+this.Qf%this.mc,this.d.y=Math.round((this.d.y-this.Rf%this.nc)/this.nc)*this.nc+this.Rf%this.nc));this.d.m.Lo.B(this.d,a);this.d.m.ie.B(this.d,a);!1===this.$k(a)&&this.Ci(a)},Qq:function(){this.d.dd?(this.d.X.x<this.Kb.left?this.d.X.x=this.Kb.X.x:this.d.X.x+this.d.width>this.Kb.right&&(this.d.X.x=this.Kb.right-
this.d.width),this.d.X.y<this.Kb.top?this.d.X.y=this.Kb.top:this.d.X.y+this.d.height>this.Kb.bottom&&(this.d.X.y=this.Kb.bottom-this.d.height)):(this.d.x<this.Kb.left?this.d.x=this.Kb.x:this.d.x+this.d.width>this.Kb.right&&(this.d.x=this.Kb.right-this.d.width),this.d.y<this.Kb.top?this.d.y=this.Kb.top:this.d.y+this.d.height>this.Kb.bottom&&(this.d.y=this.Kb.bottom-this.d.height))},Rq:function(){this.d.dd&&this.Ca.dd?(this.d.X.x<this.Ca.qg.x?this.d.X.x=this.Ca.qg.x:this.d.X.x+this.d.width>this.Ca.qg.x+
this.Ca.width&&(this.d.X.x=this.Ca.qg.x+this.Ca.width-this.d.width),this.d.X.y<this.Ca.qg.y?this.d.X.y=this.Ca.qg.y:this.d.X.y+this.d.height>this.Ca.qg.y+this.Ca.height&&(this.d.X.y=this.Ca.qg.y+this.Ca.height-this.d.height)):(this.d.x<this.Ca.x?this.d.x=this.Ca.x:this.d.x+this.d.width>this.Ca.x+this.Ca.width&&(this.d.x=this.Ca.x+this.Ca.width-this.d.width),this.d.y<this.Ca.y?this.d.y=this.Ca.y:this.d.y+this.d.height>this.Ca.y+this.Ca.height&&(this.d.y=this.Ca.y+this.Ca.height-this.d.height))}};c.gk.prototype.constructor=
c.gk;c.J=function(a){this.c=a;this.Vb=[new c.ve(a,this),new c.ve(a,this),new c.ve(a,this),new c.ve(a,this)];this.Wc=[];this.disabled=this.Jm=!1;this.Pu=!!navigator.Xt||!!navigator.hz||-1!=navigator.userAgent.indexOf("Firefox/");this.jq=[];this.L=this;this.hn=this.rj=this.nj=this.Hf=this.Ff=this.qj=this.oj=null};c.J.prototype={start:function(){this.Jm=!0;var a=this;this.hn=function(b){b=b.Hd;a.Wc.push(b);a.Vb[b.index].He(b)};window.addEventListener("gamepadconnected",this.hn,!1);this.fq=function(b){b=
b.Hd;for(var d in a.Wc)a.Wc[d].index===b.index&&a.Wc.splice(d,1);a.Vb[b.index].disconnect()};window.addEventListener("gamepaddisconnected",this.fq,!1)},update:function(){this.Ru();for(var a=0;a<this.Vb.length;a++)this.Vb[a].ah&&this.Vb[a].Vx()},Ru:function(){var a=navigator.Xt&&navigator.Xt()||navigator.hz;if(a){this.Wc=[];for(var b=!1,d=0;d<a.length&&(typeof a[d]!==this.jq[d]&&(b=!0,this.jq[d]=typeof a[d]),a[d]&&this.Wc.push(a[d]),3!==d);d++);if(b){for(var a={},b={},c=0;c<this.Vb.length;c++)if(d=
this.Vb[c],d.TC)for(var e=0;e<this.Wc.length;e++)this.Wc[e].index===d.index&&(a[d.index]=!0,b[c]=!0);for(c=0;c<this.Vb.length;c++)if(d=this.Vb[c],!b[c])for(1>this.Wc.length&&d.disconnect(),e=0;e<this.Wc.length&&!b[c];e++){var f=this.Wc[e];f?a[f.index]?d.disconnect():(d.He(f),a[f.index]=!0,b[c]=!0):d.disconnect()}}}},stop:function(){this.Jm=!1;window.removeEventListener("gamepadconnected",this.hn);window.removeEventListener("gamepaddisconnected",this.fq)},reset:function(){this.update();for(var a=0;a<
this.Vb.length;a++)this.Vb[a].reset()},P:function(a){for(var b=0;b<this.Vb.length;b++)if(!0===this.Vb[b].P(a))return!0;return!1}};c.J.prototype.constructor=c.J;Object.defineProperty(c.J.prototype,"active",{get:function(){return this.Jm}});Object.defineProperty(c.J.prototype,"supported",{get:function(){return this.Pu}});Object.defineProperty(c.J.prototype,"padsConnected",{get:function(){return this.Wc.length}});Object.defineProperty(c.J.prototype,"pad1",{get:function(){return this.Vb[0]}});Object.defineProperty(c.J.prototype,
"pad2",{get:function(){return this.Vb[1]}});Object.defineProperty(c.J.prototype,"pad3",{get:function(){return this.Vb[2]}});Object.defineProperty(c.J.prototype,"pad4",{get:function(){return this.Vb[3]}});c.J.Hz=0;c.J.Iz=1;c.J.Pz=2;c.J.Qz=3;c.J.Rz=4;c.J.Sz=5;c.J.Tz=6;c.J.Uz=7;c.J.Vz=8;c.J.Wz=9;c.J.Jz=10;c.J.Kz=11;c.J.Lz=12;c.J.Mz=13;c.J.Nz=14;c.J.Oz=15;c.J.sz=0;c.J.tz=1;c.J.uz=2;c.J.vz=3;c.J.wz=4;c.J.xz=5;c.J.yz=6;c.J.zz=7;c.J.Az=8;c.J.Bz=9;c.J.fC=0;c.J.gC=1;c.J.xC=2;c.J.yC=3;c.J.mC=4;c.J.oC=5;c.J.nC=
6;c.J.pC=7;c.J.hC=8;c.J.qC=9;c.J.rC=10;c.J.uC=11;c.J.jC=14;c.J.kC=15;c.J.lC=12;c.J.iC=13;c.J.sC=0;c.J.tC=1;c.J.vC=2;c.J.wC=3;c.ve=function(a,b){this.c=a;this.Ib=b;this.gf=this.Ae=null;this.ah=!1;this.kq=null;this.Pk=[];this.Ra=[];this.dg=[];this.Ic=[];this.L=this;this.rj=this.nj=this.Hf=this.Ff=this.qj=this.oj=null;this.qr=0.26};c.ve.prototype={Vx:function(){if(!this.gf.timestamp||this.gf.timestamp!=this.kq){for(var a=0;a<this.gf.buttons.length;a+=1){var b=this.gf.buttons[a];this.Pk[a]!==b&&(1===
b?this.Wo(a,b):0===b?this.Yo(a,b):this.Xo(a,b),this.Pk[a]=b)}a=this.gf.qv;for(b=0;b<a.length;b+=1){var d=a[b];0<d&&d>this.qr||0>d&&d<-this.qr?this.lt({axis:b,value:d}):this.lt({axis:b,value:0})}this.kq=this.gf.timestamp}},He:function(a){var b=!this.ah;this.Ae=a.index;this.ah=!0;this.gf=a;this.Pk=a.buttons;this.dg=a.qv;b&&this.Ib.oj&&this.Ib.oj.call(this.Ib.L,this.Ae);b&&this.oj&&this.oj.call(this.L)},disconnect:function(){var a=this.ah;this.ah=!1;this.gf=void 0;this.Pk=[];this.Ra=[];var b=this.Ae;
this.Ae=null;a&&this.Ib.qj&&this.Ib.qj.call(this.Ib.L,b);a&&this.qj&&this.qj.call(this.L)},lt:function(a){this.c.input.disabled||this.c.input.Hd.disabled||this.dg[a.axis]===a.value||(this.dg[a.axis]=a.value,this.Ib.nj&&this.Ib.nj.call(this.Ib.L,a,this.Ae),this.nj&&this.nj.call(this.L,a))},Wo:function(a,b){this.c.input.disabled||this.c.input.Hd.disabled||(this.Ib.Ff&&this.Ib.Ff.call(this.Ib.L,a,b,this.Ae),this.Ff&&this.Ff.call(this.L,a,b),this.Ra[a]&&this.Ra[a].P?this.Ra[a].duration=this.c.time.now-
this.Ra[a].bb:this.Ra[a]?(this.Ra[a].P=!0,this.Ra[a].bb=this.c.time.now,this.Ra[a].duration=0,this.Ra[a].value=b):this.Ra[a]={P:!0,bb:this.c.time.now,Rb:0,duration:0,value:b},this.Ic[a]&&this.Ic[a].Wo(b))},Yo:function(a,b){this.c.input.disabled||this.c.input.Hd.disabled||(this.Ib.Hf&&this.Ib.Hf.call(this.Ib.L,a,b,this.Ae),this.Hf&&this.Hf.call(this.L,a,b),this.Ic[a]&&this.Ic[a].Yo(b),this.Ra[a]?(this.Ra[a].P=!1,this.Ra[a].Rb=this.c.time.now,this.Ra[a].value=b):this.Ra[a]={P:!1,bb:this.c.time.now,
Rb:this.c.time.now,duration:0,value:b})},Xo:function(a,b){this.c.input.disabled||this.c.input.Hd.disabled||(this.Ib.rj&&this.Ib.rj.call(this.Ib.L,a,b,this.Ae),this.rj&&this.rj.call(this.L,a,b),this.Ra[a]?this.Ra[a].value=b:this.Ra[a]={value:b},this.Ic[a]&&this.Ic[a].Xo(b))},axis:function(a){return this.dg[a]?this.dg[a]:!1},P:function(a){return this.Ra[a]?this.Ra[a].P:!1},reset:function(){for(var a=0;a<this.Ra.length;a++)this.Ra[a]=0;for(a=0;a<this.dg.length;a++)this.dg[a]=0}};c.ve.prototype.constructor=
c.ve;Object.defineProperty(c.ve.prototype,"connected",{get:function(){return this.ah}});Object.defineProperty(c.ve.prototype,"index",{get:function(){return this.Ae}});c.Bm=function(a){this.c=a;this.Ob=this.P=!1;this.value=this.Rb=this.duration=this.bb=0;this.Ef=new c.H;this.Gf=new c.H;this.px=new c.H};c.Bm.prototype={Wo:function(a){this.P?this.duration=this.c.time.now-this.bb:(this.P=!0,this.Ob=!1,this.bb=this.c.time.now,this.duration=0,this.value=a,this.Ef.B(this,a))},Yo:function(a){this.P=!1;this.Ob=
!0;this.Rb=this.c.time.now;this.value=a;this.Gf.B(this,a)},Xo:function(a){this.value=a;this.px.B(this,a)}};c.Bm.prototype.constructor=c.Bm;c.ek=function(a){this.parent=a;this.Nl=new c.H;this.Rl=new c.H;this.Gs=new c.H;this.Ls=new c.H;this.Hs=new c.H;this.Fs=this.Ds=this.Jo=this.Io=this.mj=this.Lo=this.Ko=this.ie=this.Ig=this.Jg=this.Ne=null};c.ek.prototype={N:function(){this.parent=null;this.Nl.Mb();this.Rl.Mb();this.Gs.Mb();this.Ls.Mb();this.Hs.Mb();this.Ne&&(this.Ne.Mb(),this.Jg.Mb(),this.Ig.Mb(),
this.ie.Mb(),this.Ko.Mb(),this.Lo.Mb());this.mj&&(this.mj.Mb(),this.Io.Mb(),this.Jo.Mb())}};c.ek.prototype.constructor=c.ek;c.fk=function(a){this.c=a;this.s=this.c.s};c.fk.prototype={d:function(a,b,d,c,e){"undefined"===typeof e&&(e=this.s);return e.create(a,b,d,c)},group:function(a,b){return new c.ra(this.c,a,b)},pg:function(a,b,d,c){return this.c.Ka.add(a,b,d,c)},Ka:function(a,b,d,c){return this.c.Ka.add(a,b,d,c)},bi:function(a,b,d,e,g,f){"undefined"===typeof f&&(f=this.s);return f.add(new c.xe(this.c,
a,b,d,e,g))},text:function(a,b,d,e,g){"undefined"===typeof g&&(g=this.s);return g.add(new c.va(this.c,a,b,d,e))},button:function(a,b,d,e,g,f,h,k,m,n){"undefined"===typeof n&&(n=this.s);return n.add(new c.Ec(this.c,a,b,d,e,g,f,h,k,m))}};c.fk.prototype.constructor=c.fk;c.Pc=function(a,b,d){"undefined"===typeof b&&(b=256);"undefined"===typeof d&&(d=256);this.c=a;this.name="";this.width=b;this.height=d;this.canvas=c.Fc.create(b,d);this.f=this.canvas.getContext("2d");this.f.getImageData(0,0,b,d);this.A=
new e.Fa(this.canvas);this.g=new e.R(this.A);this.Jj=new c.Sc(0,0,0,b,d,"bitmapData",a.Na.cc());this.type=c.au;this.vb=!1};c.Pc.prototype={add:function(a){a.$w(this)},clear:function(){this.f.clearRect(0,0,this.width,this.height);this.vb=!0},arc:function(a,b,d,c,e,f){"undefined"===typeof f&&(f=!1);this.vb=!0;this.f.arc(a,b,d,c,e,f);return this},Kq:function(a){this.fillStyle(a);return this},beginPath:function(){this.f.beginPath();return this},bezierCurveTo:function(a,b,d,c,e,f){this.vb=!0;this.f.bezierCurveTo(a,
b,d,c,e,f);return this},sg:function(a,b,d){this.arc(a,b,d,0,2*Math.PI);return this},clearRect:function(a,b,d,c){this.vb=!0;this.f.clearRect(a,b,d,c);return this},clip:function(){this.vb=!0;this.f.clip();return this},closePath:function(){this.vb=!0;this.f.closePath();return this},fill:function(){this.vb=!0;this.f.fill();return this},fillRect:function(a,b,d,c){this.vb=!0;this.f.fillRect(a,b,d,c);return this},fillStyle:function(a){this.f.fillStyle=a;return this},font:function(a){this.f.font=a;return this},
globalAlpha:function(a){this.f.globalAlpha=a;return this},globalCompositeOperation:function(a){this.f.globalCompositeOperation=a;return this},lineWidth:function(a){this.f.lineWidth=a;return this},lineTo:function(a,b){this.vb=!0;this.f.lineTo(a,b);return this},moveTo:function(a,b){this.f.moveTo(a,b);return this},rect:function(a,b,d,c){this.vb=!0;this.f.rect(a,b,d,c);return this},restore:function(){this.vb=!0;this.f.restore();return this},rotate:function(a){this.vb=!0;this.f.rotate(a);return this},
save:function(){this.vb=!0;this.f.save();return this},scale:function(a,b){this.vb=!0;this.f.scale(a,b);return this},stroke:function(){this.vb=!0;this.f.stroke();return this},strokeRect:function(a,b,d,c){this.vb=!0;this.f.strokeRect(a,b,d,c);return this},strokeStyle:function(a){this.f.strokeStyle=a;return this},qa:function(){this.vb&&(this.c.lc==c.Ak&&e.Pd.push(this.A),this.vb=!1)}};c.Pc.prototype.constructor=c.Pc;c.Pc.prototype.Uh=c.Pc.prototype.rect;c.Pc.prototype.Mi=c.Pc.prototype.clear;c.Pc.prototype.Ie=
c.Pc.prototype.Kq;c.v=function(a,b,d,l,g){b=b||0;d=d||0;l=l||null;g=g||null;this.c=a;this.ad=this.Da=!0;this.group=null;this.name="";this.type=c.Xg;this.cm=-1;this.zf=0;this.m=new c.ek(this);this.sc=new c.oe(this);this.input=new c.gk(this);this.key=l;this.C=null;l instanceof c.qb?(e.v.call(this,l),this.C=this.c.K.Pr(l.name)):l instanceof c.Pc?(e.v.call(this,l.g,l.Jj),this.C=l.Jj):l instanceof e.R?(e.v.call(this,l),this.C=g):(null===l||"undefined"===typeof l?this.key=l="__default":"string"===typeof l&&
!1===this.c.K.Sq(l)&&(this.key=l="__missing"),e.v.call(this,e.U[l]),this.c.K.ds(l)?(this.sc.ms(this.c.K.Nr(l)),null!==g&&("string"===typeof g?this.ed=g:this.frame=g)):this.C=this.c.K.Kd(l));this.anchor=new c.p;this.x=b;this.y=d;this.position.x=b;this.position.y=d;this.s=new c.p(b,d);this.nv=!1;this.scale=new c.p(1,1);this.e={Jr:!0,I:!1,Xc:-1,Zd:-1,Ce:-1,$d:-1,Yc:-1,De:-1,id:-1,ej:-1,fj:-1,Eg:-1,left:null,right:null,top:null,bottom:null,Uo:b,Vo:d,x:-1,y:-1,fm:1,gm:1,width:this.C.km,height:this.C.jm,
ge:Math.floor(this.C.km/2),fe:Math.floor(this.C.jm/2),NC:-1,MC:-1,Hr:-1,rl:this.C.width,ql:this.C.height,Yk:!0,lr:0,mr:0,kr:this.C.km,jr:this.C.jm};this.offset=new c.p;this.rg=new c.p(b+Math.floor(this.e.width/2),d+Math.floor(this.e.height/2));this.Mj=new c.p(b,d);this.Nj=new c.p(b+this.e.width,d);this.Li=new c.p(b+this.e.width,d+this.e.height);this.Ki=new c.p(b,d+this.e.height);this.o=new c.u(b,d,this.e.width,this.e.height);this.body=new c.la.M.Sg(this);this.Al=c.u.jd(this.o,this.c.s.o);this.Ur=
0;this.dd=this.Nx=!1;this.X=new c.p(b,d);this.sb=new c.u(0,0,this.e.width,this.e.height);this.debug=this.Nn=!1;this.Qt();this.ci()};c.v.prototype=Object.create(e.v.prototype);c.v.prototype.constructor=c.v;c.v.prototype.Oe=function(){if(this.e.Jr)this.s.Q(this.parent.position.x+this.x,this.parent.position.y+this.y),this.t[2]=this.s.x,this.t[5]=this.s.y,this.e.Jr=!1,this.body&&(this.body.x=this.s.x-this.anchor.x*this.width+this.body.offset.x,this.body.y=this.s.y-this.anchor.y*this.height+this.body.offset.y,
this.body.Xl=this.body.x,this.body.Yl=this.body.y);else{if(!this.Da||this.group&&!this.group.Da)return this.cm=-1,!1;if(0<this.zf&&(this.zf-=this.c.time.Ui,0>=this.zf))return this.kc(),!1;this.e.I=!1;this.visible&&(this.cm=this.c.s.or++);this.Qt();this.Wy();this.Xy();(this.e.I||this.s.x!==this.e.Uo||this.s.y!==this.e.Vo)&&this.ci();this.body&&this.body.Oe();return!0}};c.v.prototype.Qt=function(){this.e.Uo=this.s.x;this.e.Vo=this.s.y;this.dd&&(this.x=this.c.na.view.x+this.X.x,this.y=this.c.na.view.y+
this.X.y);this.s.Q(this.c.na.x+this.t[2],this.c.na.y+this.t[5]);if(this.t[1]!=this.e.ej||this.t[3]!=this.e.fj||this.t[0]!=this.e.Xc||this.t[41]!=this.e.Yc)this.e.Xc=this.t[0],this.e.Zd=this.t[1],this.e.$d=this.t[3],this.e.Yc=this.t[4],this.e.ej=this.t[1],this.e.fj=this.t[3],this.e.fm=Math.sqrt(this.e.Xc*this.e.Xc+this.e.Zd*this.e.Zd),this.e.gm=Math.sqrt(this.e.$d*this.e.$d+this.e.Yc*this.e.Yc),this.e.Zd*=-1,this.e.$d*=-1,this.e.id=1/(this.e.Xc*this.e.Yc+this.e.Zd*-this.e.$d),this.e.Eg=1/(this.e.Xc*
this.e.Yc+this.e.ej*-this.e.fj),this.e.I=!0;this.e.Ce=this.t[2];this.e.De=this.t[5]};c.v.prototype.Wy=function(){if(this.sc.update()||this.C&&this.C.cc!=this.e.Hr)this.e.Hr=this.C.cc,this.e.rl=this.g.frame.width,this.e.ql=this.g.frame.height,this.e.width=this.C.width,this.e.height=this.C.height,this.e.ge=Math.floor(this.e.width/2),this.e.fe=Math.floor(this.e.height/2),this.e.I=!0};c.v.prototype.Xy=function(){!this.Nn||this.sb.width==this.e.kr&&this.sb.height==this.e.jr&&this.sb.x==this.e.lr&&this.sb.y==
this.e.mr||(this.sb.bw(),this.e.lr=this.sb.x,this.e.mr=this.sb.y,this.e.kr=this.sb.width,this.e.jr=this.sb.height,this.g.frame=this.sb,this.g.width=this.sb.width,this.g.height=this.sb.height,this.g.Eb=!0,e.R.de.push(this.g))};c.v.prototype.ci=function(){this.offset.Q(this.e.Ce-this.anchor.x*this.width,this.e.De-this.anchor.y*this.height);this.bj(this.rg,this.offset.x+this.width/2,this.offset.y+this.height/2);this.bj(this.Mj,this.offset.x,this.offset.y);this.bj(this.Nj,this.offset.x+this.width,this.offset.y);
this.bj(this.Ki,this.offset.x,this.offset.y+this.height);this.bj(this.Li,this.offset.x+this.width,this.offset.y+this.height);this.e.left=c.ca.min(this.Mj.x,this.Nj.x,this.Ki.x,this.Li.x);this.e.right=c.ca.max(this.Mj.x,this.Nj.x,this.Ki.x,this.Li.x);this.e.top=c.ca.min(this.Mj.y,this.Nj.y,this.Ki.y,this.Li.y);this.e.bottom=c.ca.max(this.Mj.y,this.Nj.y,this.Ki.y,this.Li.y);this.o.Q(this.e.left,this.e.top,this.e.right-this.e.left,this.e.bottom-this.e.top);this.Eb=!0;!1===this.Al?this.Al=c.u.jd(this.o,
this.c.s.o,this.Ur):(this.Al=c.u.jd(this.o,this.c.s.o,this.Ur),!1===this.Al&&(this.m.Hs.B(this),this.Nx&&this.kc()));this.e.Yk=c.u.jd(this.c.s.na.oy,this.o,0);this.nv&&(this.Ma=this.e.Yk)};c.v.prototype.bj=function(a,b,d){a.x=(this.e.Yc*this.e.id*b+-this.e.Zd*this.e.id*d+(this.e.De*this.e.Zd-this.e.Ce*this.e.Yc)*this.e.id)*this.scale.x+this.e.Ce;a.y=(this.e.Xc*this.e.id*d+-this.e.$d*this.e.id*b+(-this.e.De*this.e.Xc+this.e.Ce*this.e.$d)*this.e.id)*this.scale.y+this.e.De};c.v.prototype.rw=function(a,
b,d){a.x=this.e.Yc*this.e.Eg*b+-this.e.ej*this.e.Eg*d+(this.e.De*this.e.ej-this.e.Ce*this.e.Yc)*this.e.Eg+this.anchor.x*this.e.width;a.y=this.e.Xc*this.e.Eg*d+-this.e.fj*this.e.Eg*b+(-this.e.De*this.e.Xc+this.e.Ce*this.e.fj)*this.e.Eg+this.anchor.y*this.e.height};c.v.prototype.md=function(){this.key instanceof c.Pc&&this.key.vb&&this.key.qa();this.Da&&(this.body&&this.body.md(),this.dd?(this.e.x=this.c.na.view.x+this.X.x,this.e.y=this.c.na.view.y+this.X.y):(this.e.x=this.x,this.e.y=this.y),this.position.x=
this.e.x,this.position.y=this.e.y)};c.v.prototype.$w=function(a){this.key=a;if(a instanceof c.qb)this.C=this.c.K.Pr(a.name);else if(a instanceof c.Pc)this.pd(a.g),this.C=a.Jj;else if(a instanceof e.R)this.C=void 0;else{if("undefined"===typeof a||!1===this.c.K.Sq(a))this.key=a="__default";this.c.K.ds(a)?this.sc.ms(this.c.K.Nr(a)):(this.C=this.c.K.Kd(a),this.pd(e.U[a]))}};c.v.prototype.Oq=function(a,b){this.dd?(this.X.x=a+(this.X.x-this.rg.x),this.X.y=b+(this.X.y-this.rg.y)):(this.x=a+(this.x-this.rg.x),
this.y=b+(this.y-this.rg.y))};c.v.prototype.vt=function(){this.visible=this.Da=this.ad=!0;this.m&&this.m.Ls.B(this);return this};c.v.prototype.kc=function(){this.visible=this.Da=this.ad=!1;this.m&&this.m.Gs.B(this);return this};c.v.prototype.N=function(){this.filters&&(this.filters=null);this.group&&this.group.remove(this);this.input&&this.input.N();this.m&&this.m.N();this.sc&&this.sc.N();this.body&&this.body.N();this.visible=this.Da=this.ad=!1;this.c=null};c.v.prototype.reset=function(a,b){this.x=
a;this.y=b;this.s.Q(a,b);this.position.x=this.x;this.position.y=this.y;this.Ma=this.visible=this.Da=this.ad=!0;this.body&&this.body.reset(!1);return this};c.v.prototype.of=function(){this.group?this.group.of(this):this.c.s.of(this);return this};c.v.prototype.play=function(a,b,d,c){if(this.sc)return this.sc.play(a,b,d,c)};Object.defineProperty(c.v.prototype,"deltaX",{get:function(){return this.s.x-this.e.Uo}});Object.defineProperty(c.v.prototype,"deltaY",{get:function(){return this.s.y-this.e.Vo}});
Object.defineProperty(c.v.prototype,"angle",{get:function(){return c.ca.ei(c.ca.Lg(this.rotation))},set:function(a){this.rotation=c.ca.wg(c.ca.ei(a))}});Object.defineProperty(c.v.prototype,"frame",{get:function(){return this.sc.frame},set:function(a){this.sc.frame=a}});Object.defineProperty(c.v.prototype,"frameName",{get:function(){return this.sc.ed},set:function(a){this.sc.ed=a}});Object.defineProperty(c.v.prototype,"inCamera",{get:function(){return this.e.Yk}});Object.defineProperty(c.v.prototype,
"worldCenterX",{get:function(){return this.c.na.x+this.rg.x}});Object.defineProperty(c.v.prototype,"worldCenterY",{get:function(){return this.c.na.y+this.rg.y}});Object.defineProperty(c.v.prototype,"width",{get:function(){return this.scale.x*this.C.width},set:function(a){this.scale.x=a/this.C.width;this.e.fm=a/this.C.width;this.ng=a}});Object.defineProperty(c.v.prototype,"height",{get:function(){return this.scale.y*this.C.height},set:function(a){this.scale.y=a/this.C.height;this.e.gm=a/this.C.height;
this.eg=a}});Object.defineProperty(c.v.prototype,"inputEnabled",{get:function(){return this.input.ic},set:function(a){a?!1===this.input.ic&&this.input.start():this.input.ic&&this.input.stop()}});c.xe=function(a,b,d,l,g,f){l=l||256;g=g||256;f=f||null;c.v.call(this,a,b||0,d||0,f);this.g=e.U[f];e.xd.call(this,this.g,l,g);this.type=c.Zg;this.vp=new c.p(1,1);this.up=new c.p(0,0);this.body.width=l;this.body.height=g};c.xe.prototype=c.uc.extend(!0,e.xd.prototype,c.v.prototype);c.xe.prototype.constructor=
c.xe;Object.defineProperty(c.xe.prototype,"angle",{get:function(){return c.ca.ei(c.ca.Lg(this.rotation))},set:function(a){this.rotation=c.ca.wg(c.ca.ei(a))}});Object.defineProperty(c.xe.prototype,"frame",{get:function(){return this.sc.frame},set:function(a){this.sc.frame=a}});Object.defineProperty(c.xe.prototype,"frameName",{get:function(){return this.sc.ed},set:function(a){this.sc.ed=a}});Object.defineProperty(c.xe.prototype,"inCamera",{get:function(){return this.e.Yk}});Object.defineProperty(c.xe.prototype,
"inputEnabled",{get:function(){return this.input.ic},set:function(a){a?!1===this.input.ic&&this.input.start():this.input.ic&&this.input.stop()}});c.va=function(a,b,d,l,g){b=b||0;d=d||0;l=l||"";g=g||"";this.c=a;this.ad=this.Da=!0;this.group=null;this.name="";this.type=c.vu;this.lg=l;this.pn=g;e.va.call(this,l,g);this.position.x=this.x=b;this.position.y=this.y=d;this.anchor=new c.p;this.scale=new c.p(1,1);this.dd=!1;this.X=new c.p(b,d);this.e={I:!1,Xc:1,Zd:0,Ce:b,$d:0,Yc:1,De:d,id:1,x:-1,y:-1,fm:1,
gm:1};this.e.x=this.x;this.e.y=this.y;this.Ma=!0};c.va.prototype=Object.create(e.va.prototype);c.va.prototype.constructor=c.va;c.va.prototype.update=function(){this.Da&&(this.dd&&(this.x=this.c.na.view.x+this.X.x,this.y=this.c.na.view.y+this.X.y),this.e.I=!1,this.e.x=this.x,this.e.y=this.y,this.position.x!=this.e.x||this.position.y!=this.e.y)&&(this.position.x=this.e.x,this.position.y=this.e.y,this.e.I=!0)};c.va.prototype.N=function(){this.group&&this.group.remove(this);this.canvas.parentNode?this.canvas.parentNode.removeChild(this.canvas):
this.f=this.canvas=null;this.Da=!1;this.group=null};Object.defineProperty(c.va.prototype,"angle",{get:function(){return c.ca.Lg(this.rotation)},set:function(a){this.rotation=c.ca.wg(a)}});Object.defineProperty(c.va.prototype,"x",{get:function(){return this.position.x},set:function(a){this.position.x=a}});Object.defineProperty(c.va.prototype,"y",{get:function(){return this.position.y},set:function(a){this.position.y=a}});Object.defineProperty(c.va.prototype,"content",{get:function(){return this.lg},
set:function(a){a!==this.lg&&(this.lg=a,this.im(a))}});Object.defineProperty(c.va.prototype,"font",{get:function(){return this.pn},set:function(a){a!==this.pn&&(this.pn=a,this.Og(a))}});c.Va=function(a,b,d,l,g){b=b||0;d=d||0;this.c=a;this.ad=this.Da=!0;this.group=null;this.name="";this.type=c.bu;e.Va.call(this,l||"",g||"");this.position.x=b;this.position.y=d;this.anchor=new c.p;this.scale=new c.p(1,1);this.e={I:!1,Xc:1,Zd:0,Ce:b,$d:0,Yc:1,De:d,id:1,x:-1,y:-1,fm:1,gm:1};this.e.x=this.x;this.e.y=this.y};
c.Va.prototype=Object.create(e.Va.prototype);c.Va.prototype.constructor=c.Va;c.Va.prototype.update=function(){if(this.Da){this.e.I=!1;this.e.x=this.x;this.e.y=this.y;if(this.position.x!=this.e.x||this.position.y!=this.e.y)this.position.x=this.e.x,this.position.y=this.e.y,this.e.I=!0;this.Th.x=this.anchor.x*this.width;this.Th.y=this.anchor.y*this.height}};c.Va.prototype.N=function(){this.group&&this.group.remove(this);this.canvas&&this.canvas.parentNode?this.canvas.parentNode.removeChild(this.canvas):
this.f=this.canvas=null;this.Da=!1;this.group=null};Object.defineProperty(c.Va.prototype,"angle",{get:function(){return c.ca.Lg(this.rotation)},set:function(a){this.rotation=c.ca.wg(a)}});Object.defineProperty(c.Va.prototype,"x",{get:function(){return this.position.x},set:function(a){this.position.x=a}});Object.defineProperty(c.Va.prototype,"y",{get:function(){return this.position.y},set:function(a){this.position.y=a}});c.Ec=function(a,b,d,e,g,f,h,k,m,n){g=g||null;f=f||this;c.v.call(this,a,b||0,d||
0,e||null,k);this.type=c.cu;this.Os=this.Es=this.Is=this.Js=this.zi=this.Gk=this.Ik=this.Kk=this.Ai=this.Hk=this.Jk=this.Lk=null;this.Mx=this.mx=this.zx=this.Ax="";this.Ne=new c.H;this.Jg=new c.H;this.Ig=new c.H;this.ie=new c.H;this.dw=this.sl=!1;this.sy(h,k,m,n);null!==g&&this.ie.add(g,f);this.input.start(0,!0);this.m.Ne.add(this.sx,this);this.m.Jg.add(this.rx,this);this.m.Ig.add(this.qx,this);this.m.ie.add(this.tx,this)};c.Ec.prototype=Object.create(c.v.prototype);c.Ec.prototype=c.uc.extend(!0,
c.Ec.prototype,c.v.prototype,e.v.prototype);c.Ec.prototype.constructor=c.Ec;c.Ec.prototype.Cv=function(){this.zi=this.Ai=this.Gk=this.Hk=this.Ik=this.Jk=this.Kk=this.Lk=null};c.Ec.prototype.sy=function(a,b,d,c){this.Cv();null!==a&&("string"===typeof a?(this.Lk=a,this.input.Vl()&&(this.ed=a)):(this.Kk=a,this.input.Vl()&&(this.frame=a)));null!==b&&("string"===typeof b?(this.Jk=b,!1===this.input.Vl()&&(this.ed=b)):(this.Ik=b,!1===this.input.Vl()&&(this.frame=b)));null!==d&&("string"===typeof d?(this.Hk=
d,this.input.it()&&(this.ed=d)):(this.Gk=d,this.input.it()&&(this.frame=d)));null!==c&&("string"===typeof c?(this.Ai=c,this.input.jt()&&(this.ed=c)):(this.zi=c,this.input.jt()&&(this.frame=c)))};c.Ec.prototype.sx=function(a,b){!1===this.sl&&this.Ng(1);this.Js&&this.Js.play(this.Ax);this.Ne&&this.Ne.B(this,b)};c.Ec.prototype.rx=function(a,b){!1===this.sl&&this.Ng(2);this.Is&&this.Is.play(this.zx);this.Jg&&this.Jg.B(this,b)};c.Ec.prototype.qx=function(a,b){!1===this.sl&&this.Ng(3);this.Es&&this.Es.play(this.mx);
this.Ig&&this.Ig.B(this,b)};c.Ec.prototype.tx=function(a,b,d){this.Os&&this.Os.play(this.Mx);this.ie&&this.ie.B(this,b,d);this.sl||(this.dw?this.Ng(2):this.Ai||this.zi?this.Ng(4):d?this.Ng(1):this.Ng(2))};c.Ec.prototype.Ng=function(a){1===a?null!=this.Lk?this.ed=this.Lk:null!=this.Kk&&(this.frame=this.Kk):2===a?null!=this.Jk?this.ed=this.Jk:null!=this.Ik&&(this.frame=this.Ik):3===a?null!=this.Hk?this.ed=this.Hk:null!=this.Gk&&(this.frame=this.Gk):4===a&&(null!=this.Ai?this.ed=this.Ai:null!=this.zi&&
(this.frame=this.zi))};c.S=function(a,b,d){this.c=a;e.S.call(this);this.type=c.ju;this.position.x=b;this.position.y=d};c.S.prototype=Object.create(e.S.prototype);c.S.prototype.constructor=c.S;c.S.prototype.N=function(){this.clear();this.group&&this.group.remove(this);this.c=null};Object.defineProperty(c.S.prototype,"angle",{get:function(){return c.ca.ei(c.ca.Lg(this.rotation))},set:function(a){this.rotation=c.ca.wg(c.ca.ei(a))}});Object.defineProperty(c.S.prototype,"x",{get:function(){return this.position.x},
set:function(a){this.position.x=a}});Object.defineProperty(c.S.prototype,"y",{get:function(){return this.position.y},set:function(a){this.position.y=a}});c.qb=function(a,b,d,l){this.c=a;this.name=b;e.dk.call(this);this.width=d||100;this.height=l||100;e.wb.create();this.frame=new e.u(0,0,this.width,this.height);this.type=c.su;this.hf={x:0,y:0};e.k?this.Bl():this.vo()};c.qb.prototype=Object.create(e.R.prototype);c.qb.prototype.constructor=e.qb;c.qb.prototype.qa=function(a,b,d,l){"undefined"===typeof b&&
(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof l&&(l=!1);a instanceof c.ra&&(a=a.j);e.k?this.Fj(a,b,d,l):this.Xh(a,b,d,l)};c.qb.prototype.Bl=function(){var a=e.k;this.Zb=a.createFramebuffer();a.bindFramebuffer(a.FRAMEBUFFER,this.Zb);this.Zb.width=this.width;this.Zb.height=this.height;this.A=new e.Fa;this.A.width=this.width;this.A.height=this.height;this.A.ib=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.A.ib);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.width,this.height,0,a.RGBA,a.UNSIGNED_BYTE,
null);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);this.A.Xw=!0;a.bindFramebuffer(a.FRAMEBUFFER,this.Zb);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.A.ib,0);this.Ua=new e.p(this.width/2,-this.height/2)};c.qb.prototype.resize=function(a,b){this.width=a;this.height=b;if(e.k){this.Ua.x=
this.width/2;this.Ua.y=-this.height/2;var d=e.k;d.bindTexture(d.TEXTURE_2D,this.A.ib);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,this.width,this.height,0,d.RGBA,d.UNSIGNED_BYTE,null)}else this.frame.width=this.width,this.frame.height=this.height,this.fa.resize(this.width,this.height)};c.qb.prototype.vo=function(){this.fa=new e.Rc(this.width,this.height,null,0);this.A=new e.Fa(this.fa.view);this.frame=new e.u(0,0,this.width,this.height)};c.qb.prototype.Fj=function(a,b,d){var c=e.k;c.colorMask(!0,!0,!0,!0);
c.viewport(0,0,this.width,this.height);c.bindFramebuffer(c.FRAMEBUFFER,this.Zb);d&&(c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT));var g=a.children;d=a.t;a.t=e.wb.create();a.t[4]=-1;a.t[5]=-2*this.Ua.y;b&&(a.t[2]=b.x,a.t[5]-=b.y);e.rd++;a.di=e.rd;b=0;for(var f=g.length;b<f;b++)g[b].Oa();(g=a.ja)?a==g.root?g.qa(this.Ua,this.Zb):g.qt(a,this.Ua,this.Zb):(this.Mg||(this.Mg=new e.Wa(c)),this.Mg.jp(a),this.Mg.qa(this.Ua,this.Zb));a.t=d};c.qb.prototype.Xh=function(a,b,d,c){var g=a.children;a.t=e.wb.create();
b&&(a.t[2]=b.x,a.t[5]=b.y);b=0;for(var f=g.length;b<f;b++)g[b].Oa();d&&this.fa.f.clearRect(0,0,this.width,this.height);this.fa.Cj(a,c);this.fa.f.setTransform(1,0,0,1,0,0)};c.Fc={create:function(a,b,d){a=a||256;b=b||256;var c=document.createElement("canvas");"string"===typeof d&&(c.id=d);c.width=a;c.height=b;c.style.display="block";return c},eo:function(a,b){b=b||new c.p;var d=a.getBoundingClientRect(),e=a.clientTop||document.body.clientTop||0,g=a.clientLeft||document.body.clientLeft||0,f=0,h=0;"CSS1Compat"===
document.compatMode?(f=window.pageYOffset||document.documentElement.scrollTop||a.scrollTop||0,h=window.pageXOffset||document.documentElement.scrollLeft||a.scrollLeft||0):(f=window.pageYOffset||document.body.scrollTop||a.scrollTop||0,h=window.pageXOffset||document.body.scrollLeft||a.scrollLeft||0);b.x=d.left+h-g;b.y=d.top+f-e;return b},nD:function(a){return a.width/a.height},hp:function(a,b){a.style.backgroundColor=b||"rgb(0,0,0)";return a},At:function(a,b){b=b||"none";a.style.msTouchAction=b;a.style["ms-touch-action"]=
b;a.style["touch-action"]=b;return a},zy:function(a,b){b=b||"none";a.style["-webkit-touch-callout"]=b;a.style["-webkit-user-select"]=b;a.style["-khtml-user-select"]=b;a.style["-moz-user-select"]=b;a.style["-ms-user-select"]=b;a.style["user-select"]=b;a.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)";return a},iv:function(a,b,d){var c;"undefined"===typeof d&&(d=!0);b&&("string"===typeof b?c=document.getElementById(b):"object"===typeof b&&1===b.nodeType&&(c=b));c||(c=document.body);d&&c.style&&
(c.style.overflow="hidden");c.appendChild(a);return a},setTransform:function(a,b,d,c,e,f,h){a.setTransform(c,f,h,e,b,d);return a},wy:function(a,b){a.imageSmoothingEnabled=b;a.mozImageSmoothingEnabled=b;a.oImageSmoothingEnabled=b;a.webkitImageSmoothingEnabled=b;a.msImageSmoothingEnabled=b;return a},fE:function(a){a.style["image-rendering"]="optimizeSpeed";a.style["image-rendering"]="crisp-edges";a.style["image-rendering"]="-moz-crisp-edges";a.style["image-rendering"]="-webkit-optimize-contrast";a.style["image-rendering"]=
"optimize-contrast";a.style.msInterpolationMode="nearest-neighbor";return a},eE:function(a){a.style["image-rendering"]="auto";a.style.msInterpolationMode="bicubic";return a}};c.gb=function(a,b,d){this.c=a;this.width=b;this.height=d;this.maxHeight=this.minHeight=this.maxWidth=this.minWidth=null;this.Uu=0;this.Ox=this.Po=this.wf=this.Dr=this.$n=!1;this.eg=this.ng=0;this.qs=5;this.xj=null;this.xr=new c.H;this.yr=new c.H;this.$v=new c.H;this.Yw=new c.H;this.Gw=new c.H;this.orientation=window.orientation?
window.orientation:window.outerWidth>window.outerHeight?90:0;this.$h=new c.p(1,1);this.wt=new c.p(1,1);this.margin=new c.p(0,0);this.event=null;var e=this;window.addEventListener("orientationchange",function(a){return e.yv(a)},!1);window.addEventListener("resize",function(a){return e.Av(a)},!1);document.addEventListener("webkitfullscreenchange",function(a){return e.bo(a)},!1);document.addEventListener("mozfullscreenchange",function(a){return e.bo(a)},!1);document.addEventListener("fullscreenchange",
function(a){return e.bo(a)},!1)};c.gb.ym=0;c.gb.nk=1;c.gb.SHOW_ALL=2;c.gb.prototype={bo:function(a){this.event=a;this.Vw?this.c.q.$i===c.gb.ym?(this.c.q.canvas.style.width="100%",this.c.q.canvas.style.height="100%",this.zt(),this.c.input.scale.Q(this.c.width/this.width,this.c.height/this.height),this.$h.x=this.c.width/this.width,this.$h.y=this.c.height/this.height):this.c.q.$i===c.gb.SHOW_ALL&&(this.c.q.scale.lp(),this.c.q.scale.refresh()):(this.c.q.canvas.style.width=this.c.width+"px",this.c.q.canvas.style.height=
this.c.height+"px",this.width=this.ng,this.height=this.eg,this.c.input.scale.Q(this.c.width/this.width,this.c.height/this.height),this.$h.x=this.c.width/this.width,this.$h.y=this.c.height/this.height)},Uq:function(){if(this.wf){if(this.$n&&window.innerWidth>window.innerHeight||this.Dr&&window.innerHeight>window.innerWidth)this.wf=this.c.paused=!1,this.Yw.B(),this.xj&&(this.xj.visible=!1,this.c.s.visible=!0),this.refresh()}else if(this.$n&&window.innerWidth<window.innerHeight||this.Dr&&window.innerHeight<
window.innerWidth)this.wf=this.c.paused=!0,this.$v.B(),this.xj&&!1===this.xj.visible&&(this.xj.visible=!0,this.c.s.visible=!1),this.refresh()},yv:function(a){this.event=a;this.orientation=window.orientation;this.Ww?this.xr.B(this.orientation,!0,!1):this.yr.B(this.orientation,!1,!0);this.c.q.tb!==c.gb.nk&&this.refresh()},Av:function(a){this.event=a;this.orientation=window.outerWidth>window.outerHeight?90:0;this.Ww?this.xr.B(this.orientation,!0,!1):this.yr.B(this.orientation,!1,!0);this.c.q.tb!==c.gb.nk&&
this.refresh();this.Uq()},refresh:function(){!1===this.c.Ha.so&&!1===this.c.Ha.Bp&&!1===this.c.Ha.gl&&(this.c.Ha.Vk&&!1===this.c.Ha.chrome?window.scrollTo(0,1):window.scrollTo(0,0));if(null==this.Lm&&0<this.qs){this.aq=this.qs;var a=this;this.Lm=window.setInterval(function(){return a.kp()},10);this.kp()}},kp:function(a){"undefined"==typeof a&&(a=!1);!1===this.c.Ha.so&&!1===this.c.Ha.Bp&&!1===this.c.Ha.gl&&(this.c.Ha.Vk&&!1===this.c.Ha.chrome?window.scrollTo(0,1):window.scrollTo(0,0));this.aq--;if(a||
window.innerHeight>this.Uu||0>this.aq)document.documentElement.style.minHeight=window.innerHeight+"px",!0===this.wf?this.zt():this.Vw?this.c.q.$i==c.gb.ym?this.yt():this.c.q.$i==c.gb.SHOW_ALL&&this.lp():this.c.q.tb==c.gb.ym?this.yt():this.c.q.tb==c.gb.SHOW_ALL&&this.lp(),this.mp(),clearInterval(this.Lm),this.Lm=null},mp:function(){!1===this.wf&&(this.maxWidth&&this.width>this.maxWidth&&(this.width=this.maxWidth),this.maxHeight&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.minWidth&&
this.width<this.minWidth&&(this.width=this.minWidth),this.minHeight&&this.height<this.minHeight&&(this.height=this.minHeight));this.c.canvas.style.width=this.width+"px";this.c.canvas.style.height=this.height+"px";this.c.input.scale.Q(this.c.width/this.width,this.c.height/this.height);this.Po&&(this.width<window.innerWidth&&!1===this.wf?(this.margin.x=Math.round((window.innerWidth-this.width)/2),this.c.canvas.style.marginLeft=this.margin.x+"px"):(this.margin.x=0,this.c.canvas.style.marginLeft="0px"));
this.Ox&&(this.height<window.innerHeight&&!1===this.wf?(this.margin.y=Math.round((window.innerHeight-this.height)/2),this.c.canvas.style.marginTop=this.margin.y+"px"):(this.margin.y=0,this.c.canvas.style.marginTop="0px"));c.Fc.eo(this.c.canvas,this.c.q.offset);this.$h.x=this.c.width/this.width;this.$h.y=this.c.height/this.height;this.wt.x=this.width/this.c.width;this.wt.y=this.height/this.c.height;this.Gw.B(this.width,this.height);this.Uq()},zt:function(){this.width=window.innerWidth;this.height=
window.innerHeight},lp:function(){var a=Math.min(window.innerHeight/this.c.height,window.innerWidth/this.c.width);this.width=Math.round(this.c.width*a);this.height=Math.round(this.c.height*a)},yt:function(){var a=window.innerWidth,b=window.innerHeight;this.width=this.maxWidth&&a>this.maxWidth?this.maxWidth:a;this.height=this.maxHeight&&b>this.maxHeight?this.maxHeight:b}};c.gb.prototype.constructor=c.gb;Object.defineProperty(c.gb.prototype,"isFullScreen",{get:function(){return document.fullscreenElement||
document.mozFullScreenElement||document.webkitFullscreenElement}});Object.defineProperty(c.gb.prototype,"isPortrait",{get:function(){return 0===this.orientation||180==this.orientation}});Object.defineProperty(c.gb.prototype,"isLandscape",{get:function(){return 90===this.orientation||-90===this.orientation}});c.ak=function(){this.so=this.Yt=this.os=this.Wt=this.zs=this.Ps=this.Cs=this.Qj=this.Ct=this.Bp=this.opera=this.chrome=this.Ih=this.Nc=this.Rj=this.localStorage=this.file=this.canvas=this.Zt=
this.ps=this.ks=this.Vk=this.vr=this.Yq=this.Tr=this.gl=!1;this.Eu();this.Fu();this.Gu();this.Hu();this.Iu();this.Ju()};c.ak.prototype={Ju:function(){var a=navigator.userAgent;/Android/.test(a)?this.Vk=!0:/CrOS/.test(a)||(/iP[ao]d|iPhone/i.test(a)?this.Tr=!0:/Linux/.test(a)?this.ks=!0:/Mac OS/.test(a)?this.ps=!0:/Windows/.test(a)&&(this.Zt=!0));if(this.Zt||this.ps||this.ks&&!1===this.Ct)this.gl=!0},Iu:function(){this.canvas=!!window.CanvasRenderingContext2D;try{this.localStorage=!!localStorage.getItem}catch(a){this.localStorage=
!1}this.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob;var b;try{var d=document.createElement("canvas");b=!!window.dC&&(d.getContext("webgl")||d.getContext("experimental-webgl"))}catch(c){b=!1}this.Rj=b;this.Rj=null===this.Rj||!1===this.Rj?!1:!0;if("ontouchstart"in document.documentElement||window.navigator.dx&&1<window.navigator.dx)this.Nc=!0;if(window.navigator.msPointerEnabled||window.navigator.XD)this.Ih=!0},Fu:function(){var a=navigator.userAgent;/Arora/.test(a)||(/Chrome/.test(a)?
this.chrome=!0:/Epiphany/.test(a)||/Firefox/.test(a)||/Mobile Safari/.test(a)||/MSIE (\d+\.\d+);/.test(a)||/Midori/.test(a)||(/Opera/.test(a)?this.opera=!0:/Safari/.test(a)||(/Silk/.test(a)?this.Ct=!0:/Trident\/(\d+\.\d+);/.test(a))));navigator.standalone&&(this.Bp=!0);navigator.isCocoonJS&&(this.Yq=!0);"undefined"!==typeof window.vr&&(this.vr=!0)},Eu:function(){this.Qj=!(!window.webkitAudioContext&&!window.AudioContext);var a=document.createElement("audio");try{if(a.canPlayType){a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,
"")&&(this.Cs=!0);a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")&&(this.Ps=!0);a.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(this.zs=!0);a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(this.Wt=!0);if(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;").replace(/^no$/,""))this.os=!0;a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(this.Yt=!0)}}catch(b){}},Hu:function(){this.so=-1!=navigator.userAgent.toLowerCase().indexOf("ipad");"undefined"!==typeof Int8Array&&
new Int8Array((new Int16Array([1])).buffer);navigator.fz=navigator.fz||navigator.vE||navigator.ND||navigator.OD},Gu:function(){var a=document.createElement("p"),b={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in b)void 0!==a.style[d]&&(a.style[d]="translate3d(1px,1px,1px)",window.getComputedStyle(a).getPropertyValue(b[d]));document.body.removeChild(a)},wv:function(a){return"mp3"==
a&&this.zs||"ogg"==a&&(this.Cs||this.Ps)||"m4a"==a&&this.os||"wav"==a&&this.Wt||"webm"==a&&this.Yt?!0:!1}};c.ak.prototype.constructor=c.ak;c.rk=function(a){this.c=a;a=["ms","moz","webkit","o"];for(var b=0;b<a.length&&!window.requestAnimationFrame;b++)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"];this.Vm=!1;this.lh=this.kh=null};c.rk.prototype={start:function(){var a=this;window.requestAnimationFrame?(this.Vm=!1,this.kh=
function(b){return a.cz(b)},this.lh=window.requestAnimationFrame(this.kh)):(this.Vm=!0,this.kh=function(){return a.dz()},this.lh=window.setTimeout(this.kh,0))},cz:function(a){this.c.update(a);this.lh=window.requestAnimationFrame(this.kh)},dz:function(){this.c.update(Date.now());this.lh=window.setTimeout(this.kh,this.c.time.yp)},stop:function(){this.Vm?clearTimeout(this.lh):window.cancelAnimationFrame(this.lh)}};c.rk.prototype.constructor=c.rk;c.qk=function(a){"undefined"===typeof a&&(a=[]);this.Mi=
1;this.Se=this.Re=this.Qe=0;this.Fy(a)};c.qk.prototype={Na:function(){var a=2091639*this.Qe+2.3283064365386963E-10*this.Mi;this.Mi=a|0;this.Qe=this.Re;this.Re=this.Se;return this.Se=a-this.Mi},Fy:function(a){"undefined"===typeof a&&(a=[]);this.Qe=this.hash(" ");this.Re=this.hash(this.Qe);this.Se=this.hash(this.Re);this.Mi=1;for(var b,d=0;b=a[d++];)this.Qe-=this.hash(b),this.Qe+=~~(0>this.Qe),this.Re-=this.hash(b),this.Re+=~~(0>this.Re),this.Se-=this.hash(b),this.Se+=~~(0>this.Se)},hash:function(a){var b,
d,c;c=4022871197;a=a.toString();for(d=0;d<a.length;d++)c+=a.charCodeAt(d),b=0.02519603282416938*c,c=b>>>0,b-=c,b*=c,c=b>>>0,b-=c,c+=4294967296*b;return 2.3283064365386963E-10*(c>>>0)},Gr:function(){return this.Na.apply(this)+1.1102230246251565E-16*(2097152*this.Na.apply(this)|0)},Ld:function(a,b){return Math.floor(this.bp(a,b))},bp:function(a,b){return this.Gr()*(b-a)+a},cc:function(){for(var a="",b="",b=a="";36>a++;b+=~a%5|3*a&4?(a^15?8^this.Gr()*(a^20?16:4):4).toString(16):"-");return b},Sx:function(a){return a[this.Ld(0,
a.length)]},timestamp:function(a,b){return this.bp(a||9466848E5,b||1577862E6)},bd:function(){return this.Ld(-180,180)}};c.qk.prototype.constructor=c.qk;c.ca={yB:2*Math.PI,gD:function(a,b,d){"undefined"===typeof d&&(d=1E-4);return Math.abs(a-b)<d},jD:function(a,b,d){"undefined"===typeof d&&(d=1E-4);return a<b+d},iD:function(a,b,d){"undefined"===typeof d&&(d=1E-4);return a>b-d},fD:function(a,b){"undefined"===typeof b&&(b=1E-4);return Math.ceil(a-b)},hD:function(a,b){"undefined"===typeof b&&(b=1E-4);
return Math.floor(a+b)},KC:function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];for(var d=b=0;d<a.length;d++)b+=a[d];return b/a.length},truncate:function(a){return 0<a?Math.floor(a):Math.ceil(a)},gE:function(a){return a%1},mE:function(a,b,d){"undefined"===typeof d&&(d=0);if(0===b)return a;a=b*Math.round((a-d)/b);return d+a},Ft:function(a,b,d){"undefined"===typeof d&&(d=0);if(0===b)return a;a=b*Math.floor((a-d)/b);return d+a},Et:function(a,b,d){"undefined"===typeof d&&(d=0);if(0===
b)return a;a=b*Math.ceil((a-d)/b);return d+a},nE:function(a,b,d){"undefined"===typeof d&&(d=!0);d&&b.sort();if(a<b[0])return b[0];for(var c=1;b[c]<a;)c++;d=b[c-1];b=c<b.length?b[c]:Number.POSITIVE_INFINITY;return b-a<=a-d?b:d},cE:function(a,b,d){"undefined"===typeof b&&(b=0);"undefined"===typeof d&&(d=10);b=Math.pow(d,-b);return Math.round(a*b)/b},bD:function(a,b,d){"undefined"===typeof b&&(b=0);"undefined"===typeof d&&(d=10);b=Math.pow(d,-b);return Math.floor(a*b)/b},QC:function(a,b,d){"undefined"===
typeof b&&(b=0);"undefined"===typeof d&&(d=10);b=Math.pow(d,-b);return Math.ceil(a*b)/b},Uw:function(a,b,d){return(b-a)*d+a},jv:function(a,b,d,c){return Math.atan2(c-b,d-a)},bE:function(a){return this.Ml(a+Math.PI,!0)},Ml:function(a){a%=2*Math.PI;return 0<=a?a:a+2*Math.PI},RD:function(a){return Math.max(-90,Math.min(90,a))},SD:function(a){if(180==a%360)return 180;a%=360;return-180>a?a+360:180<a?a-360:a},PD:function(a,b,d){"undefined"===typeof d&&(d=!0);var c=d?Math.PI:180;a=this.Ml(a,d);b=this.Ml(b,
d);a<-c/2&&b>c/2&&(a+=2*c);b<-c/2&&a>c/2&&(b+=2*c);return b-a},BD:function(a,b,d,c,e){"undefined"===typeof c&&(c=!0);"undefined"===typeof e&&(e=null);a=this.Ml(a,c);b=this.QD(b,a,c);return"function"===typeof e?e(d,a,b-a,1):this.Uw(a,b,d)},RC:function(a){"undefined"===typeof a&&(a=50);return 0>=a?!1:100<=a?!0:100*Math.random()>=a?!1:!0},UD:function(a,b){for(var d=[],c=a;c<=b;c++)d.push(c);return d},LD:function(a,b,d){a+=b;a>d&&(a=d);return a},MD:function(a,b,d){a-=b;a<d&&(a=d);return a},jz:function(a,
b,d){d-=b;if(0>=d)return 0;a=(a-b)%d;0>a&&(a+=d);return a+b},xE:function(a,b,d){a=Math.abs(a);b=Math.abs(b);d=Math.abs(d);return(a+b)%d},ZD:function(){return 0.5<Math.random()?1:-1},HD:function(a){return a&1},GD:function(a){return a&1?!1:!0},max:function(){for(var a=1,b=0,d=arguments.length;a<d;a++)arguments[b]<arguments[a]&&(b=a);return arguments[b]},min:function(){for(var a=1===arguments.length&&"object"===typeof arguments[0]?arguments[0]:arguments,b=1,d=0,c=a.length;b<c;b++)a[b]<a[d]&&(d=b);return a[d]},
max:function(){for(var a=1===arguments.length&&"object"===typeof arguments[0]?arguments[0]:arguments,b=1,d=0,c=a.length;b<c;b++)a[b]>a[d]&&(d=b);return a[d]},ws:function(a){for(var b=2===arguments.length&&"object"===typeof arguments[1]?arguments[1]:arguments.slice(1),d=1,c=0,e=b.length;d<e;d++)b[d][a]<b[c][a]&&(c=d);return b[c][a]},ss:function(a){for(var b=2===arguments.length&&"object"===typeof arguments[1]?arguments[1]:arguments.slice(1),d=1,c=0,e=b.length;d<e;d++)b[d][a]>b[c][a]&&(c=d);return b[c][a]},
ei:function(a){return this.jz(a,-180,180)},HC:function(a,b,d){var c=a;a>d?c=d:a<b&&(c=b);return c},Zw:function(a,b){var d=a.length-1,c=d*b,e=Math.floor(c);return 0>b?this.Ao(a[0],a[1],c):1<b?this.Ao(a[d],a[d-1],d-c):this.Ao(a[e],a[e+1>d?d:e+1],c-e)},LC:function(a,b){for(var d=0,c=a.length-1,e=0;e<=c;e++)d+=Math.pow(1-b,c-e)*Math.pow(b,e)*a[e]*this.rv(c,e);return d},PC:function(a,b){var d=a.length-1,c=d*b,e=Math.floor(c);return a[0]===a[d]?(0>b&&(e=Math.floor(c=d*(1+b))),this.Zk(a[(e-1+d)%d],a[e],
a[(e+1)%d],a[(e+2)%d],c-e)):0>b?a[0]-(this.Zk(a[0],a[0],a[1],a[1],-c)-a[0]):1<b?a[d]-(this.Zk(a[d],a[d],a[d-1],a[d-1],c-d)-a[d]):this.Zk(a[e?e-1:0],a[e],a[d<e+1?d:e+1],a[d<e+2?d:e+2],c-e)},Ao:function(a,b,d){return(b-a)*d+a},rv:function(a,b){return this.Ar(a)/this.Ar(b)/this.Ar(a-b)},Zk:function(a,b,d,c,e){a=0.5*(d-a);c=0.5*(c-b);var f=e*e;return(2*b-2*d+a+c)*e*f+(-3*b+3*d-2*a-c)*f+a*e+b},WC:function(a,b){return Math.abs(a-b)},Or:function(a,b,d){"undefined"===typeof b&&(b=0);"undefined"===typeof d&&
(d=0);if(null!=a){if(0===d||d>a.length-b)d=a.length-b;if(0<d)return a[b+Math.floor(Math.random()*d)]}return null},floor:function(a){var b=a|0;return 0<a?b:b!=a?b-1:b},ceil:function(a){var b=a|0;return 0<a?b!=a?b+1:b:b},jE:function(a,b,d,c){"undefined"===typeof b&&(b=1);"undefined"===typeof d&&(d=1);"undefined"===typeof c&&(c=1);c=c*Math.PI/a;for(var e=[],f=[],h=0;h<a;h++)d-=b*c,b+=d*c,e[h]=d,f[h]=b;return{sin:f,cos:e,length:a}},shift:function(a){var b=a.shift();a.push(b);return b},hE:function(a){for(var b=
a.length-1;0<b;b--){var d=Math.floor(Math.random()*(b+1)),c=a[b];a[b]=a[d];a[d]=c}return a},aa:function(a,b,d,c){a-=d;b-=c;return Math.sqrt(a*a+b*b)},YC:function(a,b,d,c,e){"undefined"===typeof e&&(e=2);return Math.sqrt(Math.pow(d-a,e)+Math.pow(c-b,e))},ZC:function(a,b,d,e){return Math.round(c.ca.aa(a,b,d,e))},al:function(a,b,d){return a<b?b:a>d?d:a},SC:function(a,b){return a<b?b:a},wE:function(a,b,d){return Math.abs(a-b)<=d},KD:function(a,b,d,c,e){return c+(a-b)*(e-c)/(d-b)},lE:function(a,b,d){if(a<=
b)return 0;if(a>=d)return 1;a=(a-b)/(d-b);return a*a*(3-2*a)},kE:function(a,b,d){if(a<=b)return 0;if(a>=d)return 1;a=(a-b)/(d-b);return a*a*a*(a*(6*a-15)+10)},iE:function(a){return 0>a?-1:0<a?1:0},wg:function(){var a=Math.PI/180;return function(b){return b*a}}(),Lg:function(){var a=180/Math.PI;return function(b){return b*a}}()};c.ue=function(a,b,d,c,e,f,h){this.Cf=e||10;this.Bf=f||4;this.Dh=h||0;this.o={x:Math.round(a),y:Math.round(b),width:d,height:c,nm:Math.floor(d/2),mm:Math.floor(c/2),right:Math.round(a)+
Math.floor(d/2),bottom:Math.round(b)+Math.floor(c/2)};this.yb=[];this.Pb=[]};c.ue.prototype={Xx:function(a){a.forEach(this.Yx,this,!0)},Yx:function(a){a.body&&!1===a.body.Za.Ll&&a.ad&&this.wo(a.body)},split:function(){this.Dh++;this.Pb[0]=new c.ue(this.o.right,this.o.y,this.o.nm,this.o.mm,this.Cf,this.Bf,this.Dh);this.Pb[1]=new c.ue(this.o.x,this.o.y,this.o.nm,this.o.mm,this.Cf,this.Bf,this.Dh);this.Pb[2]=new c.ue(this.o.x,this.o.bottom,this.o.nm,this.o.mm,this.Cf,this.Bf,this.Dh);this.Pb[3]=new c.ue(this.o.right,
this.o.bottom,this.o.nm,this.o.mm,this.Cf,this.Bf,this.Dh)},wo:function(a){var b=0,d;if(null!=this.Pb[0]&&(d=this.Bg(a),-1!==d)){this.Pb[d].wo(a);return}this.yb.push(a);if(this.yb.length>this.Cf&&this.Dh<this.Bf)for(null==this.Pb[0]&&this.split();b<this.yb.length;)d=this.Bg(this.yb[b]),-1!==d?this.Pb[d].wo(this.yb.splice(b,1)[0]):b++},Bg:function(a){var b=-1;a.x<this.o.right&&a.right<this.o.right?a.y<this.o.bottom&&a.bottom<this.o.bottom?b=1:a.y>this.o.bottom&&(b=2):a.x>this.o.right&&(a.y<this.o.bottom&&
a.bottom<this.o.bottom?b=0:a.y>this.o.bottom&&(b=3));return b},Zh:function(a){var b=this.yb;a.body.nt=this.Bg(a.body);this.Pb[0]&&(-1!==a.body.nt?b=b.concat(this.Pb[a.body.nt].Zh(a)):(b=b.concat(this.Pb[0].Zh(a)),b=b.concat(this.Pb[1].Zh(a)),b=b.concat(this.Pb[2].Zh(a)),b=b.concat(this.Pb[3].Zh(a))));return b},clear:function(){this.yb=[];for(var a=0,b=this.Pb.length;a<b;a++)this.Pb[a]&&(this.Pb[a].clear(),delete this.Pb[a])}};c.ue.prototype.constructor=c.ue;c.eb=function(a,b,d){d=d||0;this.x=a||0;
this.y=b||0;this.ze=d;this.qc=0<d?0.5*d:0};c.eb.prototype={Q:function(a,b,d){this.x=a;this.y=b;this.ze=d;this.qc=0.5*d;return this},Ln:function(a){return this.Q(a.x,a.y,a.hl)},aa:function(a,b){"undefined"===typeof b&&(b=!1);return b?c.ca.Wv(this.x,this.y,a.x,a.y):c.ca.aa(this.x,this.y,a.x,a.y)},Dd:function(a){"undefined"===typeof a&&(a=new c.eb);return a.Q(this.x,this.y,this.hl)},contains:function(a,b){return c.eb.contains(this,a,b)},Vq:function(a,b,d){return c.eb.Vq(this,a,b,d)},offset:function(a,
b){this.x+=a;this.y+=b;return this},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.hl+" radius="+this.tc+")}]"}};c.eb.prototype.constructor=c.eb;Object.defineProperty(c.eb.prototype,"diameter",{get:function(){return this.ze},set:function(a){0<a&&(this.ze=a,this.qc=0.5*a)}});Object.defineProperty(c.eb.prototype,"radius",{get:function(){return this.qc},set:function(a){0<a&&(this.qc=a,this.ze=2*a)}});Object.defineProperty(c.eb.prototype,"left",{get:function(){return this.x-
this.qc},set:function(a){a>this.x?this.ze=this.qc=0:this.tc=this.x-a}});Object.defineProperty(c.eb.prototype,"right",{get:function(){return this.x+this.qc},set:function(a){a<this.x?this.ze=this.qc=0:this.tc=a-this.x}});Object.defineProperty(c.eb.prototype,"top",{get:function(){return this.y-this.qc},set:function(a){a>this.y?this.ze=this.qc=0:this.tc=this.y-a}});Object.defineProperty(c.eb.prototype,"bottom",{get:function(){return this.y+this.qc},set:function(a){a<this.y?this.ze=this.qc=0:this.tc=a-
this.y}});Object.defineProperty(c.eb.prototype,"area",{get:function(){return 0<this.qc?Math.PI*this.qc*this.qc:0}});Object.defineProperty(c.eb.prototype,"empty",{get:function(){return 0===this.ze},set:function(a){!0===a&&this.Q(0,0,0)}});c.eb.contains=function(a,b,d){return b>=a.left&&b<=a.right&&d>=a.top&&d<=a.bottom?(a.x-b)*(a.x-b)+(a.y-d)*(a.y-d)<=a.tc*a.tc:!1};c.eb.Wi=function(a,b){return a.x==b.x&&a.y==b.y&&a.hl==b.hl};c.eb.jd=function(a,b){return c.ca.aa(a.x,a.y,b.x,b.y)<=a.tc+b.tc};c.eb.Vq=
function(a,b,d,e){"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=new c.p);!0===d&&(b=c.ca.Lg(b));e.x=a.x+a.tc*Math.cos(b);e.y=a.y+a.tc*Math.sin(b);return e};c.eb.FD=function(a,b){var d=Math.abs(a.x-b.x-b.ge);if(d>b.ge+a.tc)return!1;var c=Math.abs(a.y-b.y-b.fe);if(c>b.fe+a.tc)return!1;if(d<=b.ge||c<=b.fe)return!0;d-=b.ge;c-=b.fe;return d*d+c*c<=a.tc*a.tc};c.p=function(a,b){this.x=a||0;this.y=b||0};c.p.prototype={Ln:function(a){return this.Q(a.x,a.y)},Q:function(a,b){this.x=a;this.y=b;return this},
add:function(a,b){this.x+=a;this.y+=b;return this},Ky:function(a,b){this.x-=a;this.y-=b;return this},multiply:function(a,b){this.x*=a;this.y*=b;return this},Xv:function(a,b){this.x/=a;this.y/=b;return this},al:function(a,b){this.x=c.ca.al(this.x,a,b);this.y=c.ca.al(this.y,a,b);return this},Dd:function(a){"undefined"===typeof a&&(a=new c.p);return a.Q(this.x,this.y)},aa:function(a,b){return c.p.aa(this,a,b)},Wi:function(a){return a.x==this.x&&a.y==this.y},rotate:function(a,b,d,e,g){return c.p.rotate(this,
a,b,d,e,g)},sw:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){if(!this.yo()){var a=this.sw();this.x/=a;this.y/=a}return this},yo:function(){return 0===this.x&&0===this.y},toString:function(){return"[{Point (x="+this.x+" y="+this.y+")}]"}};c.p.prototype.constructor=c.p;c.p.add=function(a,b,d){"undefined"===typeof d&&(d=new c.p);d.x=a.x+b.x;d.y=a.y+b.y;return d};c.p.Ky=function(a,b,d){"undefined"===typeof d&&(d=new c.p);d.x=a.x-b.x;d.y=a.y-b.y;return d};c.p.multiply=
function(a,b,d){"undefined"===typeof d&&(d=new c.p);d.x=a.x*b.x;d.y=a.y*b.y;return d};c.p.Xv=function(a,b,d){"undefined"===typeof d&&(d=new c.p);d.x=a.x/b.x;d.y=a.y/b.y;return d};c.p.Wi=function(a,b){return a.x==b.x&&a.y==b.y};c.p.aa=function(a,b,d){"undefined"===typeof d&&(d=!1);return d?c.ca.Wv(a.x,a.y,b.x,b.y):c.ca.aa(a.x,a.y,b.x,b.y)};c.p.rotate=function(a,b,d,e,g,f){f=f||null;g&&(e=c.ca.wg(e));null===f&&(f=Math.sqrt((b-a.x)*(b-a.x)+(d-a.y)*(d-a.y)));return a.Q(b+f*Math.cos(e),d+f*Math.sin(e))};
c.u=function(a,b,d,c){this.x=a||0;this.y=b||0;this.width=d||0;this.height=c||0};c.u.prototype={offset:function(a,b){this.x+=a;this.y+=b;return this},Q:function(a,b,d,c){this.x=a;this.y=b;this.width=d;this.height=c;return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y)},bw:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.width=Math.floor(this.width);this.height=Math.floor(this.height)},Ln:function(a){return this.Q(a.x,a.y,a.width,a.height)},uo:function(a,
b){return c.u.uo(this,a,b)},size:function(a){return c.u.size(this,a)},Dd:function(a){return c.u.Dd(this,a)},contains:function(a,b){return c.u.contains(this,a,b)},hr:function(a){return c.u.hr(this,a)},Wi:function(a){return c.u.Wi(this,a)},Yr:function(a,b){return c.u.Yr(this,a,b)},jd:function(a,b){return c.u.jd(this,a,b)},$r:function(a,b,d,e,g){return c.u.$r(this,a,b,d,e,g)},Ot:function(a,b){return c.u.Ot(this,a,b)},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+
" height="+this.height+" empty="+this.empty+")}]"}};c.u.prototype.constructor=c.u;Object.defineProperty(c.u.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}});Object.defineProperty(c.u.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}});Object.defineProperty(c.u.prototype,"bottom",{get:function(){return this.y+this.height},set:function(a){this.height=a<=this.y?0:this.y-a}});Object.defineProperty(c.u.prototype,"bottomRight",{get:function(){return new c.p(this.right,
this.bottom)},set:function(a){this.right=a.x;this.bottom=a.y}});Object.defineProperty(c.u.prototype,"left",{get:function(){return this.x},set:function(a){this.width=a>=this.right?0:this.right-a;this.x=a}});Object.defineProperty(c.u.prototype,"right",{get:function(){return this.x+this.width},set:function(a){this.width=a<=this.x?0:this.x+a}});Object.defineProperty(c.u.prototype,"volume",{get:function(){return this.width*this.height}});Object.defineProperty(c.u.prototype,"perimeter",{get:function(){return 2*
this.width+2*this.height}});Object.defineProperty(c.u.prototype,"centerX",{get:function(){return this.x+this.ge},set:function(a){this.x=a-this.ge}});Object.defineProperty(c.u.prototype,"centerY",{get:function(){return this.y+this.fe},set:function(a){this.y=a-this.fe}});Object.defineProperty(c.u.prototype,"top",{get:function(){return this.y},set:function(a){a>=this.bottom?(this.height=0,this.y=a):this.height=this.bottom-a}});Object.defineProperty(c.u.prototype,"topLeft",{get:function(){return new c.p(this.x,
this.y)},set:function(a){this.x=a.x;this.y=a.y}});Object.defineProperty(c.u.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(a){!0===a&&this.Q(0,0,0,0)}});c.u.uo=function(a,b,d){a.x-=b;a.width+=2*b;a.y-=d;a.height+=2*d;return a};c.u.zD=function(a,b){return c.u.uo(a,b.x,b.y)};c.u.size=function(a,b){"undefined"===typeof b&&(b=new c.p);return b.Q(a.width,a.height)};c.u.Dd=function(a,b){"undefined"===typeof b&&(b=new c.u);return b.Q(a.x,a.y,a.width,a.height)};c.u.contains=
function(a,b,d){return b>=a.x&&b<=a.right&&d>=a.y&&d<=a.bottom};c.u.VC=function(a,b,d,c,e,f){return e>=a&&e<=a+d&&f>=b&&f<=b+c};c.u.UC=function(a,b){return c.u.contains(a,b.x,b.y)};c.u.hr=function(a,b){return a.volume>b.volume?!1:a.x>=b.x&&a.y>=b.y&&a.right<=b.right&&a.bottom<=b.bottom};c.u.Wi=function(a,b){return a.x==b.x&&a.y==b.y&&a.width==b.width&&a.height==b.height};c.u.Yr=function(a,b,d){d=d||new c.u;c.u.jd(a,b)&&(d.x=Math.max(a.x,b.x),d.y=Math.max(a.y,b.y),d.width=Math.min(a.right,b.right)-
d.x,d.height=Math.min(a.bottom,b.bottom)-d.y);return d};c.u.jd=function(a,b){return 0>=a.width||0>=a.height||0>=b.width||0>=b.height?!1:!(a.right<b.x||a.bottom<b.y||a.x>b.right||a.y>b.bottom)};c.u.$r=function(a,b,d,c,e,f){"undefined"===typeof f&&(f=0);return!(b>a.right+f||d<a.left-f||c>a.bottom+f||e<a.top-f)};c.u.Ot=function(a,b,d){"undefined"===typeof d&&(d=new c.u);return d.Q(Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.right,b.right)-Math.min(a.left,b.left),Math.max(a.bottom,b.bottom)-Math.min(a.top,
b.top))};c.ud=function(a){e.ud.call(this,a);this.type=c.Ug};c.ud.prototype=Object.create(e.ud.prototype);c.ud.prototype.constructor=c.ud;c.re=function(a,b,d,e){this.start=new c.p(a||0,b||0);this.end=new c.p(d||0,e||0)};c.re.prototype={Q:function(a,b,d,c){this.start.Q(a,b);this.end.Q(d,c);return this},jd:function(a,b,d){return c.re.Zr(this.start,this.end,a.start,a.end,b,d)}};Object.defineProperty(c.re.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+
(this.end.y-this.start.y)*(this.end.y-this.start.y))}});Object.defineProperty(c.re.prototype,"angle",{get:function(){return Math.atan2(this.end.x-this.start.x,this.end.y-this.start.y)}});Object.defineProperty(c.re.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}});Object.defineProperty(c.re.prototype,"perpSlope",{get:function(){return-((this.end.x-this.start.x)/(this.end.y-this.start.y))}});c.re.Zr=function(a,b,d,e,g,f){"undefined"===typeof g&&(g=!0);"undefined"===
typeof f&&(f=new c.p);var h=b.y-a.y,k=e.y-d.y,m=a.x-b.x,n=d.x-e.x,p=b.x*a.y-a.x*b.y,r=e.x*d.y-d.x*e.y,q=h*n-k*m;if(0===q)return null;f.x=(m*r-n*p)/q;f.y=(k*p-h*r)/q;return g&&(Math.pow(f.x-b.x+(f.y-b.y),2)>Math.pow(a.x-b.x+(a.y-b.y),2)||Math.pow(f.x-a.x+(f.y-a.y),2)>Math.pow(a.x-b.x+(a.y-b.y),2)||Math.pow(f.x-e.x+(f.y-e.y),2)>Math.pow(d.x-e.x+(d.y-e.y),2)||Math.pow(f.x-d.x+(f.y-d.y),2)>Math.pow(d.x-e.x+(d.y-e.y),2))?null:f};c.re.jd=function(a,b,d,e){return c.re.Zr(a.start,a.end,b.start,b.end,d,e)};
c.Em=function(a){this.c=a};c.Em.prototype={};c.Em.prototype.constructor=c.Em;c.yk=function(a){this.c=a;this.wc=[];this.$g=[];this.c.Mh.add(this.Ws,this);this.c.Oh.add(this.ut,this)};c.yk.prototype={Nd:function(){for(var a=0;a<this.wc.length;a++)this.wc[a].Sh=!0;this.$g=[]},add:function(a){this.$g.push(a)},create:function(a){return new c.xk(a,this.c)},remove:function(a){a=this.wc.indexOf(a);-1!==a&&(this.wc[a].Sh=!0)},update:function(){if(0===this.wc.length&&0===this.$g.length)return!1;for(var a=0,
b=this.wc.length;a<b;)this.wc[a].update(this.c.time.now)?a++:(this.wc.splice(a,1),b--);0<this.$g.length&&(this.wc=this.wc.concat(this.$g),this.$g.length=0);return!0},Ws:function(){for(var a=this.wc.length-1;0<=a;a--)this.wc[a].pause()},ut:function(){for(var a=this.wc.length-1;0<=a;a--)this.wc[a].Lf()}};c.yk.prototype.constructor=c.yk;c.xk=function(a,b){this.ef=a;this.c=b;this.bq=this.c.Qg;this.kf={};this.Bd={};this.mg={};this.Lu=1E3;this.Qk=0;this.nq=this.Yu=!1;this.Nm=0;this.kg=null;this.Mu=c.ck.ou.ru;
this.Qu=c.ca.Zw;this.Km=[];this.bn=!1;this.eq=this.Nk=null;this.gq=0;this.Sh=!1;for(var d in a)this.kf[d]=parseFloat(a[d],10);this.Ex=new c.H;this.Ql=new c.H;this.Lh=new c.H};c.xk.prototype={start:function(){if(null!==this.c&&null!==this.ef){this.bq.add(this);this.bn=!1;this.kg=this.c.time.now+this.Nm;for(var a in this.Bd){if(this.Bd[a]instanceof Array){if(0===this.Bd[a].length)continue;this.Bd[a]=[this.ef[a]].concat(this.Bd[a])}this.kf[a]=this.ef[a];!1===this.kf[a]instanceof Array&&(this.kf[a]*=
1);this.mg[a]=this.kf[a]||0}return this}},stop:function(){this.Nk=null;this.bq.remove(this);return this},Fd:function(a){this.Nm=a;return this},repeat:function(a){this.Qk=a;return this},xv:function(){this.Km=arguments;return this},loop:function(){this.DC.xv(this);return this},Ph:function(a,b){this.Nk=a;this.eq=b;return this},pause:function(){this.Be=!0;this.gq=this.c.time.now},Lf:function(){this.Be=!1;this.kg+=this.c.time.now-this.gq},update:function(a){if(this.Sh)return!1;if(this.Be||a<this.kg)return!0;
var b;if(a<this.kg)return!0;!1===this.bn&&(this.Ex.B(this.ef),this.bn=!0);var d=(a-this.kg)/this.Lu,d=1<d?1:d,c=this.Mu(d);for(b in this.Bd){var e=this.kf[b]||0,f=this.Bd[b];f instanceof Array?this.ef[b]=this.Qu(f,c):("string"===typeof f&&(f=e+parseFloat(f,10)),"number"===typeof f&&(this.ef[b]=e+(f-e)*c))}null!==this.Nk&&this.Nk.call(this.eq,this,c);if(1==d)if(0<this.Qk){isFinite(this.Qk)&&this.Qk--;for(b in this.mg)"string"===typeof this.Bd[b]&&(this.mg[b]+=parseFloat(this.Bd[b],10)),this.Yu&&(d=
this.mg[b],this.mg[b]=this.Bd[b],this.Bd[b]=d,this.nq=!this.nq),this.kf[b]=this.mg[b];this.kg=a+this.Nm;this.Ql.B(this.ef)}else{this.Lh.B(this.ef);b=0;for(d=this.Km.length;b<d;b++)this.Km[b].start(a);return!1}return!0}};c.xk.prototype.constructor=c.xk;c.ck={ou:{ru:function(a){return a}},EB:{Ud:function(a){return a*a},td:function(a){return a*(2-a)},qe:function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)}},fA:{Ud:function(a){return a*a*a},td:function(a){return--a*a*a+1},qe:function(a){return 1>(a*=
2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)}},FB:{Ud:function(a){return a*a*a*a},td:function(a){return 1- --a*a*a*a},qe:function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)}},GB:{Ud:function(a){return a*a*a*a*a},td:function(a){return--a*a*a*a*a+1},qe:function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)}},TB:{Ud:function(a){return 1-Math.cos(a*Math.PI/2)},td:function(a){return Math.sin(a*Math.PI/2)},qe:function(a){return 0.5*(1-Math.cos(Math.PI*a))}},oA:{Ud:function(a){return 0===a?0:Math.pow(1024,
a-1)},td:function(a){return 1===a?1:1-Math.pow(2,-10*a)},qe:function(a){return 0===a?0:1===a?1:1>(a*=2)?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)}},eA:{Ud:function(a){return 1-Math.sqrt(1-a*a)},td:function(a){return Math.sqrt(1- --a*a)},qe:function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)}},nA:{Ud:function(a){var b,d=0.1;if(0===a)return 0;if(1===a)return 1;!d||1>d?(d=1,b=0.1):b=0.4*Math.asin(1/d)/(2*Math.PI);return-(d*Math.pow(2,10*(a-=1))*Math.sin(2*
(a-b)*Math.PI/0.4))},td:function(a){var b,d=0.1;if(0===a)return 0;if(1===a)return 1;!d||1>d?(d=1,b=0.1):b=0.4*Math.asin(1/d)/(2*Math.PI);return d*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/0.4)+1},qe:function(a){var b,d=0.1;if(0===a)return 0;if(1===a)return 1;!d||1>d?(d=1,b=0.1):b=0.4*Math.asin(1/d)/(2*Math.PI);return 1>(a*=2)?-0.5*d*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/0.4):d*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/0.4)*0.5+1}},Xz:{Ud:function(a){return a*a*(2.70158*a-1.70158)},
td:function(a){return--a*a*(2.70158*a+1.70158)+1},qe:function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)}},wm:{Ud:function(a){return 1-c.ck.wm.td(1-a)},td:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},qe:function(a){return 0.5>a?0.5*c.ck.wm.Ud(2*a):0.5*c.ck.wm.td(2*a-1)+0.5}}};c.vk=function(a){this.c=a;this.ao=this.Ul=this.Ui=this.now=this.time=
0;this.Fr=1E3;this.Er=0;this.Bs=1E3;this.is=this.yp=this.frames=this.je=this.As=0;this.m=new c.oc(this.c,!1);this.Bi=this.tn=this.Fi=0;this.Wm=!1;this.zd=[];this.ga=this.Vc=0;this.c.Mh.add(this.iw,this);this.c.Oh.add(this.jw,this)};c.vk.prototype={Jc:function(){this.m.start()},create:function(a){"undefined"===typeof a&&(a=!0);a=new c.oc(this.c,a);this.zd.push(a);return a},Nd:function(){for(var a=0;a<this.zd.length;a++)this.zd[a].N();this.zd=[]},update:function(a){this.now=a;if(this.Wm){this.time=
this.now;this.Wm=!1;this.m.Lf();for(var b=0;b<this.zd.length;b++)this.zd[b].Lf()}this.yp=this.c.xb.max(0,16-(a-this.is));this.Ui=this.now-this.time;this.Bs=this.c.xb.min(this.Bs,this.Ui);this.As=this.c.xb.max(this.As,this.Ui);this.frames++;this.now>this.tn+1E3&&(this.ao=Math.round(1E3*this.frames/(this.now-this.tn)),this.Fr=this.c.xb.min(this.Fr,this.ao),this.Er=this.c.xb.max(this.Er,this.ao),this.tn=this.now,this.frames=0);this.time=this.now;this.is=a+this.yp;this.je=this.Ui/1E3*1;0.05<this.je&&
(this.je=0.05);if(this.c.paused)this.Ul=this.now-this.Bi;else for(this.m.update(this.now),this.ga=0,this.Vc=this.zd.length;this.ga<this.Vc;)this.zd[this.ga].update(this.now)?this.ga++:(this.zd.splice(this.ga,1),this.Vc--)},iw:function(){this.Bi=this.now;this.m.pause();for(var a=0;a<this.zd.length;a++)this.zd[a].pause()},jw:function(){this.time=Date.now();this.Wm=!0},Uy:function(){return 0.001*(this.now-this.Fi)},reset:function(){this.Fi=this.now}};c.vk.prototype.constructor=c.vk;c.oc=function(a,b){"undefined"===
typeof b&&(b=!0);this.c=a;this.Nf=!1;this.pv=b;this.Xi=!1;this.m=[];this.Lh=new c.H;this.Gg=0;this.paused=!1;this.ga=this.Vc=this.Wd=this.Bi=this.Fi=0};c.oc.$A=6E4;c.oc.uu=1E3;c.oc.PA=500;c.oc.BB=250;c.oc.prototype={create:function(a,b,d,e,g,f){var h=a;this.Nf&&(h+=this.Wd);a=new c.Im(0,a,h,d,b,e,g,f);this.m.push(a);this.Qs();this.Xi=!1;return a},add:function(a,b,d){return this.create(a,!1,0,b,d,Array.prototype.splice.call(arguments,3))},repeat:function(a,b,d,c){return this.create(a,!1,b,d,c,Array.prototype.splice.call(arguments,
4))},loop:function(a,b,d){return this.create(a,!0,0,b,d,Array.prototype.splice.call(arguments,3))},start:function(){this.Fi=this.c.time.now;this.Nf=!0},stop:function(){this.Nf=!1;this.m.length=0},remove:function(a){for(var b=0;b<this.m.length;b++)if(this.m[b]===a)return this.m[b].Sh=!0;return!1},Qs:function(){0<this.m.length&&(this.m.sort(this.Dy),this.Gg=this.m[0].Dc)},Dy:function(a,b){return a.Dc<b.Dc?-1:a.Dc>b.Dc?1:0},update:function(a){if(this.paused)return!0;this.Wd=a-this.Fi;this.Vc=this.m.length;
for(this.ga=0;this.ga<this.Vc;)this.m[this.ga].Sh&&(this.m.splice(this.ga,1),this.Vc--),this.ga++;this.Vc=this.m.length;if(this.Nf&&this.Wd>=this.Gg&&0<this.Vc){for(this.ga=0;this.ga<this.Vc;)if(this.Wd>=this.m[this.ga].Dc)!0===this.m[this.ga].loop?(this.m[this.ga].Dc+=this.m[this.ga].Fd-(this.Wd-this.m[this.ga].Dc),this.m[this.ga].ae.apply(this.m[this.ga].L,this.m[this.ga].zn)):0<this.m[this.ga].rt?(this.m[this.ga].rt--,this.m[this.ga].Dc+=this.m[this.ga].Fd-(this.Wd-this.m[this.ga].Dc),this.m[this.ga].ae.apply(this.m[this.ga].L,
this.m[this.ga].zn)):(this.m[this.ga].ae.apply(this.m[this.ga].L,this.m[this.ga].zn),this.m.splice(this.ga,1),this.Vc--),this.ga++;else break;0<this.m.length?this.Qs():(this.Xi=!0,this.Lh.B(this))}return this.Xi&&this.pv?!1:!0},pause:function(){this.Nf&&!this.Xi&&(this.Bi=this.c.time.now,this.paused=!0)},Lf:function(){if(this.Nf&&!this.Xi){for(var a=this.c.time.now-this.Bi,b=0;b<this.m.length;b++)this.m[b].Dc+=a;this.Gg+=a;this.paused=!1}},N:function(){this.Lh.Nd();this.Nf=!1;this.m=[];this.ga=this.Vc}};
Object.defineProperty(c.oc.prototype,"next",{get:function(){return this.Gg}});Object.defineProperty(c.oc.prototype,"duration",{get:function(){return this.Nf&&this.Gg>this.Wd?this.Gg-this.Wd:0}});Object.defineProperty(c.oc.prototype,"length",{get:function(){return this.m.length}});Object.defineProperty(c.oc.prototype,"ms",{get:function(){return this.Wd}});Object.defineProperty(c.oc.prototype,"seconds",{get:function(){return 0.001*this.Wd}});c.oc.prototype.constructor=c.oc;c.Im=function(a,b,d,c,e,f,
h,k){this.Fd=b;this.Dc=d;this.rt=c-1;this.loop=e;this.ae=f;this.L=h;this.zn=k;this.Sh=!1};c.Im.prototype.constructor=c.Im;c.oe=function(a){this.d=a;this.c=a.c;this.C=null;this.$y=!0;this.Xa=null;this.ye={};this.jn=[]};c.oe.prototype={ms:function(a){this.Xa=a;this.frame=0},add:function(a,b,d,l,g){if(null==this.Xa)console.warn("No FrameData available for Phaser.Animation "+a);else return d=d||60,"undefined"===typeof l&&(l=!1),"undefined"===typeof g&&(g=b&&"number"===typeof b[0]?!0:!1),null==this.d.m.mj&&
(this.d.m.mj=new c.H,this.d.m.Io=new c.H,this.d.m.Jo=new c.H),this.jn.length=0,this.Xa.ow(b,g,this.jn),this.ye[a]=new c.Xe(this.c,this.d,a,this.Xa,this.jn,d,l),this.Lb=this.ye[a],this.C=this.Lb.C,this.d.pd(e.U[this.C.cc]),this.ye[a]},play:function(a,b,d,c){if(this.ye[a])if(this.Lb==this.ye[a]){if(!1===this.Lb.Nb)return this.Lb.paused=!1,this.Lb.play(b,d,c)}else return this.Lb=this.ye[a],this.Lb.paused=!1,this.Lb.play(b,d,c)},stop:function(a,b){"undefined"==typeof b&&(b=!1);"string"==typeof a?this.ye[a]&&
(this.Lb=this.ye[a],this.Lb.stop(b)):this.Lb&&this.Lb.stop(b)},update:function(){return this.$y&&!1===this.d.visible?!1:this.Lb&&!0===this.Lb.update()?(this.C=this.Lb.C,this.d.C=this.C,!0):!1},N:function(){this.ye={};this.Xa=null;this.gc=0;this.C=this.Lb=null}};c.oe.prototype.constructor=c.oe;Object.defineProperty(c.oe.prototype,"frameData",{get:function(){return this.Xa}});Object.defineProperty(c.oe.prototype,"frameTotal",{get:function(){return this.Xa?this.Xa.total:-1}});Object.defineProperty(c.oe.prototype,
"paused",{get:function(){return this.Lb.Gl},set:function(a){this.Lb.paused=a}});Object.defineProperty(c.oe.prototype,"frame",{get:function(){if(this.C)return this.gc},set:function(a){"number"===typeof a&&this.Xa&&null!==this.Xa.Kd(a)&&(this.C=this.Xa.Kd(a),this.gc=a,this.d.C=this.C,this.d.pd(e.U[this.C.cc]))}});Object.defineProperty(c.oe.prototype,"frameName",{get:function(){if(this.C)return this.C.name},set:function(a){"string"===typeof a&&this.Xa&&null!==this.Xa.Ah(a)?(this.C=this.Xa.Ah(a),this.gc=
this.C.index,this.d.C=this.C,this.d.pd(e.U[this.C.cc])):console.warn("Cannot set frameName: "+a)}});c.Xe=function(a,b,d,c,e,f,h){this.c=a;this.Jb=b;this.Xa=c;this.name=d;this.rb=[];this.rb=this.rb.concat(e);this.Fd=1E3/f;this.ns=h;this.Gl=this.Nb=this.hs=!1;this.eh=this.gc=0;this.Ek=1;this.C=this.Xa.Kd(this.rb[this.gc])};c.Xe.prototype={play:function(a,b,d){"number"===typeof a&&(this.Fd=1E3/a);"boolean"===typeof b&&(this.ns=b);"undefined"!==typeof d&&(this.hs=d);this.Nb=!0;this.paused=!1;this.Tk=
this.c.time.now+this.Fd;this.gc=0;this.C=this.Xa.Kd(this.rb[this.gc]);this.Jb.pd(e.U[this.C.cc]);this.Jb.m&&this.Jb.m.mj.B(this.Jb,this);return this},stop:function(a){"undefined"===typeof a&&(a=!1);this.paused=this.Nb=!1;a&&(this.C=this.Xa.Kd(this.rb[0]))},update:function(){return this.Gl?!1:!0===this.Nb&&this.c.time.now>=this.Tk?(this.Ek=1,this.eh=this.c.time.now-this.Tk,this.eh>this.Fd&&(this.Ek=Math.floor(this.eh/this.Fd),this.eh-=this.Ek*this.Fd),this.Tk=this.c.time.now+(this.Fd-this.eh),this.gc+=
this.Ek,this.gc>=this.rb.length?this.ns?(this.gc%=this.rb.length,(this.C=this.Xa.Kd(this.rb[this.gc]))&&this.Jb.pd(e.U[this.C.cc]),this.Jb.m.Jo.B(this.Jb,this)):this.Lh():(this.C=this.Xa.Kd(this.rb[this.gc]))&&this.Jb.pd(e.U[this.C.cc]),!0):!1},N:function(){this.C=this.Xa=this.rb=this.Jb=this.c=null;this.Nb=!1},Lh:function(){this.paused=this.Nb=!1;this.Jb.m&&this.Jb.m.Io.B(this.Jb,this);this.hs&&this.Jb.kc()}};c.Xe.prototype.constructor=c.Xe;Object.defineProperty(c.Xe.prototype,"paused",{get:function(){return this.Gl},
set:function(a){this.Gl=a;!a&&this.Nb&&(this.Tk=this.c.time.now+this.Fd)}});Object.defineProperty(c.Xe.prototype,"frameTotal",{get:function(){return this.rb.length}});Object.defineProperty(c.Xe.prototype,"frame",{get:function(){return null!==this.C?this.C.index:this.gc},set:function(a){this.C=this.Xa.Kd(a);null!==this.C&&(this.gc=a,this.Jb.pd(e.U[this.C.cc]))}});c.Xe.kD=function(a,b,d,e,g){"undefined"==typeof e&&(e="");var f=[],h="";if(b<d)for(;b<=d;b++)h="number"==typeof g?c.uc.Ss(b.toString(),g,
"0",1):b.toString(),h=a+h+e,f.push(h);else for(;b>=d;b--)h="number"==typeof g?c.uc.Ss(b.toString(),g,"0",1):b.toString(),h=a+h+e,f.push(h);return f};c.Sc=function(a,b,d,e,g,f,h){this.index=a;this.x=b;this.y=d;this.width=e;this.height=g;this.name=f;this.cc=h;this.aa=c.ca.aa(0,0,e,g);this.ne=!1;this.km=e;this.jm=g};c.Sc.prototype={np:function(a,b,d){if(this.ne=a)this.width=b,this.height=d,this.km=b,this.jm=d}};c.Sc.prototype.constructor=c.Sc;c.Ye=function(){this.rb=[];this.Qm=[]};c.Ye.prototype={Uk:function(a){a.index=
this.rb.length;this.rb.push(a);""!==a.name&&(this.Qm[a.name]=a.index);return a},Kd:function(a){return this.rb.length>a?this.rb[a]:null},Ah:function(a){return"number"===typeof this.Qm[a]?this.rb[this.Qm[a]]:null},ow:function(a,b,d){"undefined"===typeof b&&(b=!0);"undefined"===typeof d&&(d=[]);if("undefined"===typeof a||0===a.length)for(var c=0,e=this.rb.length;c<e;c++)d.push(this.rb[c].index);else for(c=0,e=a.length;c<e;c++)b?d.push(a[c]):this.Ah(a[c])&&d.push(this.Ah(a[c]).index);return d}};c.Ye.prototype.constructor=
c.Ye;Object.defineProperty(c.Ye.prototype,"total",{get:function(){return this.rb.length}});c.Wj={Te:function(a,b,d,l,g,f,h){var k=a.K.pw(b);if(null==k)return null;var m=k.width,n=k.height;0>=d&&(d=Math.floor(-m/Math.min(-1,d)));0>=l&&(l=Math.floor(-n/Math.min(-1,l)));k=Math.round(m/d)*Math.round(n/l);-1!==g&&(k=g);if(0===m||0===n||m<d||n<l||0===k)return console.warn("Phaser.AnimationParser.spriteSheet: width/height zero or width/height < given frameWidth/frameHeight"),null;g=new c.Ye;for(var p=n=
f,r=0;r<k;r++){var q=a.Na.cc();g.Uk(new c.Sc(r,n,p,d,l,"",q));e.U[q]=new e.R(e.pb[b],{x:n,y:p,width:d,height:l});n+=d+h;n===m&&(n=f,p+=l+h)}return g},mu:function(a,b,d){if(b.frames){var l=new c.Ye;b=b.frames;for(var g,f=0;f<b.length;f++){var h=a.Na.cc();g=l.Uk(new c.Sc(f,b[f].frame.x,b[f].frame.y,b[f].frame.We,b[f].frame.tf,b[f].filename,h));e.U[h]=new e.R(e.pb[d],{x:b[f].frame.x,y:b[f].frame.y,width:b[f].frame.We,height:b[f].frame.tf});b[f].ne&&(g.np(b[f].ne,b[f].op.We,b[f].op.tf,b[f].Od.x,b[f].Od.y,
b[f].Od.We,b[f].Od.tf),e.U[h].ne=!0,e.U[h].trim.x=b[f].Od.x,e.U[h].trim.y=b[f].Od.y)}return l}console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array");console.log(b)},nu:function(a,b,d){if(b.frames){var l=new c.Ye;b=b.frames;var g,f=0,h;for(h in b){var k=a.Na.cc();g=l.Uk(new c.Sc(f,b[h].frame.x,b[h].frame.y,b[h].frame.We,b[h].frame.tf,h,k));e.U[k]=new e.R(e.pb[d],{x:b[h].frame.x,y:b[h].frame.y,width:b[h].frame.We,height:b[h].frame.tf});b[h].ne&&(g.np(b[h].ne,
b[h].op.We,b[h].op.tf,b[h].Od.x,b[h].Od.y,b[h].Od.We,b[h].Od.tf),e.U[k].ne=!0,e.U[k].trim.x=b[h].Od.x,e.U[k].trim.y=b[h].Od.y);f++}return l}console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object");console.log(b)},zu:function(a,b,d){if(b.getElementsByTagName("TextureAtlas")){var l=new c.Ye;b=b.getElementsByTagName("SubTexture");for(var g,f,h,k,m,n,p,r,q,s,w,t=0;t<b.length;t++)if(f=a.Na.cc(),h=b[t].attributes,g=h.name.nodeValue,k=parseInt(h.x.nodeValue,
10),m=parseInt(h.y.nodeValue,10),n=parseInt(h.width.nodeValue,10),p=parseInt(h.height.nodeValue,10),q=r=null,h.ew&&(r=Math.abs(parseInt(h.ew.nodeValue,10)),q=Math.abs(parseInt(h.dD.nodeValue,10)),s=parseInt(h.rl.nodeValue,10),w=parseInt(h.ql.nodeValue,10)),g=l.Uk(new c.Sc(t,k,m,n,p,g,f)),e.U[f]=new e.R(e.pb[d],{x:k,y:m,width:n,height:p}),null!==r||null!==q)g.np(!0,n,p,r,q,s,w),e.U[f].$D={x:r,y:q,We:s,tf:w},e.U[f].ne=!0,e.U[f].trim.x=r,e.U[f].trim.y=q;return l}console.warn("Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag")}};
c.Zj=function(a){this.c=a;this.Up={};this.ua={};this.tq={};this.T={};this.lg={};this.sn={};this.Du={};this.cv();this.gv();this.Ns=new c.H};c.Zj.prototype={av:function(a,b){this.Du[a]=b},hv:function(a,b,d,l,g,f,h,k){this.ua[a]={url:b,data:d,Te:!0,rl:l,ql:g,margin:h,lm:k};e.pb[a]=new e.Fa(d);e.U[a]=new e.R(e.pb[a]);this.ua[a].Ag=c.Wj.Te(this.c,a,l,g,f,h,k)},Dq:function(a,b,c,e){this.sn[a]={url:b,data:c,format:e}},wn:function(a,b,d,l,g){this.ua[a]={url:b,data:d,Te:!0};e.pb[a]=new e.Fa(d);e.U[a]=new e.R(e.pb[a]);
g==c.Hc.Np?this.ua[a].Ag=c.Wj.mu(this.c,l,a):g==c.Hc.Op?this.ua[a].Ag=c.Wj.nu(this.c,l,a):g==c.Hc.Pp&&(this.ua[a].Ag=c.Wj.zu(this.c,l,a))},yq:function(a,b,d,l){this.ua[a]={url:b,data:d,Te:!0};e.pb[a]=new e.Fa(d);e.U[a]=new e.R(e.pb[a]);c.pu.Lq(this.c,l,a)},cv:function(){var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==";this.ua.__default={url:null,data:a,Te:!1};
this.ua.__default.frame=new c.Sc(0,0,0,32,32,"","");e.pb.__default=new e.Fa(a);e.U.__default=new e.R(e.pb.__default)},gv:function(){var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==";
this.ua.__missing={url:null,data:a,Te:!1};this.ua.__missing.frame=new c.Sc(0,0,0,32,32,"","");e.pb.__missing=new e.Fa(a);e.U.__missing=new e.R(e.pb.__missing)},Cq:function(a,b,c){this.lg[a]={url:b,data:c}},ev:function(a,b,d){this.ua[a]={url:b,data:d,Te:!1};this.ua[a].frame=new c.Sc(0,0,0,d.width,d.height,a,this.c.Na.cc());e.pb[a]=new e.Fa(d);e.U[a]=new e.R(e.pb[a])},Bq:function(a,b,c,e,g){g=g||!1;var f=!1;g&&(f=!0);this.T[a]={url:b,data:c,xo:!1,Rn:f,Qj:e||!0,JC:g,Co:this.c.Ka.Ve}},gy:function(a){var b=
this;this.T[a]&&(this.T[a].data.src=this.T[a].url,this.T[a].data.addEventListener("canplaythrough",function(){return b.hy(a)},!1),this.T[a].data.load())},hy:function(a){this.T[a]&&(this.T[a].Co=!1,this.Ns.B(a))},Ut:function(a,b,c){this.T[a]&&(this.T[a][b]=c)},sr:function(a,b){this.T[a].data=b;this.T[a].Rn=!0;this.T[a].xo=!1},Sq:function(a){return this.ua[a]?!0:!1},pw:function(a){if(this.ua[a])return this.ua[a].data;console.warn('Phaser.Cache.getImage: Invalid key: "'+a+'"')},xw:function(a){if(this.sn[a])return this.sn[a];
console.warn('Phaser.Cache.getTilemapData: Invalid key: "'+a+'"')},Nr:function(a){return this.ua[a]&&this.ua[a].Ag?this.ua[a].Ag:null},Ah:function(a,b){return this.ua[a]&&this.ua[a].Ag?this.ua[a].Ag.Ah(b):null},Kd:function(a){return this.ua[a]&&!1===this.ua[a].Te?this.ua[a].frame:null},Pr:function(a){return this.tq[a]?this.tq[a].frame:null},Cg:function(a){if(this.T[a])return this.T[a];console.warn('Phaser.Cache.getSound: Invalid key: "'+a+'"')},vl:function(a){if(this.T[a])return this.T[a].data;console.warn('Phaser.Cache.getSoundData: Invalid key: "'+
a+'"')},Hl:function(a){if(this.T[a])return this.T[a].Rn},cs:function(a){return this.T[a]&&this.T[a].Rn&&!1===this.c.Ka.Ve},ds:function(a){return this.ua[a]?this.ua[a].Te:!1},N:function(){for(var a in this.Up)delete this.Up[a.key];for(a in this.ua)delete this.ua[a.key];for(a in this.T)delete this.T[a.key];for(a in this.lg)delete this.lg[a.key]}};c.Zj.prototype.constructor=c.Zj;c.Hc=function(a){this.c=a;this.oa=[];this.mq=this.hb=0;this.$=new XMLHttpRequest;this.gd=this.Dl=!1;this.zj=this.Kf=0;this.nd=
null;this.Ee=this.crossOrigin="";this.nx=new c.H;this.ox=new c.H;this.ux=new c.H;this.Mo=new c.H};c.Hc.Np=0;c.Hc.Op=1;c.Hc.Pp=2;c.Hc.prototype={uy:function(a,b){b=b||0;this.nd={d:a,direction:b,width:a.width,height:a.height,sb:null};this.nd.sb=0===b?new c.u(0,0,1,a.height):new c.u(0,0,a.width,1);a.sb=this.nd.sb;a.Nn=!0},Tq:function(a,b){if(0<this.oa.length)for(var c=0;c<this.oa.length;c++)if(this.oa[c].type===a&&this.oa[c].key===b)return!0;return!1},reset:function(){this.nd=null;this.Dl=!1;this.hb=
this.oa.length=0},Ii:function(a,b,c,e){c={type:a,key:b,url:c,data:null,error:!1,loaded:!1};if("undefined"!==typeof e)for(var g in e)c[g]=e[g];!1===this.Tq(a,b)&&this.oa.push(c)},st:function(a,b,c,e){c={type:a,key:b,url:c,data:null,error:!1,loaded:!1};if("undefined"!==typeof e)for(var g in e)c[g]=e[g];!1===this.Tq(a,b)&&this.oa.push(c)},ta:function(a,b,c){"undefined"===typeof c&&(c=!1);c?this.st("image",a,b):this.Ii("image",a,b);return this},text:function(a,b,c){"undefined"===typeof c&&(c=!1);c?this.st("text",
a,b):this.Ii("text",a,b);return this},pg:function(a,b,c){"undefined"===typeof c&&(c=!0);this.Ii("audio",a,b,{buffer:null,ov:c});return this},Lq:function(a,b,c,e){"undefined"===typeof c&&(c=null);"undefined"===typeof e&&(e=null);if(c)this.Ii("bitmapfont",a,b,{Dp:c});else if("string"===typeof e){var g;try{window.DOMParser?g=(new DOMParser).parseFromString(e,"text/xml"):(g=new ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(e))}catch(f){g=void 0}if(g&&g.documentElement&&!g.getElementsByTagName("parsererror").length)this.Ii("bitmapfont",
a,b,{Dp:null,oz:g});else throw Error("Phaser.Loader. Invalid Bitmap Font XML given");}return this},Nd:function(){this.oa.length=0},start:function(){this.Dl||(this.zj=this.Kf=0,this.gd=!1,this.Dl=!0,this.ux.B(this.oa.length),0<this.oa.length?(this.hb=0,this.mq=100/this.oa.length,this.ls()):(this.zj=this.Kf=100,this.gd=!0,this.Mo.B()))},ls:function(){if(this.oa[this.hb]){var a=this.oa[this.hb],b=this;switch(a.type){case "image":case "spritesheet":case "textureatlas":case "bitmapfont":a.data=new Image;
a.data.name=a.key;a.data.onload=function(){return b.zg(b.hb)};a.data.onerror=function(){return b.yh(b.hb)};a.data.crossOrigin=this.crossOrigin;a.data.src=this.Ee+a.url;break;case "audio":a.url=this.kw(a.url);null!==a.url?this.c.Ka.nb?(this.$.open("GET",this.Ee+a.url,!0),this.$.responseType="arraybuffer",this.$.onload=function(){return b.zg(b.hb)},this.$.onerror=function(){return b.yh(b.hb)},this.$.send()):this.c.Ka.Oc&&(this.c.Ka.Ve?(a.data=new Audio,a.data.name=a.key,a.data.Zl="auto",a.data.src=
this.Ee+a.url,this.zg(this.hb)):(a.data=new Audio,a.data.name=a.key,a.data.onerror=function(){return b.yh(b.hb)},a.data.Zl="auto",a.data.src=this.Ee+a.url,a.data.addEventListener("canplaythrough",c.Am[this.c.id].load.zg(this.hb),!1),a.data.load())):this.yh(this.hb);break;case "tilemap":case "json":this.$.open("GET",this.Ee+a.url,!0);this.$.responseType="text";if(a.format&&a.format!==c.Vd.Qp)if(a.format===c.Vd.xm)this.$.onload=function(){return b.Hv(b.hb)};else throw Error("Phaser.Loader. Invalid Tilemap format: "+
a.format);else this.$.onload=function(){return b.fs(b.hb)};this.$.onerror=function(){return b.Qn(b.hb)};this.$.send();break;case "text":case "script":this.$.open("GET",this.Ee+a.url,!0);this.$.responseType="text";this.$.onload=function(){return b.zg(b.hb)};this.$.onerror=function(){return b.yh(b.hb)};this.$.send();break;case "binary":this.$.open("GET",this.Ee+a.url,!0),this.$.responseType="arraybuffer",this.$.onload=function(){return b.zg(b.hb)},this.$.onerror=function(){return b.yh(b.hb)},this.$.send()}}else console.warn("Phaser.Loader loadFile invalid index "+
this.hb)},kw:function(a){var b;"string"===typeof a&&(a=[a]);for(var c=0;c<a.length;c++)if(b=a[c].toLowerCase(),b=b.substr((Math.max(0,b.lastIndexOf("."))||Infinity)+1),this.c.Ha.wv(b))return a[c];return null},yh:function(a){this.oa[a].loaded=!0;this.oa[a].error=!0;this.ox.B(this.oa[a].key,this.oa[a]);console.warn("Phaser.Loader error loading file: "+this.oa[a].key+" from URL "+this.oa[a].url);this.Jh(a,!1)},zg:function(a){if(this.oa[a]){var b=this.oa[a],d=b.loaded=!0,e=this;switch(b.type){case "image":this.c.K.ev(b.key,
b.url,b.data);break;case "spritesheet":this.c.K.hv(b.key,b.url,b.data,b.rl,b.ql,b.cD,b.margin,b.lm);break;case "textureatlas":if(null==b.mv)this.c.K.wn(b.key,b.url,b.data,b.IC,b.format);else{d=!1;this.$.open("GET",this.Ee+b.mv,!0);this.$.responseType="text";if(b.format==c.Hc.Np||b.format==c.Hc.Op)this.$.onload=function(){return e.fs(a)};else if(b.format==c.Hc.Pp)this.$.onload=function(){return e.$t(a)};else throw Error("Phaser.Loader. Invalid Texture Atlas format: "+b.format);this.$.onerror=function(){return e.Qn(a)};
this.$.send()}break;case "bitmapfont":null==b.Dp?this.c.K.yq(b.key,b.url,b.data,b.oz):(d=!1,this.$.open("GET",this.Ee+b.Dp,!0),this.$.responseType="text",this.$.onload=function(){return e.$t(a)},this.$.onerror=function(){return e.Qn(a)},this.$.send());break;case "audio":if(this.c.Ka.nb){if(b.data=this.$.response,this.c.K.Bq(b.key,b.url,b.data,!0,!1),b.ov){this.c.K.Ut(f,"isDecoding",!0);var g=this,f=b.key;this.c.Ka.f.Qv(b.data,function(a){a&&(g.c.K.sr(f,a),g.c.Ka.Ms.B(f,g.c.K.Cg(f)))})}}else b.data.removeEventListener("canplaythrough",
c.Am[this.c.id].load.zg),this.c.K.Bq(b.key,b.url,b.data,!1,!0);break;case "text":b.data=this.$.responseText;this.c.K.Cq(b.key,b.url,b.data);break;case "script":b.data=document.createElement("script");b.data.language="javascript";b.data.type="text/javascript";b.data.defer=!1;b.data.text=this.$.responseText;document.head.appendChild(b.data);break;case "binary":b.data=b.ae?b.ae.call(b.L,b.key,this.$.response):this.$.response,this.c.K.av(b.key,b.data)}d&&this.Jh(a,!0)}else console.warn("Phaser.Loader fileComplete invalid index "+
a)},fs:function(a){if(this.oa[a]){var b=this.oa[a],c=JSON.parse(this.$.responseText);b.loaded=!0;"tilemap"===b.type?this.c.K.Dq(b.key,b.url,c,b.format):"json"===b.type?this.c.K.Cq(b.key,b.url,c):this.c.K.wn(b.key,b.url,b.data,c,b.format);this.Jh(a,!0)}else console.warn("Phaser.Loader jsonLoadComplete invalid index "+a)},Hv:function(a){if(this.oa[a]){var b=this.oa[a],c=this.$.responseText;b.loaded=!0;this.c.K.Dq(b.key,b.url,c,b.format);this.Jh(a,!0)}else console.warn("Phaser.Loader csvLoadComplete invalid index "+
a)},Qn:function(a){var b=this.oa[a];b.loaded=!0;b.error=!0;console.warn("Phaser.Loader dataLoadError: "+b.key);this.Jh(a,!0)},$t:function(a){var b=this.$.responseText,c;try{window.DOMParser?c=(new DOMParser).parseFromString(b,"text/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("Phaser.Loader. Invalid XML given");b=this.oa[a];b.loaded=!0;"bitmapfont"==b.type?this.c.K.yq(b.key,
b.url,b.data,c):"textureatlas"==b.type&&this.c.K.wn(b.key,b.url,b.data,c,b.format);this.Jh(a,!0)},Jh:function(a,b){this.zj+=this.mq;this.Kf=Math.round(this.zj);100<this.Kf&&(this.Kf=100);null!==this.nd&&(0===this.nd.direction?this.nd.sb.width=Math.floor(this.nd.width/100*this.Kf):this.nd.sb.height=Math.floor(this.nd.height/100*this.Kf),this.nd.d.sb=this.nd.sb);this.nx.B(this.Kf,this.oa[a].key,b,this.Vy(),this.oa.length);0<this.It()?(this.hb++,this.ls()):(this.gd=!0,this.Dl=!1,this.Nd(),this.Mo.B())},
Vy:function(){for(var a=0,b=0;b<this.oa.length;b++)this.oa[b].loaded&&a++;return a},It:function(){for(var a=0,b=0;b<this.oa.length;b++)!1===this.oa[b].loaded&&a++;return a}};c.Hc.prototype.constructor=c.Hc;c.pu={Lq:function(a,b,c){if(b.getElementsByTagName("font")){c=e.U[c];a={};var l=b.getElementsByTagName("info")[0],g=b.getElementsByTagName("common")[0];a.font=l.attributes.getNamedItem("face").nodeValue;a.size=parseInt(l.attributes.getNamedItem("size").nodeValue,10);a.lineHeight=parseInt(g.attributes.getNamedItem("lineHeight").nodeValue,
10);a.Dn={};g=b.getElementsByTagName("char");for(l=0;l<g.length;l++){var f=parseInt(g[l].attributes.getNamedItem("id").nodeValue,10),h={x:parseInt(g[l].attributes.getNamedItem("x").nodeValue,10),y:parseInt(g[l].attributes.getNamedItem("y").nodeValue,10),width:parseInt(g[l].attributes.getNamedItem("width").nodeValue,10),height:parseInt(g[l].attributes.getNamedItem("height").nodeValue,10)};e.U[f]=new e.R(c,h);a.Dn[f]={nz:parseInt(g[l].attributes.getNamedItem("xoffset").nodeValue,10),pz:parseInt(g[l].attributes.getNamedItem("yoffset").nodeValue,
10),mz:parseInt(g[l].attributes.getNamedItem("xadvance").nodeValue,10),gs:{},g:new e.R(c,h)}}b=b.getElementsByTagName("kerning");for(l=0;l<b.length;l++)a.Dn[parseInt(b[l].attributes.getNamedItem("second").nodeValue,10)].gs[parseInt(b[l].attributes.getNamedItem("first").nodeValue,10)]=parseInt(b[l].attributes.getNamedItem("amount").nodeValue,10);e.Va.Zn[a.font]=a}else console.warn("Phaser.LoaderParser.bitmapFont: Invalid XML given, missing <font> tag")}};c.bf=function(a,b,d,e,g){"undefined"==typeof d&&
(d=1);"undefined"==typeof e&&(e=!1);"undefined"===typeof g&&(g=a.Ka.gr);this.c=a;this.key=this.name=b;this.loop=e;this.lf=d;this.Fh={};this.Bk=this.f=null;this.autoplay=this.yd=!1;this.duration=this.currentTime=this.startTime=this.Ue=0;this.paused=!1;this.Ul=this.Xs=0;this.Nb=!1;this.vh="";this.Rs=this.yj=!1;this.nb=this.c.Ka.nb;this.Oc=this.c.Ka.Oc;this.kl=null;this.nb?(this.f=this.c.Ka.f,this.cx=this.c.Ka.Af,this.qf="undefined"===typeof this.f.Mn?this.f.Gv():this.f.Mn(),this.qf.ee.value=d*this.c.Ka.volume,
g&&this.qf.He(this.cx)):this.c.K.Cg(b)&&this.c.K.cs(b)?(this.O=this.c.K.vl(b),this.Ue=0,this.O.duration&&(this.Ue=this.O.duration)):this.c.K.Ns.add(this.Ey,this);this.Ks=new c.H;this.Mh=new c.H;this.Oh=new c.H;this.Ql=new c.H;this.Fx=new c.H;this.yx=new c.H};c.bf.prototype={Ey:function(a){a==this.key&&(this.O=this.c.K.vl(this.key),this.Ue=this.O.duration)},update:function(){this.yj&&this.c.K.cs(this.key)&&(this.yj=!1,this.play(this.qq,this.rq,this.sq,this.pq));this.Nb&&(this.currentTime=this.c.time.now-
this.startTime,this.currentTime>=this.Ti&&(this.nb?this.loop?(this.Ql.B(this),""===this.vh?(this.currentTime=0,this.startTime=this.c.time.now):this.play(this.vh,0,this.volume,!0,!0)):this.stop():this.loop?(this.Ql.B(this),this.play(this.vh,0,this.volume,!0,!0)):this.stop()))},play:function(a,b,c,e,g){a=a||"";b=b||0;"undefined"===typeof c&&(c=this.lf);"undefined"===typeof e&&(e=!1);"undefined"===typeof g&&(g=!0);if(!0!==this.Nb||!1!==g||!1!==this.Rs){this.Nb&&this.Rs&&(this.nb?"undefined"===typeof this.O.stop?
this.O.kx(0):this.O.stop(0):this.Oc&&(this.O.pause(),this.O.currentTime=0));this.vh=a;if(""!==a)if(this.Fh[a])this.position=this.Fh[a].start,this.volume=this.Fh[a].volume,this.loop=this.Fh[a].loop,this.duration=this.Fh[a].duration,this.Ti=this.Fh[a].Ti,this.qq=a,this.rq=this.position,this.sq=this.volume,this.pq=this.loop;else{console.warn("Phaser.Sound.play: audio marker "+a+" doesn't exist");return}else this.position=b,this.volume=c,this.loop=e,this.Ti=this.duration=0,this.qq=a,this.rq=b,this.sq=
c,this.pq=e;this.nb?this.c.K.Hl(this.key)?(null==this.Bk&&(this.Bk=this.c.K.vl(this.key)),this.O=this.f.ir(),this.O.buffer=this.Bk,this.kl?this.O.He(this.kl.input):this.O.He(this.qf),this.Ue=this.O.buffer.duration,0===this.duration&&(this.duration=this.Ue,this.Ti=1E3*this.Ue),this.loop&&""===a&&(this.O.loop=!0),"undefined"===typeof this.O.start?this.O.jx(0,this.position,this.duration):this.O.start(0,this.position,this.duration),this.Nb=!0,this.startTime=this.c.time.now,this.currentTime=0,this.Ks.B(this)):
(this.yj=!0,this.c.K.Cg(this.key)&&!1===this.c.K.Cg(this.key).xo&&this.c.Ka.Pv(this.key,this)):this.c.K.Cg(this.key)&&this.c.K.Cg(this.key).Co?(this.c.K.gy(this.key),this.yj=!0):this.O&&(this.c.Ha.Yq||4===this.O.readyState)?(this.O.play(),this.Ue=this.O.duration,0===this.duration&&(this.duration=this.Ue,this.Ti=1E3*this.Ue),this.O.currentTime=this.position,this.O.muted=this.yd,this.O.volume=this.yd?0:this.lf,this.Nb=!0,this.startTime=this.c.time.now,this.currentTime=0,this.Ks.B(this)):this.yj=!0}},
pause:function(){this.Nb&&this.O&&(this.stop(),this.Nb=!1,this.paused=!0,this.Xs=this.currentTime,this.Ul=this.c.time.now,this.Mh.B(this))},Lf:function(){if(this.paused&&this.O){if(this.nb){var a=this.position+this.Xs/1E3;this.O=this.f.ir();this.O.buffer=this.Bk;this.kl?this.O.He(this.kl.input):this.O.He(this.qf);this.loop&&(this.O.loop=!0);"undefined"===typeof this.O.start?this.O.jx(0,a,this.duration):this.O.start(0,a,this.duration)}else this.O.play();this.Nb=!0;this.paused=!1;this.startTime+=this.c.time.now-
this.Ul;this.Oh.B(this)}},stop:function(){this.Nb&&this.O&&(this.nb?"undefined"===typeof this.O.stop?this.O.kx(0):this.O.stop(0):this.Oc&&(this.O.pause(),this.O.currentTime=0));this.Nb=!1;var a=this.vh;this.vh="";this.Fx.B(this,a)}};c.bf.prototype.constructor=c.bf;Object.defineProperty(c.bf.prototype,"isDecoding",{get:function(){return this.c.K.Cg(this.key).xo}});Object.defineProperty(c.bf.prototype,"isDecoded",{get:function(){return this.c.K.Hl(this.key)}});Object.defineProperty(c.bf.prototype,"mute",
{get:function(){return this.yd},set:function(a){a?(this.yd=!0,this.nb?(this.ui=this.qf.ee.value,this.qf.ee.value=0):this.Oc&&this.O&&(this.ui=this.O.volume,this.O.volume=0)):(this.yd=!1,this.nb?this.qf.ee.value=this.ui:this.Oc&&this.O&&(this.O.volume=this.ui));this.yx.B(this)}});Object.defineProperty(c.bf.prototype,"volume",{get:function(){return this.lf},set:function(a){this.nb?(this.lf=a,this.qf.ee.value=a):this.Oc&&this.O&&0<=a&&1>=a&&(this.lf=a,this.O.volume=a)}});c.Yg=function(a){this.c=a;this.Ms=
new c.H;this.yd=!1;this.Ad=null;this.lf=1;this.T=[];this.f=null;this.nb=!0;this.Oc=!1;this.gr=!0;this.Ve=!1};c.Yg.prototype={Jc:function(){this.c.Ha.Tr||window.PhaserGlobal&&window.PhaserGlobal.aD?(this.c.input.Nc.L=this,this.c.input.Nc.Oj=this.Pt,this.c.input.he.L=this,this.c.input.he.Kl=this.Pt,this.Ve=!0):this.Ve=!1;if(window.PhaserGlobal){if(!0===window.PhaserGlobal.XC){this.nb=!1;return}if(!0===window.PhaserGlobal.Vv){this.nb=!1;this.Oc=!0;return}}window.AudioContext?this.f=new window.AudioContext:
window.webkitAudioContext?this.f=new window.webkitAudioContext:window.Audio?(this.nb=!1,this.Oc=!0):this.nb=!1;null!==this.f&&(this.Af="undefined"===typeof this.f.Mn?this.f.Gv():this.f.Mn(),this.Af.ee.value=1,this.Af.He(this.f.Sv))},Pt:function(){if(!1!==this.Ve)if(!1===this.c.Ha.Qj||window.PhaserGlobal&&!0===window.PhaserGlobal.Vv)this.Ve=!1,this.Ad=null,this.c.input.Nc.L=null,this.c.input.Nc.Oj=null,this.c.input.he.L=null,this.c.input.he.Kl=null;else{var a=this.f.createBuffer(1,1,22050);this.Ad=
this.f.ir();this.Ad.buffer=a;this.Ad.He(this.f.Sv);this.Ad.TD(0)}},Ws:function(){for(var a=0;a<this.T.length;a++)this.T[a]&&this.T[a].pause()},ut:function(){for(var a=0;a<this.T.length;a++)this.T[a]&&this.T[a].Lf()},Pv:function(a,b){b=b||null;var c=this.c.K.vl(a);if(c&&!1===this.c.K.Hl(a)){this.c.K.Ut(a,"isDecoding",!0);var e=this;this.f.Qv(c,function(c){e.c.K.sr(a,c);b&&e.Ms.B(a,b)})}},update:function(){this.Ve&&this.c.Ha.Qj&&null!==this.Ad&&(this.Ad.Ux===this.Ad.zB||this.Ad.Ux===this.Ad.FA)&&(this.Ve=
!1,this.Ad=null,this.c.input.Nc.L=null,this.c.input.Nc.Oj=null);for(var a=0;a<this.T.length;a++)this.T[a].update()},add:function(a,b,d,e){"undefined"===typeof b&&(b=1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=this.gr);a=new c.bf(this.c,a,b,d,e);this.T.push(a);return a},play:function(a,b,c){a=this.add(a,b,c);a.play();return a}};c.Yg.prototype.constructor=c.Yg;Object.defineProperty(c.Yg.prototype,"mute",{get:function(){return this.yd},set:function(a){if(a){if(!this.yd)for(this.yd=!0,
this.nb&&(this.ui=this.Af.ee.value,this.Af.ee.value=0),a=0;a<this.T.length;a++)this.T[a].Oc&&(this.T[a].ix=!0)}else if(!1!==this.yd)for(this.yd=!1,this.nb&&(this.Af.ee.value=this.ui),a=0;a<this.T.length;a++)this.T[a].Oc&&(this.T[a].ix=!1)}});Object.defineProperty(c.Yg.prototype,"volume",{get:function(){return this.nb?this.Af.ee.value:this.lf},set:function(a){this.lf=a=this.c.xb.al(a,1,0);this.nb&&(this.Af.ee.value=a);for(var b=0;b<this.T.length;b++)this.T[b].Oc&&(this.T[b].volume*=a)}});c.uc.$j=function(a){this.c=
a;this.f=a.f;this.font="14px Courier";this.lineHeight=16;this.ly=!0;this.xh=this.fl=0;this.nr=1};c.uc.$j.prototype={start:function(a,b,c){null!=this.f&&("number"!==typeof a&&(a=0),"number"!==typeof b&&(b=0),c=c||"rgb(255,255,255)",this.fl=a,this.xh=b,this.Iv=c,this.nr=this.f.globalAlpha,this.f.save(),this.f.setTransform(1,0,0,1,0,0),this.f.strokeStyle=c,this.f.fillStyle=c,this.f.font=this.font,this.f.globalAlpha=1)},stop:function(){this.f.restore();this.f.globalAlpha=this.nr},js:function(a,b,c){null!=
this.f&&("undefined"!==typeof b&&(this.fl=b),"undefined"!==typeof c&&(this.xh=c),this.ly&&(this.f.fillStyle="rgb(0,0,0)",this.f.fillText(a,this.fl+1,this.xh+1),this.f.fillStyle=this.Iv),this.f.fillText(a,this.fl,this.xh),this.xh+=this.lineHeight)}};c.uc.$j.prototype.constructor=c.uc.$j;c.fb={Mr:function(a,b,c,e){return a<<24|b<<16|c<<8|e},co:function(a,b,c){return a<<16|b<<8|c},Hw:function(a){a="#"==a.charAt(0)?a.substring(1,7):a;3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+
a.charAt(2));return parseInt(a.substring(0,2),16)<<16|parseInt(a.substring(2,4),16)<<8|parseInt(a.substring(4,6),16)},pD:function(a){var b=c.fb.Bh(a),d=c.fb.JB(a);a=c.fb.tu(a)+"\n";a=a.concat("Alpha: "+b.alpha+" Red: "+b.red+" Green: "+b.green+" Blue: "+b.blue)+"\n";return a=a.concat("Hue: "+d.vD+" Saturation: "+d.dE+" Lightnes: "+d.ID)},tu:function(a){a=c.fb.Bh(a);return"0x"+c.fb.ug(a.alpha)+c.fb.ug(a.red)+c.fb.ug(a.green)+c.fb.ug(a.blue)},KB:function(a){a=c.fb.Bh(a);return"#"+c.fb.ug(a.red)+c.fb.ug(a.green)+
c.fb.ug(a.blue)},ug:function(a){var b=a%16;return"0123456789ABCDEF".charAt((a-b)/16)+"0123456789ABCDEF".charAt(b)},CD:function(a,b,d,e,g){"undefined"===typeof g&&(g=255);a=c.fb.Bh(a);b=c.fb.Bh(b);return c.fb.Mr(g,(b.red-a.red)*e/d+a.red,(b.green-a.green)*e/d+a.green,(b.blue-a.blue)*e/d+a.blue)},DD:function(a,b,d,e,g,f){a=c.fb.Bh(a);return c.fb.co((b-a.red)*f/g+a.red,(d-a.green)*f/g+a.green,(e-a.blue)*f/g+a.blue)},ED:function(a,b,d,e,g,f,h,k){return c.fb.co((e-a)*k/h+a,(g-b)*k/h+b,(f-d)*k/h+d)},rD:function(a,
b,d){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=255);"undefined"===typeof d&&(d=255);if(255<b||a>b)return c.fb.co(255,255,255);var e=a+Math.round(Math.random()*(b-a)),g=a+Math.round(Math.random()*(b-a));a+=Math.round(Math.random()*(b-a));return c.fb.Mr(d,e,g,a)},Bh:function(a){return{alpha:a>>>24,red:a>>16&255,green:a>>8&255,blue:a&255}},uD:function(a){return"rgba("+(a>>16&255).toString()+","+(a>>8&255).toString()+","+(a&255).toString()+","+((a>>>24)/255).toString()+")"},lD:function(a){return a>>>
24},mD:function(a){return(a>>>24)/255},sD:function(a){return a>>16&255},qD:function(a){return a>>8&255},oD:function(a){return a&255}};var D=function(){function a(a,b){this.x=a||0;this.y=b||0}function b(b,c){this.pos=b||new a;this.points=c||[];this.recalc()}function c(b,d,e){this.pos=b||new a;this.w=d||0;this.h=e||0}function e(){this.b=this.a=null;this.overlapN=new a;this.overlapV=new a;this.clear()}function g(a,b,c){for(var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=a.length,g=0;g<f;g++){var h=a[g].xg(b);
h<d&&(d=h);h>e&&(e=h)}c[0]=d;c[1]=e}function f(a,b,c,d,e,f){var h=r.pop(),l=r.pop();a=n.pop().Ga(b).sub(a);b=a.xg(e);g(c,e,h);g(d,e,l);l[0]+=b;l[1]+=b;if(h[0]>l[1]||l[0]>h[1])return n.push(a),r.push(h),r.push(l),!0;f&&(c=0,h[0]<l[0]?(f.aInB=!1,h[1]<l[1]?(c=h[1]-l[0],f.bInA=!1):(c=h[1]-l[0],d=l[1]-h[0],c=c<d?c:-d)):(f.bInA=!1,h[1]>l[1]?(c=h[0]-l[1],f.aInB=!1):(c=h[1]-l[0],d=l[1]-h[0],c=c<d?c:-d)),d=Math.abs(c),d<f.overlap&&(f.overlap=d,f.overlapN.Ga(e),0>c&&f.overlapN.reverse()));n.push(a);r.push(h);
r.push(l);return!1}function h(a,b){var c=a.ij(),d=b.xg(a);return 0>d?-1:d>c?1:0}function k(a,b,c){for(var d=n.pop().Ga(b.pos).sub(a.pos),e=b.r,f=e*e,g=a.points,l=g.length,k=n.pop(),m=n.pop(),p=0;p<l;p++){var r=p===l-1?0:p+1,D=0===p?l-1:p-1,E=0,G=null;k.Ga(a.edges[p]);m.Ga(d).sub(g[p]);c&&m.ij()>f&&(c.aInB=!1);var F=h(k,m);if(-1===F){k.Ga(a.edges[D]);r=n.pop().Ga(d).sub(g[D]);F=h(k,r);if(1===F){F=m.zo();if(F>e)return n.push(d),n.push(k),n.push(m),n.push(r),!1;c&&(c.bInA=!1,G=m.normalize(),E=e-F)}n.push(r)}else if(1===
F){if(k.Ga(a.edges[r]),m.Ga(d).sub(g[r]),F=h(k,m),-1===F){F=m.zo();if(F>e)return n.push(d),n.push(k),n.push(m),!1;c&&(c.bInA=!1,G=m.normalize(),E=e-F)}}else{r=k.Zs().normalize();F=m.xg(r);D=Math.abs(F);if(0<F&&D>e)return n.push(d),n.push(r),n.push(m),!1;c&&(G=r,E=e-F,0<=F||E<2*e)&&(c.bInA=!1)}G&&c&&Math.abs(E)<Math.abs(c.overlap)&&(c.overlap=E,c.overlapN.Ga(G))}c&&(c.a=a,c.b=b,c.overlapV.Ga(c.overlapN).scale(c.overlap));n.push(d);n.push(k);n.push(m);return!0}var m={};m.Vector=a;m.V=a;a.prototype.copy=
a.prototype.Ga=function(a){this.x=a.x;this.y=a.y;return this};a.prototype.perp=a.prototype.Zs=function(){var a=this.x;this.x=this.y;this.y=-a;return this};a.prototype.rotate=a.prototype.rotate=function(a){var b=this.x,c=this.y;this.x=b*Math.cos(a)-c*Math.sin(a);this.y=b*Math.sin(a)+c*Math.cos(a);return this};a.prototype.rotatePrecalc=a.prototype.gp=function(a,b){var c=this.x,d=this.y;this.x=c*b-d*a;this.y=c*a+d*b;return this};a.prototype.reverse=a.prototype.reverse=function(){this.x=-this.x;this.y=
-this.y;return this};a.prototype.normalize=a.prototype.normalize=function(){var a=this.zo();0<a&&(this.x/=a,this.y/=a);return this};a.prototype.add=a.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};a.prototype.sub=a.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;return this};a.prototype.scale=a.prototype.scale=function(a,b){this.x*=a;this.y*=b||a;return this};a.prototype.project=a.prototype.ay=function(a){var b=this.xg(a)/a.ij();this.x=b*a.x;this.y=b*a.y;return this};a.prototype.projectN=
a.prototype.by=function(a){var b=this.xg(a);this.x=b*a.x;this.y=b*a.y;return this};a.prototype.reflect=function(a){var b=this.x,c=this.y;this.ay(a).scale(2);this.x-=b;this.y-=c;return this};a.prototype.reflectN=function(a){var b=this.x,c=this.y;this.by(a).scale(2);this.x-=b;this.y-=c;return this};a.prototype.dot=a.prototype.xg=function(a){return this.x*a.x+this.y*a.y};a.prototype.len2=a.prototype.ij=function(){return this.xg(this)};a.prototype.len=a.prototype.zo=function(){return Math.sqrt(this.ij())};
m.Circle=function(b,c){this.pos=b||new a;this.r=c||0};m.Polygon=b;b.prototype.recalc=b.prototype.recalc=function(){this.edges=[];this.normals=[];for(var b=this.points,c=b.length,d=0;d<c;d++){var e=b[d],e=(new a).Ga(d<c-1?b[d+1]:b[0]).sub(e),f=(new a).Ga(e).Zs().normalize();this.edges.push(e);this.normals.push(f)}return this};b.prototype.rotate=b.prototype.rotate=function(a){var b=this.points,c=this.edges,d=this.normals,e=b.length,f=Math.cos(a),g=Math.sin(a);for(a=0;a<e;a++)b[a].gp(g,f),c[a].gp(g,
f),d[a].gp(g,f);return this};b.prototype.scale=b.prototype.scale=function(a,b){var c,d=this.points,e=this.edges,f=this.normals,g=d.length;for(c=0;c<g;c++)d[c].scale(a,b),e[c].scale(a,b),f[c].scale(a,b);return this};b.prototype.translate=b.prototype.translate=function(a,b){var c,d=this.points,e=d.length;for(c=0;c<e;c++)d[c].x+=a,d[c].y+=b;return this};m.Box=c;c.prototype.toPolygon=c.prototype.Lj=function(){var c=this.pos,d=this.w,e=this.h;return new b(new a(c.x,c.y),[new a,new a(d,0),new a(d,e),new a(0,
e)])};m.Response=e;e.prototype.clear=e.prototype.clear=function(){this.bInA=this.aInB=!0;this.overlap=Number.MAX_VALUE;return this};for(var n=[],p=0;10>p;p++)n.push(new a);for(var r=[],p=0;5>p;p++)r.push([]);m.testCircleCircle=function(a,b,c){var d=n.pop().Ga(b.pos).sub(a.pos),e=a.r+b.r,f=d.ij();if(f>e*e)return n.push(d),!1;c&&(f=Math.sqrt(f),c.a=a,c.b=b,c.overlap=e-f,c.overlapN.Ga(d.normalize()),c.overlapV.Ga(d).scale(c.overlap),c.aInB=a.r<=b.r&&f<=b.r-a.r,c.bInA=b.r<=a.r&&f<=a.r-b.r);n.push(d);
return!0};m.testPolygonCircle=k;m.testCirclePolygon=function(a,b,c){if((a=k(b,a,c))&&c){b=c.a;var d=c.aInB;c.overlapN.reverse();c.overlapV.reverse();c.a=c.b;c.b=b;c.aInB=c.bInA;c.bInA=d}return a};m.testPolygonPolygon=function(a,b,c){for(var d=a.points,e=d.length,g=b.points,h=g.length,l=0;l<e;l++)if(f(a.pos,b.pos,d,g,a.normals[l],c))return!1;for(l=0;l<h;l++)if(f(a.pos,b.pos,d,g,b.normals[l],c))return!1;c&&(c.a=a,c.b=b,c.overlapV.Ga(c.overlapN).scale(c.overlap));return!0};return m}();c.la={};c.la.M=
function(a){this.c=a;this.$b=new c.p;this.Sj=this.Vj=this.Uj=this.Tj=null;this.sd=[null,null,null,null];this.am=new c.ue(this.c.s.o.x,this.c.s.o.y,this.c.s.o.width,this.c.s.o.height,this.Cf,this.Bf);this.Cf=10;this.Bf=4;this.gg=[];this.fc=this.Hb=this.Om=this.jf=0;this.W=new c.p(0,0);this.hc=[0,0,0,0];this.gh=this.fh=0;this.vc=new D.MB;this.ip(!0,!0,!0,!0)};c.la.M.vd=0;c.la.M.Td=1;c.la.M.Ug=2;c.la.M.prototype={Fe:function(a){if(!a.Ev||!(this.Tj||this.Uj||this.Vj||this.Sj))return!1;this.vc.clear();
var b=D.Py,d=a.Ta,e=!1;a.type===c.la.M.Td&&(b=D.Oy,d=a.shape);this.Tj&&b(this.sd[0],d,this.vc)?(a.F.left=!0,d.Bb.add(this.vc.If),a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),e=!0):this.Uj&&b(this.sd[1],d,this.vc)&&(a.F.right=!0,d.Bb.add(this.vc.If),a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),e=!0);this.vc.clear();this.Vj&&b(this.sd[2],d,this.vc)?(a.F.za=!0,d.Bb.add(this.vc.If),a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),e=!0):this.Sj&&b(this.sd[3],d,this.vc)&&(a.F.ya=!0,d.Bb.add(this.vc.If),a.F.x=
Math.floor(a.x),a.F.y=Math.floor(a.y),e=!0);return e},ip:function(a,b,c,e){this.xt(this.c.s.o.x,this.c.s.o.y,this.c.s.o.width,this.c.s.o.height,a,b,c,e)},xt:function(a,b,c,e,g,f,h,k){"undefined"===typeof g&&(g=!0);"undefined"===typeof f&&(f=!0);"undefined"===typeof h&&(h=!0);"undefined"===typeof k&&(k=!0);g?(this.Tj=new D.Xj(new D.zk(a-100,b),100,e),this.sd[0]=this.Tj.Lj()):(this.Tj=null,this.sd[0]=null);f?(this.Uj=new D.Xj(new D.zk(a+c,b),100,e),this.sd[1]=this.Uj.Lj()):(this.Uj=null,this.sd[1]=
null);h?(this.Vj=new D.Xj(new D.zk(a,b-100),c,100),this.sd[2]=this.Vj.Lj()):(this.Vj=null,this.sd[2]=null);k?(this.Sj=new D.Xj(new D.zk(a,b+e),c,100),this.sd[3]=this.Sj.Lj()):(this.Sj=null,this.sd[3]=null)},bz:function(a){a.xn?(this.fh=this.$b.x+a.$b.x,this.gh=this.$b.y+a.$b.y):(this.fh=a.$b.x,this.gh=a.$b.y);if(0>this.fh&&a.F.left||0<this.fh&&a.F.right)this.fh=0;if(0>this.gh&&a.F.za||0<this.gh&&a.F.ya)this.gh=0;a.Fq&&(this.wq=a.yn*this.c.time.je,0!==a.ph&&0===a.yn&&(this.Om=a.ph*this.c.time.je,0<
a.rc?a.rc-=this.Om:0>a.rc&&(a.rc+=this.Om)),a.rotation+=this.c.time.je*(a.rc+this.wq/2),a.rc+=this.wq,a.rc>a.lj?a.rc=a.lj:a.rc<-a.lj&&(a.rc=-a.lj));this.W.Q((a.acceleration.x+this.fh)*this.c.time.je,(a.acceleration.y+this.gh)*this.c.time.je);return this.W},Oo:function(a,b,c,e,g){c=c||null;e=e||null;g=g||c;this.jf=0;if(Array.isArray(b))for(var f=0,h=b.length;f<h;f++)this.bl(a,b[f],c,e,g,!0);else this.bl(a,b,c,e,g,!0);return 0<this.jf},th:function(a,b,c,e,g){c=c||null;e=e||null;g=g||c;this.jf=0;if(Array.isArray(b))for(var f=
0,h=b.length;f<h;f++)this.bl(a,b[f],c,e,g,!1);else this.bl(a,b,c,e,g,!1);return 0<this.jf},bl:function(a,b,d,e,g,f){"undefined"!==typeof b||a.type!==c.Ze&&a.type!==c.ag?a&&b&&a.Da&&b.Da&&(a.type==c.Xg||a.type==c.Zg?b.type==c.Xg||b.type==c.Zg?this.dr(a,b,d,e,g,f):b.type==c.Ze||b.type==c.ag?this.cl(a,b,d,e,g,f):b.type==c.ni&&this.Gn(a,b,d,e,g):a.type==c.Ze?b.type==c.Xg||b.type==c.Zg?this.cl(b,a,d,e,g,f):b.type==c.Ze||b.type==c.ag?this.$q(a,b,d,e,g,f):b.type==c.ni&&this.Fn(a,b,d,e,g):a.type==c.ni?b.type==
c.Xg||b.type==c.Zg?this.Gn(b,a,d,e,g):b.type!=c.Ze&&b.type!=c.ag||this.Fn(b,a,d,e,g):a.type==c.ag&&(b.type==c.Xg||b.type==c.Zg?this.cl(b,a,d,e,g,f):b.type==c.Ze||b.type==c.ag?this.$q(a,b,d,e,g,f):b.type==c.ni&&this.Fn(a,b,d,e,g))):this.Dv(a,d,e,g,f)},dr:function(a,b,c,e,g,f){this.hm(a.body,b.body,e,g,f)&&(c&&c.call(g,a,b),this.jf++)},cl:function(a,b,d,e,g,f){if(0!==b.length){this.am.clear();this.am=new c.ue(this.c.s.o.x,this.c.s.o.y,this.c.s.o.width,this.c.s.o.height,this.Cf,this.Bf);this.am.Xx(b);
this.kn=this.am.Zh(a);b=0;for(var h=this.kn.length;b<h;b++)this.hm(a.body,this.kn[b],e,g,f)&&(d&&d.call(g,a,this.kn[b].d),this.jf++)}},Dv:function(a,b,c,e,g){if(0!==a.length)for(var f=a.j.children.length,h=0;h<f;h++)for(var k=h+1;k<=f;k++)a.j.children[h]&&a.j.children[k]&&a.j.children[h].Da&&a.j.children[k].Da&&this.dr(a.j.children[h],a.j.children[k],b,c,e,g)},$q:function(a,b,c,e,g,f){if(0!==a.length&&0!==b.length&&a.j.first.l){var h=a.j.first.l;do h.Da&&this.cl(h,b,c,e,g,f),h=h.l;while(h!=a.j.G.l)}},
Gn:function(a,b,c,e,g){this.gg=b.yw(a.body.left,a.body.top,a.body.width,a.body.height);if(0!==this.gg.length){for(b=0;b<this.gg.length;b++)this.py(a.body,this.gg[b])&&(e?e.call(g,a,this.gg[b])&&(this.jf++,c&&c.call(g,a,this.gg[b])):(this.jf++,c&&c.call(g,a,this.gg[b])));return!0}},Fn:function(a,b,c,e,g){if(0!==a.length&&a.j.first.l){var f=a.j.first.l;do f.Da&&this.Gn(f,b,c,e,g),f=f.l;while(f!=a.j.G.l)}},hm:function(a,b,c,e,g){if(a===b||!1===this.jd(a,b)||c&&!1===c.call(e,a.d,b.d))return!1;this.vc.clear();
return g?a.Oo(b,this.vc):a.Oo(b,this.vc)?a.hm(b,this.vc):!1},jd:function(a,b){var c=!1;if(0>=a.width||0>=a.height||0>=b.width||0>=b.height)return!1;c=!(a.right<b.left||a.bottom<b.top||a.left>b.right||a.top>b.bottom);!c&&a.to(b)&&a.dp(b);return c},Sy:function(a,b){if(0>=a.width||0>=a.height||0>=b.width||0>=b.height)return this.hc[4]=0,this.hc;if(!(a.right<b.x||a.bottom<b.y||a.left>b.right||a.top>b.bottom))return this.hc[0]=Math.max(a.left,b.x),this.hc[1]=Math.max(a.top,b.y),this.hc[2]=Math.min(a.right,
b.right)-this.hc[0],this.hc[3]=Math.min(a.bottom,b.bottom)-this.hc[1],this.hc[4]=1,this.hc;this.hc[4]=0;return this.hc},py:function(a,b){this.hc=this.Sy(a,b);if(0===this.hc[4]||0===this.hc[2]||0===this.hc[3])return!1;if(b.qd.ae||b.ea.sh[b.qd.index])if(b.qd.ae&&!1===b.qd.ae.call(b.qd.L,a.d,b)||b.ea.sh[b.qd.index]&&!1===b.ea.sh[b.qd.index].ae.call(b.ea.sh[b.qd.index].L,a.d,b))return!1;a.zb=0;a.Ab=0;var c=!1;0>a.Sn()&&a.Za.left&&b.qd.nl&&!a.F.left?(a.zb=a.left-b.right,0>a.zb?c=!0:a.zb=0):0<a.Sn()&&a.Za.right&&
b.qd.ml&&!a.F.right&&(a.zb=a.right-b.x,0<a.zb?c=!0:a.zb=0);0>a.Tn()&&a.Za.za&&b.qd.ll&&!a.F.za?(a.Ab=a.top-b.bottom,0>a.Ab?c=!0:a.Ab=0):0<a.Tn()&&a.Za.ya&&b.qd.ol&&!a.F.ya&&(a.Ab=a.bottom-b.y,0<a.Ab?c=!0:a.Ab=0);0!==a.zb&&0!==a.Ab&&(Math.abs(a.zb)>Math.abs(a.Ab)?a.zb=0:a.Ab=0);return c?this.$x(a):!1},$x:function(a){0>a.zb?(a.x-=a.zb,a.left-=a.zb,a.right-=a.zb,a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),a.F.left=!0):0<a.zb&&(a.x-=a.zb,a.left-=a.zb,a.right-=a.zb,a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),
a.F.right=!0);0>a.Ab?(a.y-=a.Ab,a.top-=a.Ab,a.bottom-=a.Ab,a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),a.F.za=!0):0<a.Ab&&(a.y-=a.Ab,a.top-=a.Ab,a.bottom-=a.Ab,a.F.x=Math.floor(a.x),a.F.y=Math.floor(a.y),a.F.ya=!0);a.le(a.zb,a.Ab,!0);return!0},jv:function(a,b){this.Hb=b.x-a.x;this.fc=b.y-a.y;return Math.atan2(this.fc,this.Hb)}};c.la.M.prototype.constructor=c.la.M;c.la.M.Sg=function(a){this.d=a;this.c=a.c;this.offset=new c.p;this.Xl=a.s.x;this.Yl=a.s.y;this.So=a.bd;this.n=new c.p;this.acceleration=
new c.p;this.bd=this.speed=0;this.$b=new c.p;this.Yb=new c.p;this.Fo=new c.p;this.Me=new c.p(1E3,1E3);this.ph=this.yn=this.rc=0;this.lj=1E3;this.Md=1;this.Bo=0;this.Za={Ll:!1,kv:!0,za:!0,ya:!0,left:!0,right:!0};this.pa={Ll:!0,za:!1,ya:!1,left:!1,right:!1};this.F={x:0,y:0,za:!1,ya:!1,left:!1,right:!1};this.cp=!0;this.vf=!1;this.Hh=!0;this.rotation=0;this.xn=this.Fq=!0;this.Ni=this.Ge=this.pr=this.Pn=null;this.Ev=!1;this.type=c.la.M.vd;this.Ta=this.shape=null;this.height=this.width=this.bottom=this.top=
this.right=this.left=0;this.uh=[];this.Ab=this.zb=0;this.Gi=null;this.fc=this.Hb=0;this.Rk=a.scale.x;this.Sk=a.scale.y;this.Ub=[0,0,0,0];this.oh=this.nh=0;this.vy(a.width,a.height,0,0);this.d.m.Ds=new c.H;this.d.m.Fs=new c.H};c.la.M.Sg.prototype={Tt:function(){this.Ta?this.Ta.scale(this.d.scale.x/this.Rk,this.d.scale.y/this.Sk):this.shape.Uh*=Math.max(this.d.scale.x,this.d.scale.y);this.Rk=this.d.scale.x;this.Sk=this.d.scale.y},Oe:function(){this.x=this.d.s.x-this.d.anchor.x*this.d.width+this.offset.x;
this.y=this.d.s.y-this.d.anchor.y*this.d.height+this.offset.y;this.Xl=this.x;this.Yl=this.y;this.rotation=this.So=this.d.bd;this.d.scale.x===this.Rk&&this.d.scale.y===this.Sk||this.Tt();this.Pq();this.pa.Ll=!0;this.pa.za=!1;this.pa.ya=!1;this.pa.left=!1;this.pa.right=!1;if(this.Hh){if(this.nh!==this.n.x||this.oh!==this.n.y)this.nh=this.n.x,this.oh=this.n.y,this.speed=Math.sqrt(this.n.x*this.n.x+this.n.y*this.n.y),this.bd=Math.atan2(this.n.y,this.n.x);this.c.Qb.Fe(this)&&this.le(!0,!0,!0);this.lv();
this.Tw();this.ci();this.Pq()}else this.ci()},Pq:function(){!this.F.left&&!this.F.right||Math.floor(this.x)===this.F.x&&Math.floor(this.y)===this.F.y||(this.F.left=!1,this.F.right=!1);!this.F.za&&!this.F.ya||Math.floor(this.x)===this.F.x&&Math.floor(this.y)===this.F.y||(this.F.za=!1,this.F.ya=!1)},ci:function(){this.type===c.la.M.Td?(this.left=this.shape.Bb.x-this.shape.Uh,this.right=this.shape.Bb.x+this.shape.Uh,this.top=this.shape.Bb.y-this.shape.Uh,this.bottom=this.shape.Bb.y+this.shape.Uh):(this.left=
c.ca.ws("x",this.Ta.ba)+this.Ta.Bb.x,this.right=c.ca.ss("x",this.Ta.ba)+this.Ta.Bb.x,this.top=c.ca.ws("y",this.Ta.ba)+this.Ta.Bb.y,this.bottom=c.ca.ss("y",this.Ta.ba)+this.Ta.Bb.y);this.width=this.right-this.left;this.height=this.bottom-this.top},lv:function(){0<this.Bo&&this.acceleration.yo()&&(this.speed=this.speed>this.Bo?this.speed-this.Bo:0,0<this.speed||!this.n.yo())&&(this.n.x=Math.cos(this.bd)*this.speed,this.n.y=Math.sin(this.bd)*this.speed,this.speed=Math.sqrt(this.n.x*this.n.x+this.n.y*
this.n.y),this.bd=Math.atan2(this.n.y,this.n.x))},le:function(a,b,c){a&&(!c||0===this.Yb.x||!(this.F.left||this.F.right||this.pa.left||this.pa.right)||0>=this.nh&&0<this.n.x||0<=this.nh&&0>this.n.x||(this.n.x*=-this.Yb.x,this.bd=Math.atan2(this.n.y,this.n.x)),0===this.Yb.x||Math.abs(this.n.x)<this.Fo.x)&&(a=this.zw(),(this.F.left||this.pa.left)&&(0>a||0>this.n.x)||(this.F.right||this.pa.right)&&(0<a||0<this.n.x))&&(this.n.x=0);b&&(!c||0===this.Yb.y||!(this.F.za||this.F.ya||this.pa.za||this.pa.ya)||
0>=this.oh&&0<this.n.y||0<=this.oh&&0>this.n.y||(this.n.y*=-this.Yb.y,this.bd=Math.atan2(this.n.y,this.n.x)),0===this.Yb.y||Math.abs(this.n.y)<this.Fo.y)&&(b=this.mw(),(this.F.za||this.pa.za)&&(0>b||0>this.n.y)||(this.F.ya||this.pa.ya)&&(0<b||0<this.n.y))&&(this.n.y=0)},zw:function(){return this.xn?this.$b.x+this.c.Qb.$b.x+this.n.x:this.$b.x+this.n.x},mw:function(){return this.xn?this.$b.y+this.c.Qb.$b.y+this.n.y:this.$b.y+this.n.y},sub:function(a){this.x-=a.x;this.y-=a.y},add:function(a){this.x+=
a.x;this.y+=a.y},wl:function(a,b){this.add(b.If);this.cp&&(this.mt(a),this.le(!0,!0,!1),a.le(!0,!0,!1))},om:function(a,b){this.sub(b.If);this.cp&&(this.mt(a),this.le(!0,!0,!1),a.le(!0,!0,!1))},split:function(a,b){b.If.scale(0.5);this.sub(b.If);a.add(b.If);this.cp&&(this.aw(a),this.le(!0,!0,!1),a.le(!0,!0,!1))},aw:function(a){if(this.Md===a.Md&&0<this.speed&&0<a.speed)this.Hb=a.n.x,this.fc=a.n.y,a.n.x=this.n.x*a.Yb.x,a.n.y=this.n.y*a.Yb.x,this.n.x=this.Hb*this.Yb.x,this.n.y=this.fc*this.Yb.y;else{var b=
Math.sqrt(a.n.x*a.n.x*a.Md/this.Md)*(0<a.n.x?1:-1),c=Math.sqrt(this.n.x*this.n.x*this.Md/a.Md)*(0<this.n.x?1:-1),e=0.5*(b+c);this.n.x=b-e;a.n.x=c-e;b=Math.sqrt(a.n.y*a.n.y*a.Md/this.Md)*(0<a.n.y?1:-1);c=Math.sqrt(this.n.y*this.n.y*this.Md/a.Md)*(0<this.n.y?1:-1);e=0.5*(b+c);b-=e;c-=e;this.n.y=b;a.n.y=c}},mt:function(a){0>=this.nh&&0<this.n.x||0<=this.nh&&0>this.n.x||(this.n.x=a.n.x-this.n.x*this.Yb.x);0>=this.oh&&0<this.n.y||0<=this.oh&&0>this.n.y||(this.n.y=a.n.y-this.n.y*this.Yb.y);this.bd=Math.atan2(this.n.y,
this.n.x);this.le(!0,!0,!1)},Oo:function(a,b){var d=!1;this.type!==c.la.M.vd&&this.type!==c.la.M.Ug||a.type!==c.la.M.vd&&a.type!==c.la.M.Ug?this.type===c.la.M.Td&&a.type===c.la.M.Td?d=D.pE(this.shape,a.shape,b):this.type!==c.la.M.vd&&this.type!==c.la.M.Ug||a.type!==c.la.M.Td?this.type!==c.la.M.Td||a.type!==c.la.M.vd&&a.type!==c.la.M.Ug||(d=D.qE(this.shape,a.Ta,b)):d=D.Oy(this.Ta,a.shape,b):d=D.Py(this.Ta,a.Ta,b);d||this.dp(a);return d},to:function(a){return-1!=this.uh.indexOf(a)},zq:function(a){if(this.to(a))return!1;
this.uh.push(a);this.d.m.Ds.B(this.d,a.d,this,a);a.zq(this);return!0},dp:function(a){if(!this.to(a))return!1;this.uh.splice(this.uh.indexOf(a),1);this.d.m.Fs.B(this.d,a.d,this,a);a.dp(this);return!0},hm:function(a,b){this.Ub[0]=a.right-this.x;this.Ub[1]=this.right-a.x;this.Ub[2]=a.bottom-this.y;this.Ub[3]=this.bottom-a.y;!b.Kg.x||0!==this.Ub[0]&&0!==this.Ub[1]?!b.Kg.y||0!==this.Ub[2]&&0!==this.Ub[3]||(b.Kg.x=!0,b.Kg.y=!1):(b.Kg.x=!1,b.Kg.y=!0);if(this.Pn)return this.Pn.call(this.pr,this,b,this.Ub);
var c=!1;b.Kg.x?this.Ub[0]<this.Ub[1]?c=this.Kw(a,b):this.Ub[1]<this.Ub[0]&&(c=this.Lw(a,b)):b.Kg.y&&(this.Ub[2]<this.Ub[3]?c=this.Mw(a,b):this.Ub[3]<this.Ub[2]&&(c=this.Jw(a,b)));c?(this.c.Qb.Fe(this),this.c.Qb.Fe(a)):this.Za.za&&this.Za.ya&&this.Za.left&&this.Za.right&&a.Za.za&&a.Za.ya&&a.Za.left&&a.Za.right||this.zq(a);return c},Kw:function(a,b){if(!this.Za.left||!a.Za.right||this.Ge&&!this.Ge.call(this.Ni,c.Dm,this,a,b))return!1;!this.Hh||this.vf||this.F.right||this.pa.right?a.wl(this,b):a.vf||
a.F.left||a.pa.left?this.om(a,b):this.split(a,b);this.pa.left=!0;return a.pa.right=!0},Lw:function(a,b){if(!this.Za.right||!a.Za.left||this.Ge&&!this.Ge.call(this.Ni,c.li,this,a))return!1;!this.Hh||this.vf||this.F.left||this.pa.left?a.wl(this,b):a.vf||a.F.right||a.pa.right?this.om(a,b):this.split(a,b);this.pa.right=!0;return a.pa.left=!0},Mw:function(a,b){if(!this.Za.za||!a.Za.ya||this.Ge&&!this.Ge.call(this.Ni,c.pi,this,a))return!1;!this.Hh||this.vf||this.F.ya||this.pa.ya?a.wl(this,b):a.vf||a.F.za||
a.pa.za?this.om(a,b):this.split(a,b);this.pa.za=!0;return a.pa.ya=!0},Jw:function(a,b){if(!this.Za.ya||!a.Za.za||this.Ge&&!this.Ge.call(this.Ni,c.hi,this,a))return!1;!this.Hh||this.vf||this.F.za||this.pa.za?a.wl(this,b):a.vf||a.F.ya||a.pa.ya?this.om(a,b):this.split(a,b);this.pa.ya=!0;return a.pa.za=!0},Tw:function(){this.Gi=this.c.Qb.bz(this);this.Hb=this.c.time.je*(this.n.x+this.Gi.x/2);this.fc=this.c.time.je*(this.n.y+this.Gi.y/2);if(0>this.Hb&&!this.F.left&&!this.pa.left||0<this.Hb&&!this.F.right&&
!this.pa.right)this.x+=this.Hb,this.n.x+=this.Gi.x;if(0>this.fc&&!this.F.za&&!this.pa.za||0<this.fc&&!this.F.ya&&!this.pa.ya)this.y+=this.fc,this.n.y+=this.Gi.y;this.n.x>this.Me.x?this.n.x=this.Me.x:this.n.x<-this.Me.x&&(this.n.x=-this.Me.x);this.n.y>this.Me.y?this.n.y=this.Me.y:this.n.y<-this.Me.y&&(this.n.y=-this.Me.y)},md:function(){if(this.Hh){this.c.Qb.Fe(this);this.le(!0,!0,!0);this.Hb=this.Sn();this.fc=this.Tn();if(0!==this.Hb||0!==this.fc)this.d.x+=this.Hb,this.d.y+=this.fc;this.Fq&&0!==this.tr()&&
(this.d.bd+=this.tr());this.d.scale.x===this.Rk&&this.d.scale.y===this.Sk||this.Tt()}},reset:function(a){"undefined"===typeof a&&(a=!1);a&&(this.$b.Q(0,0),this.Yb.Q(0,0),this.Fo.Q(5,5),this.Me.Q(1E3,1E3),this.ph=0,this.lj=1E3,this.Md=1,this.fw=0,this.Za={Ll:!1,kv:!0,za:!0,ya:!0,left:!0,right:!0});this.n.Q(0,0);this.acceleration.Q(0,0);this.yn=this.rc=0;this.F={x:0,y:0,za:!1,ya:!1,left:!1,right:!1};this.x=this.d.s.x-this.d.anchor.x*this.d.width+this.offset.x;this.y=this.d.s.y-this.d.anchor.y*this.d.height+
this.offset.y;this.Xl=this.x;this.Yl=this.y;this.ci();this.uh.length=0},N:function(){this.pr=this.Pn=this.Ni=this.Ge=this.d=null;this.uh.length=0},vy:function(a,b,d,e){"undefined"===typeof a&&(a=this.d.width);"undefined"===typeof b&&(b=this.d.height);"undefined"===typeof d&&(d=-this.d.e.ge);"undefined"===typeof e&&(e=-this.d.e.fe);this.type=c.la.M.vd;this.shape=new D.Xj(new D.zk(this.d.s.x,this.d.s.y),a,b);this.Ta=this.shape.Lj();this.Ta.translate(d,e);this.offset.Q(0,0)},translate:function(a,b){this.Ta&&
this.Ta.translate(a,b)},Sn:function(){return this.x-this.Xl},Tn:function(){return this.y-this.Yl},tr:function(){return this.rotation-this.So}};c.la.M.Sg.prototype.constructor=c.la.M.Sg;Object.defineProperty(c.la.M.Sg.prototype,"x",{get:function(){return this.type===c.la.M.Td?this.shape.Bb.x:this.Ta.Bb.x},set:function(a){this.type===c.la.M.Td?this.shape.Bb.x=a:this.Ta.Bb.x=a}});Object.defineProperty(c.la.M.Sg.prototype,"y",{get:function(){return this.type===c.la.M.Td?this.shape.Bb.y:this.Ta.Bb.y},
set:function(a){this.type===c.la.M.Td?this.shape.Bb.y=a:this.Ta.Bb.y=a}});c.Qa=function(a){this.c=a;this.Vi={};this.ku=0};c.Qa.prototype={add:function(a){return this.Vi[a.name]=a},remove:function(a){delete this.Vi[a.name]},update:function(){for(var a in this.Vi)this.Vi[a].Da&&this.Vi[a].update()}};c.Qa.prototype.constructor=c.Qa;c.Qa.M={};c.Qa.M.Sb=function(a,b,d){c.ra.call(this,a);this.name="emitter"+this.c.Qh.ku++;this.type=c.ag;this.y=this.x=0;this.height=this.width=1;this.Gh=new c.p(-100,-100);
this.Jl=new c.p(100,100);this.rs=this.vs=1;this.Eo=-360;this.ts=360;this.$b=100;this.ph=this.Rx=0;this.Ir=100;this.zf=2E3;this.Yb=new c.p;this.bh=this.un=this.Ei=0;this.Wp=!0;this.Kh=!1;this.Da=!0;this.Wn=b;this.Xn=d};c.Qa.M.Sb.prototype=Object.create(c.ra.prototype);c.Qa.M.Sb.prototype.constructor=c.Qa.M.Sb;c.Qa.M.Sb.prototype.update=function(){if(this.Kh)if(this.Wp){this.bh=0;do this.wr(),this.bh++;while(this.bh<this.Ei);this.Kh=!1}else this.c.time.now>=this.un&&(this.wr(),this.bh++,0<this.Ei&&
this.bh>=this.Ei&&(this.Kh=!1),this.un=this.c.time.now+this.Ir)};c.Qa.M.Sb.prototype.kc=function(){this.Da=this.ad=this.Kh=!1};c.Qa.M.Sb.prototype.vt=function(){this.Da=this.ad=!0};c.Qa.M.Sb.prototype.start=function(a,b,c,e){"undefined"===typeof a&&(a=!0);"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=250);"undefined"===typeof e&&(e=0);this.vt();this.Kh=this.visible=!0;this.Wp=a;this.zf=b;this.Ir=c;this.Ei=a?e:this.Ei+e;this.bh=0;this.un=this.c.time.now+c};c.Qa.M.Sb.prototype.wr=function(){var a=
this.nw(!1);if(null!=a){1<this.width||1<this.height?a.reset(this.c.Na.Ld(this.left,this.right),this.c.Na.Ld(this.top,this.bottom)):a.reset(this.Wn,this.Xn);a.zf=this.zf;a.body.Yb.Q(this.Yb.x,this.Yb.y);a.body.n.x=this.Gh.x!=this.Jl.x?this.c.Na.Ld(this.Gh.x,this.Jl.x):this.Gh.x;a.body.n.y=this.Gh.y!=this.Jl.y?this.c.Na.Ld(this.Gh.y,this.Jl.y):this.Gh.y;a.body.$b.y=this.$b;a.body.rc=this.Eo!=this.ts?this.c.Na.Ld(this.Eo,this.ts):this.Eo;if(1!==this.vs||1!==this.rs){var b=this.c.Na.bp(this.vs,this.rs);
a.scale.Q(b,b)}a.body.fw=this.Rx;a.body.ph=this.ph}};c.Qa.M.Sb.prototype.mp=function(a,b){this.width=a;this.height=b};Object.defineProperty(c.Qa.M.Sb.prototype,"alpha",{get:function(){return this.j.alpha},set:function(a){this.j.alpha=a}});Object.defineProperty(c.Qa.M.Sb.prototype,"visible",{get:function(){return this.j.visible},set:function(a){this.j.visible=a}});Object.defineProperty(c.Qa.M.Sb.prototype,"x",{get:function(){return this.Wn},set:function(a){this.Wn=a}});Object.defineProperty(c.Qa.M.Sb.prototype,
"y",{get:function(){return this.Xn},set:function(a){this.Xn=a}});Object.defineProperty(c.Qa.M.Sb.prototype,"left",{get:function(){return Math.floor(this.x-this.width/2)}});Object.defineProperty(c.Qa.M.Sb.prototype,"right",{get:function(){return Math.floor(this.x+this.width/2)}});Object.defineProperty(c.Qa.M.Sb.prototype,"top",{get:function(){return Math.floor(this.y-this.height/2)}});Object.defineProperty(c.Qa.M.Sb.prototype,"bottom",{get:function(){return Math.floor(this.y+this.height/2)}});c.we=
function(a,b,c,e,g,f){this.ea=a;this.index=b;this.x=c;this.y=e;this.width=g;this.height=f;this.alpha=1;this.Cb={};this.tg=this.nl=this.ml=this.ll=this.ol=!1;this.br=!0;this.Zq=this.er=this.cr=this.ar=!1;this.ae=null;this.L=this};c.we.prototype={N:function(){this.Cb=this.fr=this.dl=null},Ga:function(a){this.index=a.index;this.alpha=a.alpha;this.Cb=a.Cb;this.tg=a.tg;this.br=a.br;this.er=a.er;this.Zq=a.Zq;this.ar=a.ar;this.cr=a.cr;this.dl=a.dl;this.fr=a.fr}};c.we.prototype.constructor=c.we;Object.defineProperty(c.we.prototype,
"canCollide",{get:function(){return this.tg||this.dl||this.ea.sh[this.index]}});Object.defineProperty(c.we.prototype,"left",{get:function(){return this.x}});Object.defineProperty(c.we.prototype,"right",{get:function(){return this.x+this.width}});Object.defineProperty(c.we.prototype,"top",{get:function(){return this.y}});Object.defineProperty(c.we.prototype,"bottom",{get:function(){return this.y+this.height}});c.Vd=function(a,b){this.c=a;this.key=b;var d=c.wu.parse(this.c,b);null!==d&&(this.width=
d.width,this.height=d.height,this.Db=d.Db,this.lb=d.lb,this.orientation=d.orientation,this.version=d.version,this.Cb=d.Cb,this.Zf=d.Zf,this.uf=d.uf,this.D=d.D,this.me=d.me,this.Qd=d.Qd,this.yb=d.yb,this.images=d.images,this.On=0,this.Z=[],this.rn=this.qn=0)};c.Vd.xm=0;c.Vd.Qp=1;c.Vd.prototype={create:function(a,b,d){for(var e=[],g=0;g<d;g++){e[g]=[];for(var f=0;f<b;f++)e[g][f]=0}this.D.push({name:a,width:b,height:d,alpha:1,visible:!0,Kj:0,qm:0,format:c.Vd.xm,data:e,Vr:[],I:!0});this.On=this.D.length-
1},Bg:function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return c;return null},qw:function(a){return this.Bg(this.D,a)},rf:function(a){"undefined"===typeof a?a=this.On:"string"===typeof a?a=this.qw(a):a instanceof c.ub&&(a=a.index);return a},vv:function(a){for(var b=null,c=null,e=null,g=null,f=0,h=this.D[a].height;f<h;f++)for(var k=0,m=this.D[a].width;k<m;k++){var n=this.D[a].data[f][k];n&&(b=this.tw(a,k,f),c=this.uw(a,k,f),e=this.vw(a,k,f),g=this.ww(a,k,f),b&&b.tg&&(n.ol=!1),c&&c.tg&&(n.ll=
!1),e&&e.tg&&(n.ml=!1),g&&g.tg&&(n.nl=!1))}},tw:function(a,b,c){return 0<c?this.D[a].data[c-1][b]:null},uw:function(a,b,c){return c<this.D[a].height-1?this.D[a].data[c+1][b]:null},vw:function(a,b,c){return 0<b?this.D[a].data[c][b-1]:null},ww:function(a,b,c){return b<this.D[a].width-1?this.D[a].data[c][b+1]:null},Ga:function(a,b,c,e,g){g=this.rf(g);if(this.D[g]){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=this.D[g].width);"undefined"===typeof e&&(e=this.D[g].height);
0>a&&(a=0);0>b&&(b=0);c>this.D[g].width&&(c=this.D[g].width);e>this.D[g].height&&(e=this.D[g].height);this.Z.length=0;this.Z.push({x:a,y:b,width:c,height:e,ea:g});for(var f=b;f<b+e;f++)for(var h=a;h<a+c;h++)this.Z.push(this.D[g].data[f][h]);return this.Z}this.Z.length=0},Rh:function(a,b,c,e){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=0);e=this.rf(e);if(c&&!(2>c.length)){a-=c[1].x;b-=c[1].y;for(var g=1;g<c.length;g++)this.D[e].data[b+c[g].y][a+c[g].x].Ga(c[g]);this.D[e].I=!0;this.vv(e)}},
tp:function(a,b,c,e,g,f,h){h=this.rf(h);this.Ga(c,e,g,f,h);2>this.Z.length||(this.qn=a,this.rn=b,this.Z.forEach(this.Ly,this),this.Rh(c,e,this.Z,h))},Ly:function(a,b){a.index===this.qn?this.Z[b].index=this.rn:a.index===this.rn&&(this.Z[b].index=this.qn)},forEach:function(a,b,c,e,g,f,h){h=this.rf(h);this.Ga(c,e,g,f,h);2>this.Z.length||(this.Z.forEach(a,b),this.Rh(c,e,this.Z,h))},replace:function(a,b,c,e,g,f,h){h=this.rf(h);this.Ga(c,e,g,f,h);if(!(2>this.Z.length)){for(g=1;g<this.Z.length;g++)this.Z[g].index===
a&&(this.Z[g].index=b);this.Rh(c,e,this.Z,h)}},random:function(a,b,c,e,g){g=this.rf(g);this.Ga(a,b,c,e,g);if(!(2>this.Z.length)){c=[];for(e=1;e<this.Z.length;e++)if(this.Z[e].index){var f=this.Z[e].index;-1===c.indexOf(f)&&c.push(f)}for(e=1;e<this.Z.length;e++)this.Z[e].index=this.c.Na.Sx(c);this.Rh(a,b,this.Z,g)}},Bt:function(a,b,d,e,g){g=this.rf(g);this.Ga(a,b,d,e,g);if(!(2>this.Z.length)){d=[];for(e=1;e<this.Z.length;e++)this.Z[e].index&&d.push(this.Z[e].index);c.uc.Bt(d);for(e=1;e<this.Z.length;e++)this.Z[e].index=
d[e-1];this.Rh(a,b,this.Z,g)}},fill:function(a,b,c,e,g,f){f=this.rf(f);this.Ga(b,c,e,g,f);if(!(2>this.Z.length)){for(e=1;e<this.Z.length;e++)this.Z[e].index=a;this.Rh(b,c,this.Z,f)}},iy:function(){this.On=this.D.length=0},N:function(){this.iy();this.data=[];this.c=null}};c.Vd.prototype.constructor=c.Vd;c.ub=function(a,b,d,l,g){this.c=a;this.map=b;this.index=d;this.ea=b.D[d];this.canvas=c.Fc.create(l,g);this.f=this.canvas.getContext("2d");this.A=new e.Fa(this.canvas);this.g=new e.R(this.A);this.Jj=
new c.Sc(0,0,0,l,g,"tilemapLayer",a.Na.cc());c.v.call(this,this.c,0,0,this.g,this.Jj);this.name="";this.type=c.ni;this.dd=!0;this.X=new c.p(0,0);this.Ry="rgb(255, 255, 255)";this.debug=!1;this.Lv=0.5;this.Nv="rgba(0, 255, 0, 1)";this.Ov=!1;this.rr="rgba(0, 255, 0, 0.2)";this.Mv="rgba(255, 0, 0, 1)";this.Hj=this.Gj=1;this.I=!0;this.Gb=b.Db;this.Fb=b.lb;this.Yd=this.Xd=this.jg=this.ig=this.uq=this.vq=this.Sa=this.Ba=this.fc=this.Hb=0;this.Z=[];this.yc=this.xc=0;this.az()};c.ub.prototype=Object.create(c.v.prototype);
c.ub.prototype=c.uc.extend(!0,c.ub.prototype,c.v.prototype,e.v.prototype);c.ub.prototype.constructor=c.ub;c.ub.prototype.md=function(){c.v.prototype.md.call(this);this.scrollX=this.c.na.x*this.Gj;this.scrollY=this.c.na.y*this.Hj;this.qa()};c.ub.prototype.Nu=function(a){0>a&&(a=0);return 1===this.Gj?a:this.xc+(a-this.xc/this.Gj)};c.ub.prototype.Wu=function(a){return 1===this.Gj?a:this.xc/this.Gj+(a-this.xc)};c.ub.prototype.Ou=function(a){0>a&&(a=0);return 1===this.Hj?a:this.yc+(a-this.yc/this.Hj)};
c.ub.prototype.Xu=function(a){return 1===this.Hj?a:this.yc/this.Hj+(a-this.yc)};c.ub.prototype.yw=function(a,b,c,e){var g=!0;"undefined"===typeof g&&(g=!1);a=this.Nu(a);b=this.Ou(b);c>this.ea.Zf&&(c=this.ea.Zf);e>this.ea.uf&&(e=this.ea.uf);this.Ba=this.c.xb.Ft(a,this.Gb)/this.Gb;this.Sa=this.c.xb.Ft(b,this.Fb)/this.Fb;this.vq=(this.c.xb.Et(c,this.Gb)+this.Gb)/this.Gb;this.uq=(this.c.xb.Et(e,this.Fb)+this.Fb)/this.Fb;this.Z.length=0;for(a=this.Sa;a<this.Sa+this.uq;a++)for(b=this.Ba;b<this.Ba+this.vq;b++)this.ea.data[a]&&
this.ea.data[a][b]&&(!1===g||g&&this.ea.data[a][b].OC)&&(c=this.Wu(b*this.Gb)/this.Gb,e=this.Xu(a*this.Fb)/this.Fb,this.Z.push({x:c*this.Gb,y:e*this.Fb,right:c*this.Gb+this.Gb,bottom:e*this.Fb+this.Fb,qd:this.ea.data[a][b],ea:this.ea.data[a][b].ea}));return this.Z};c.ub.prototype.az=function(){this.ig=this.c.xb.ceil(this.canvas.width/this.map.Db)+1;this.jg=this.c.xb.ceil(this.canvas.height/this.map.lb)+1;this.ea&&(this.ig>this.ea.width&&(this.ig=this.ea.width),this.jg>this.ea.height&&(this.jg=this.ea.height));
this.I=!0};c.ub.prototype.qa=function(){this.ea.I&&(this.I=!0);if(this.I&&this.visible){this.Hb=-(this.xc-this.Xd*this.map.Db);this.fc=-(this.yc-this.Yd*this.map.lb);this.Ba=this.Hb;this.Sa=this.fc;this.f.clearRect(0,0,this.canvas.width,this.canvas.height);this.f.fillStyle=this.Ry;var a,b;this.debug&&(this.f.globalAlpha=this.Lv);for(var d=this.Yd,l=this.Yd+this.jg;d<l;d++){this.Dk=this.ea.data[d];for(var g=this.Xd,f=this.Xd+this.ig;g<f;g++)this.Dk[g]&&(a=this.Dk[g],this.map.Qd[a.index]&&(b=this.map.me[this.map.Qd[a.index][2]],
b.ta?(!1===this.debug&&a.alpha!==this.f.globalAlpha&&(this.f.globalAlpha=a.alpha),b.Db!==this.map.Db||b.lb!==this.map.lb?this.f.drawImage(this.map.me[this.map.Qd[a.index][2]].ta,this.map.Qd[a.index][0],this.map.Qd[a.index][1],b.Db,b.lb,Math.floor(this.Ba),Math.floor(this.Sa)-(b.lb-this.map.lb),b.Db,b.lb):this.f.drawImage(this.map.me[this.map.Qd[a.index][2]].ta,this.map.Qd[a.index][0],this.map.Qd[a.index][1],this.map.Db,this.map.lb,Math.floor(this.Ba),Math.floor(this.Sa),this.map.Db,this.map.lb),a.debug&&
(this.f.fillStyle="rgba(0, 255, 0, 0.4)",this.f.fillRect(Math.floor(this.Ba),Math.floor(this.Sa),this.map.Db,this.map.lb))):this.f.fillRect(Math.floor(this.Ba),Math.floor(this.Sa),this.map.Db,this.map.lb))),this.Ba+=this.map.Db;this.Ba=this.Hb;this.Sa+=this.map.lb}this.debug&&(this.f.globalAlpha=1,this.ky());this.c.lc===c.Ak&&e.Pd.push(this.A);this.I=!1;this.ea.I=!1;return!0}};c.ub.prototype.ky=function(){this.Ba=this.Hb;this.Sa=this.fc;this.f.strokeStyle=this.Nv;this.f.fillStyle=this.rr;for(var a=
this.Yd,b=this.Yd+this.jg;a<b;a++){this.Dk=this.ea.data[a];for(var c=this.Xd,e=this.Xd+this.ig;c<e;c++){var g=this.Dk[c];g&&(g.ol||g.ll||g.ml||g.nl)&&(this.Ba=Math.floor(this.Ba),this.Ov&&this.f.fillRect(this.Ba,this.Sa,this.Gb,this.Fb),this.f.beginPath(),g.ol&&(this.f.moveTo(this.Ba,this.Sa),this.f.lineTo(this.Ba+this.Gb,this.Sa)),g.ll&&(this.f.moveTo(this.Ba,this.Sa+this.Fb),this.f.lineTo(this.Ba+this.Gb,this.Sa+this.Fb)),g.ml&&(this.f.moveTo(this.Ba,this.Sa),this.f.lineTo(this.Ba,this.Sa+this.Fb)),
g.nl&&(this.f.moveTo(this.Ba+this.Gb,this.Sa),this.f.lineTo(this.Ba+this.Gb,this.Sa+this.Fb)),this.f.stroke());g&&(g.dl||g.ea.sh[g.index])&&(this.f.fillStyle=this.Mv,this.f.fillRect(this.Ba,this.Sa,this.Gb,this.Fb),this.f.fillStyle=this.rr);this.Ba+=this.map.Db}this.Ba=this.Hb;this.Sa+=this.map.lb}};Object.defineProperty(c.ub.prototype,"scrollX",{get:function(){return this.xc},set:function(a){a!==this.xc&&0<=a&&this.ea.Zf>this.width&&(this.xc=a,this.xc>this.ea.Zf-this.width&&(this.xc=this.ea.Zf-this.width),
this.Xd=this.c.xb.floor(this.xc/this.map.Db),0>this.Xd&&(this.Xd=0),this.Xd+this.ig>this.ea.width&&(this.Xd=this.ea.width-this.ig),this.I=!0)}});Object.defineProperty(c.ub.prototype,"scrollY",{get:function(){return this.yc},set:function(a){a!==this.yc&&0<=a&&this.ea.uf>this.height&&(this.yc=a,this.yc>this.ea.uf-this.height&&(this.yc=this.ea.uf-this.height),this.Yd=this.c.xb.floor(this.yc/this.map.lb),0>this.Yd&&(this.Yd=0),this.Yd+this.jg>this.ea.height&&(this.Yd=this.ea.height-this.jg),this.I=!0)}});
Object.defineProperty(c.ub.prototype,"collisionWidth",{get:function(){return this.Gb},set:function(a){this.Gb=a;this.I=!0}});Object.defineProperty(c.ub.prototype,"collisionHeight",{get:function(){return this.Fb},set:function(a){this.Fb=a;this.I=!0}});c.wu={sE:function(a,b,d,e,g,f,h,k,m){a=a.K.tD(b);if(null===a)return console.warn("Phaser.TilemapParser.tileSet: Invalid image key given"),null;var n=a.width,p=a.height;-1===h&&(h=Math.round(n/d));-1===k&&(k=Math.round(p/e));-1===m&&(m=h*k);return 0===
n||0===p||n<d||p<e||0===m?(console.warn("Phaser.TilemapParser.tileSet: width/height zero or width/height < given tileWidth/tileHeight"),null):new c.oi(a,b,d,e,g,f,h)},parse:function(a,b){var d=a.K.xw(b);if(d){if(d.format===c.Vd.xm)return this.Px(d.data);if(d.format===c.Vd.Qp)return this.Qx(d.data)}else return{D:[],yb:[],images:[],me:[]}},Px:function(a){a=a.trim();var b=[];a=a.split("\n");for(var c=a.length,e=0,g=0;g<a.length;g++){b[g]=[];for(var f=a[g].split(","),h=0;h<f.length;h++)b[g][h]=parseInt(f[h],
10);0===e&&(e=f.length)}return[{name:"csv",width:e,height:c,alpha:1,visible:!0,Vr:[],Kj:0,qm:0,data:b}]},Qx:function(a){if("orthogonal"!==a.orientation)return console.warn("TilemapParser.parseTiledJSON: Only orthogonal map types are supported in this version of Phaser"),null;var b={};b.width=a.width;b.height=a.height;b.Db=a.sm;b.lb=a.rm;b.orientation=a.orientation;b.version=a.version;b.Cb=a.Cb;b.Zf=b.width*b.Db;b.uf=b.height*b.lb;for(var d=[],e=0;e<a.D.length;e++)if("tilelayer"===a.D[e].type){var g=
{name:a.D[e].name,x:a.D[e].x,y:a.D[e].y,width:a.D[e].width,height:a.D[e].height,Zf:a.D[e].width*a.sm,uf:a.D[e].height*a.rm,alpha:a.D[e].opacity,visible:a.D[e].visible,Cb:{},Vr:[],sh:[]};a.D[e].Cb&&(g.Cb=a.D[e].Cb);for(var f=0,h=[],k=[],m=0,n=a.D[e].data.length;m<n;m++)0<a.D[e].data[m]?h.push(new c.we(g,a.D[e].data[m],f,k.length,a.sm,a.rm)):h.push(null),f++,f===a.D[e].width&&(k.push(h),f=0,h=[]);g.data=k;d.push(g)}b.D=d;f=[];for(e=0;e<a.D.length;e++)"imagelayer"===a.D[e].type&&(m={name:a.D[e].name,
ta:a.D[e].ta,x:a.D[e].x,y:a.D[e].y,alpha:a.D[e].opacity,visible:a.D[e].visible,Cb:{}},a.D[e].Cb&&(m.Cb=a.D[e].Cb),f.push(m));b.images=f;f={};for(e=0;e<a.D.length;e++)if("objectgroup"===a.D[e].type)for(f[a.D[e].name]=[],m=0,n=a.D[e].yb.length;m<n;m++)a.D[e].yb[m].Qr&&f[a.D[e].name].push({Qr:a.D[e].yb[m].Qr,name:a.D[e].yb[m].name,x:a.D[e].yb[m].x,y:a.D[e].yb[m].y,visible:a.D[e].yb[m].visible,Cb:a.D[e].yb[m].Cb});b.yb=f;f=[];for(e=0;e<a.me.length;e++)n=a.me[e],m=new c.oi(n.name,n.Yn,n.sm,n.rm,n.margin,
n.lm,n.Cb),n.Ty&&(m.rE=n.Ty),m.rows=(n.xD-n.margin)/(n.rm+n.lm),m.el=(n.yD-n.margin)/(n.sm+n.lm),m.total=m.rows*m.el,0===m.rows%1&&0===m.el%1||console.warn("TileSet image dimensions do not match expected dimensions."),f.push(m);b.me=f;b.Qd=[];for(e=0;e<b.me.length;e++)for(n=b.me[e],a=f=n.Kj,h=g=d=0,m=n.Yn;m<n.Yn+n.total;m++){b.Qd[m]=[f,a,e];f+=n.Db+n.qm;d++;if(d===n.total)break;g++;if(g===n.el&&(f=n.Kj,a+=n.lb+n.qm,g=0,h++,h===n.rows))break}return b}};c.oi=function(a,b,c,e,g,f,h){this.name=a;this.Yn=
b;this.Db=c;this.lb=e;this.Kj=g;this.qm=f;this.Cb=h;this.ta=null;this.total=this.el=this.rows=0};c.oi.prototype={};c.oi.prototype.constructor=c.oi;e.Rc.prototype.qa=function(a){e.Pd.length=0;e.ai.length=0;e.rd++;a.Oa();this.f.setTransform(1,0,0,1,0,0);c.du&&this.f.clearRect(0,0,this.width,this.height);this.Cj(a,!1);0<e.R.de.length&&(e.R.de.length=0)};e.Rc.prototype.Cj=function(a,b){var d=a.G.l;a=a.first;do if(a.visible||b){if(a.Ma&&0!==a.alpha)if(a instanceof e.v)a.g.frame&&(this.f.globalAlpha=a.cb,
c.eu?this.f.setTransform(a.t[0],a.t[3],a.t[1],a.t[4],Math.floor(a.t[2]),Math.floor(a.t[5])):this.f.setTransform(a.t[0],a.t[3],a.t[1],a.t[4],a.t[2],a.t[5]),a.g.ne&&this.f.transform(1,0,0,1,a.g.trim.x,a.g.trim.y),this.Pf&&this.tb!==a.g.A.tb&&(this.tb=a.g.A.tb,this.f[this.Pf]=this.tb===e.Fa.bg.LINEAR),this.f.drawImage(a.g.A.source,a.g.frame.x,a.g.frame.y,a.g.frame.width,a.g.frame.height,Math.floor(a.anchor.x*-a.g.frame.width),Math.floor(a.anchor.y*-a.g.frame.height),a.g.frame.width,a.g.frame.height));
else if(a instanceof e.wd)this.f.setTransform(a.t[0],a.t[3],a.t[1],a.t[4],a.t[2],a.t[5]),this.Ej(a);else if(a instanceof e.xd)this.f.setTransform(a.t[0],a.t[3],a.t[1],a.t[4],a.t[2],a.t[5]),this.dm(a);else if(a instanceof e.pe)a.Xh(this);else if(a instanceof e.S)this.f.setTransform(a.t[0],a.t[3],a.t[1],a.t[4],a.t[2],a.t[5]),e.Tg.Yh(a,this.f);else if(a instanceof e.ji&&a.data instanceof e.S){var l=a.data;if(a.open){this.f.save();var g=l.alpha,f=l.t;this.f.setTransform(f[0],f[3],f[1],f[4],f[2],f[5]);
l.cb=0.5;this.f.cb=0;e.Tg.pt(l,this.f);this.f.clip();l.cb=g}else this.f.restore()}a=a.l}else a=a.G.l;while(a!=d)};e.wa.prototype.update=function(){for(var a,b,c,l,g,f,h,k,m,n,p,r=0,q=this.head;q;){if(q.di===e.rd){b=q.g.frame.width;c=q.g.frame.height;l=q.anchor.x;g=q.anchor.y;f=b*(1-l);b*=-l;l=c*(1-g);g=c*-g;c=8*r;a=q.t;h=a[0];k=a[3];m=a[1];n=a[4];p=a[2];a=a[5];q.g.ne&&(p+=q.g.trim.x,a+=q.g.trim.y);this.sa[c+0]=h*b+m*g+p;this.sa[c+1]=n*g+k*b+a;this.sa[c+2]=h*f+m*g+p;this.sa[c+3]=n*g+k*f+a;this.sa[c+
4]=h*f+m*l+p;this.sa[c+5]=n*l+k*f+a;this.sa[c+6]=h*b+m*l+p;this.sa[c+7]=n*l+k*b+a;if(q.Eb||q.g.Eb)this.Si=!0,l=q.g,f=l.frame,b=l.A.width,l=l.A.height,this.da[c+0]=f.x/b,this.da[c+1]=f.y/l,this.da[c+2]=(f.x+f.width)/b,this.da[c+3]=f.y/l,this.da[c+4]=(f.x+f.width)/b,this.da[c+5]=(f.y+f.height)/l,this.da[c+6]=f.x/b,this.da[c+7]=(f.y+f.height)/l,q.Eb=!1;q.Bn!=q.cb&&(q.Bn=q.cb,f=4*r,this.kb[f]=this.kb[f+1]=this.kb[f+2]=this.kb[f+3]=q.cb,this.Ri=!0)}else c=8*r,this.sa[c+0]=0,this.sa[c+1]=0,this.sa[c+2]=
0,this.sa[c+3]=0,this.sa[c+4]=0,this.sa[c+5]=0,this.sa[c+6]=0,this.sa[c+7]=0;r++;q=q.La}};return c}"function"===typeof define&&define.GC?define(H):"object"===typeof exports?module.$C=H():H();!0;var J=new Phaser.$e(800,300,Phaser.fi,"gameContainer");J.state.add("Boot",BasicGame.Ep);J.state.add("Preloader",BasicGame.Hp);J.state.add("MainMenu",BasicGame.Gp);J.state.add("Game",BasicGame.$e);J.state.add("Car",BasicGame.Fp);J.state.add("Spaceship",BasicGame.Lp);J.state.add("bearBuilding",BasicGame.Xk);J.state.start("Boot");